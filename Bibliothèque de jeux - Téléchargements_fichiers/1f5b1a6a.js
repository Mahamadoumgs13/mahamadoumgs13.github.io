(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"6ejF":function(e,t,n){(function(e){(function(t){"use strict";var n=function(){this.__data__=[],this.size=0},r=function(e,t){return e===t||e!==e&&t!==t},i=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1},o=Array.prototype.splice,a=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)},c=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]},s=function(e){return i(this.__data__,e)>-1},u=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}p.prototype.clear=n,p.prototype.delete=a,p.prototype.get=c,p.prototype.has=s,p.prototype.set=u;var l=p,f=function(){this.__data__=new l,this.size=0},y=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},d=function(e){return this.__data__.get(e)},_=function(e){return this.__data__.has(e)},v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function h(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function E(e,t){return e(t={exports:{}},t.exports),t.exports}function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m="object"==g(v)&&v&&v.Object===Object&&v;function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T="object"==("undefined"===typeof self?"undefined":I(self))&&self&&self.Object===Object&&self,S=m||T||Function("return this")(),A=S.Symbol,O=Object.prototype,b=O.hasOwnProperty,R=O.toString,N=A?A.toStringTag:void 0,C=function(e){var t=b.call(e,N),n=e[N];try{e[N]=void 0;var r=!0}catch(o){}var i=R.call(e);return r&&(t?e[N]=n:delete e[N]),i},P=Object.prototype.toString,w=function(e){return P.call(e)},V="[object Null]",M="[object Undefined]",L=A?A.toStringTag:void 0,D=function(e){return null==e?void 0===e?M:V:L&&L in Object(e)?C(e):w(e)};function U(e){return(U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k=function(e){var t=U(e);return null!=e&&("object"==t||"function"==t)},F="[object AsyncFunction]",j="[object Function]",G="[object GeneratorFunction]",B="[object Proxy]",H=function(e){if(!k(e))return!1;var t=D(e);return t==j||t==G||t==F||t==B},W=S["__core-js_shared__"],Y=function(){var e=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),x=function(e){return!!Y&&Y in e},K=Function.prototype.toString,z=function(e){if(null!=e){try{return K.call(e)}catch(t){}try{return e+""}catch(t){}}return""},q=/^\[object .+?Constructor\]$/,J=Function.prototype,X=Object.prototype,Z=J.toString,Q=X.hasOwnProperty,$=RegExp("^"+Z.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=function(e){return!(!k(e)||x(e))&&(H(e)?$:q).test(z(e))},te=function(e,t){return null==e?void 0:e[t]},ne=function(e,t){var n=te(e,t);return ee(n)?n:void 0},re=ne(S,"Map"),ie=ne(Object,"create"),oe=function(){this.__data__=ie?ie(null):{},this.size=0},ae=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ce="__lodash_hash_undefined__",se=Object.prototype.hasOwnProperty,ue=function(e){var t=this.__data__;if(ie){var n=t[e];return n===ce?void 0:n}return se.call(t,e)?t[e]:void 0},pe=Object.prototype.hasOwnProperty,le=function(e){var t=this.__data__;return ie?void 0!==t[e]:pe.call(t,e)},fe="__lodash_hash_undefined__",ye=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ie&&void 0===t?fe:t,this};function de(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}de.prototype.clear=oe,de.prototype.delete=ae,de.prototype.get=ue,de.prototype.has=le,de.prototype.set=ye;var _e=de,ve=function(){this.size=0,this.__data__={hash:new _e,map:new(re||l),string:new _e}};function he(e){return(he="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ee=function(e){var t=he(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},ge=function(e,t){var n=e.__data__;return Ee(t)?n["string"==typeof t?"string":"hash"]:n.map},me=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},Ie=function(e){return ge(this,e).get(e)},Te=function(e){return ge(this,e).has(e)},Se=function(e,t){var n=ge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ae.prototype.clear=ve,Ae.prototype.delete=me,Ae.prototype.get=Ie,Ae.prototype.has=Te,Ae.prototype.set=Se;var Oe=Ae,be=200,Re=function(e,t){var n=this.__data__;if(n instanceof l){var r=n.__data__;if(!re||r.length<be-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oe(r)}return n.set(e,t),this.size=n.size,this};function Ne(e){var t=this.__data__=new l(e);this.size=t.size}Ne.prototype.clear=f,Ne.prototype.delete=y,Ne.prototype.get=d,Ne.prototype.has=_,Ne.prototype.set=Re;var Ce=Ne,Pe=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},we=function(){try{var e=ne(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ve=function(e,t,n){"__proto__"==t&&we?we(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Me=Object.prototype.hasOwnProperty,Le=function(e,t,n){var i=e[t];Me.call(e,t)&&r(i,n)&&(void 0!==n||t in e)||Ve(e,t,n)},De=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var c=t[o],s=r?r(n[c],e[c],c,n,e):void 0;void 0===s&&(s=e[c]),i?Ve(n,c,s):Le(n,c,s)}return n},Ue=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};function ke(e){return(ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Fe=function(e){return null!=e&&"object"==ke(e)},je="[object Arguments]",Ge=function(e){return Fe(e)&&D(e)==je},Be=Object.prototype,He=Be.hasOwnProperty,We=Be.propertyIsEnumerable,Ye=Ge(function(){return arguments}())?Ge:function(e){return Fe(e)&&He.call(e,"callee")&&!We.call(e,"callee")},xe=Array.isArray,Ke=function(){return!1},ze=E((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?S.Buffer:void 0,o=(i?i.isBuffer:void 0)||Ke;e.exports=o}));function qe(e){return(qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Je=9007199254740991,Xe=/^(?:0|[1-9]\d*)$/,Ze=function(e,t){var n=qe(e);return!!(t=null==t?Je:t)&&("number"==n||"symbol"!=n&&Xe.test(e))&&e>-1&&e%1==0&&e<t},Qe=9007199254740991,$e=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Qe},et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt=function(e){return Fe(e)&&$e(e.length)&&!!et[D(e)]},nt=function(e){return function(t){return e(t)}},rt=E((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&m.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),it=rt&&rt.isTypedArray,ot=it?nt(it):tt,at=Object.prototype.hasOwnProperty,ct=function(e,t){var n=xe(e),r=!n&&Ye(e),i=!n&&!r&&ze(e),o=!n&&!r&&!i&&ot(e),a=n||r||i||o,c=a?Ue(e.length,String):[],s=c.length;for(var u in e)!t&&!at.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ze(u,s))||c.push(u);return c},st=Object.prototype,ut=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)},pt=function(e,t){return function(n){return e(t(n))}},lt=pt(Object.keys,Object),ft=Object.prototype.hasOwnProperty,yt=function(e){if(!ut(e))return lt(e);var t=[];for(var n in Object(e))ft.call(e,n)&&"constructor"!=n&&t.push(n);return t},dt=function(e){return null!=e&&$e(e.length)&&!H(e)},_t=function(e){return dt(e)?ct(e):yt(e)},vt=function(e,t){return e&&De(t,_t(t),e)},ht=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Et=Object.prototype.hasOwnProperty,gt=function(e){if(!k(e))return ht(e);var t=ut(e),n=[];for(var r in e)("constructor"!=r||!t&&Et.call(e,r))&&n.push(r);return n},mt=function(e){return dt(e)?ct(e,!0):gt(e)},It=function(e,t){return e&&De(t,mt(t),e)},Tt=E((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?S.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}})),St=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},At=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},Ot=function(){return[]},bt=Object.prototype.propertyIsEnumerable,Rt=Object.getOwnPropertySymbols,Nt=Rt?function(e){return null==e?[]:(e=Object(e),At(Rt(e),(function(t){return bt.call(e,t)})))}:Ot,Ct=function(e,t){return De(e,Nt(e),t)},Pt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},wt=pt(Object.getPrototypeOf,Object),Vt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Pt(t,Nt(e)),e=wt(e);return t}:Ot,Mt=function(e,t){return De(e,Vt(e),t)},Lt=function(e,t,n){var r=t(e);return xe(e)?r:Pt(r,n(e))},Dt=function(e){return Lt(e,_t,Nt)},Ut=function(e){return Lt(e,mt,Vt)},kt=ne(S,"DataView"),Ft=ne(S,"Promise"),jt=ne(S,"Set"),Gt=ne(S,"WeakMap"),Bt=z(kt),Ht=z(re),Wt=z(Ft),Yt=z(jt),xt=z(Gt),Kt=D;(kt&&"[object DataView]"!=Kt(new kt(new ArrayBuffer(1)))||re&&"[object Map]"!=Kt(new re)||Ft&&"[object Promise]"!=Kt(Ft.resolve())||jt&&"[object Set]"!=Kt(new jt)||Gt&&"[object WeakMap]"!=Kt(new Gt))&&(Kt=function(e){var t=D(e),n="[object Object]"==t?e.constructor:void 0,r=n?z(n):"";if(r)switch(r){case Bt:return"[object DataView]";case Ht:return"[object Map]";case Wt:return"[object Promise]";case Yt:return"[object Set]";case xt:return"[object WeakMap]"}return t});var zt=Kt,qt=Object.prototype.hasOwnProperty,Jt=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&qt.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Xt=S.Uint8Array,Zt=function(e){var t=new e.constructor(e.byteLength);return new Xt(t).set(new Xt(e)),t},Qt=function(e,t){var n=t?Zt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},$t=/\w*$/,en=function(e){var t=new e.constructor(e.source,$t.exec(e));return t.lastIndex=e.lastIndex,t},tn=A?A.prototype:void 0,nn=tn?tn.valueOf:void 0,rn=function(e){return nn?Object(nn.call(e)):{}},on=function(e,t){var n=t?Zt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},an="[object Boolean]",cn="[object Date]",sn="[object Map]",un="[object Number]",pn="[object RegExp]",ln="[object Set]",fn="[object String]",yn="[object Symbol]",dn="[object ArrayBuffer]",_n="[object DataView]",vn="[object Float32Array]",hn="[object Float64Array]",En="[object Int8Array]",gn="[object Int16Array]",mn="[object Int32Array]",In="[object Uint8Array]",Tn="[object Uint8ClampedArray]",Sn="[object Uint16Array]",An="[object Uint32Array]",On=function(e,t,n){var r=e.constructor;switch(t){case dn:return Zt(e);case an:case cn:return new r(+e);case _n:return Qt(e,n);case vn:case hn:case En:case gn:case mn:case In:case Tn:case Sn:case An:return on(e,n);case sn:return new r;case un:case fn:return new r(e);case pn:return en(e);case ln:return new r;case yn:return rn(e)}},bn=Object.create,Rn=function(){function e(){}return function(t){if(!k(t))return{};if(bn)return bn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Nn=function(e){return"function"!=typeof e.constructor||ut(e)?{}:Rn(wt(e))},Cn="[object Map]",Pn=function(e){return Fe(e)&&zt(e)==Cn},wn=rt&&rt.isMap,Vn=wn?nt(wn):Pn,Mn="[object Set]",Ln=function(e){return Fe(e)&&zt(e)==Mn},Dn=rt&&rt.isSet,Un=Dn?nt(Dn):Ln,kn=1,Fn=2,jn=4,Gn="[object Arguments]",Bn="[object Function]",Hn="[object GeneratorFunction]",Wn="[object Object]",Yn={};Yn[Gn]=Yn["[object Array]"]=Yn["[object ArrayBuffer]"]=Yn["[object DataView]"]=Yn["[object Boolean]"]=Yn["[object Date]"]=Yn["[object Float32Array]"]=Yn["[object Float64Array]"]=Yn["[object Int8Array]"]=Yn["[object Int16Array]"]=Yn["[object Int32Array]"]=Yn["[object Map]"]=Yn["[object Number]"]=Yn[Wn]=Yn["[object RegExp]"]=Yn["[object Set]"]=Yn["[object String]"]=Yn["[object Symbol]"]=Yn["[object Uint8Array]"]=Yn["[object Uint8ClampedArray]"]=Yn["[object Uint16Array]"]=Yn["[object Uint32Array]"]=!0,Yn["[object Error]"]=Yn[Bn]=Yn["[object WeakMap]"]=!1;var xn=function e(t,n,r,i,o,a){var c,s=n&kn,u=n&Fn,p=n&jn;if(r&&(c=o?r(t,i,o,a):r(t)),void 0!==c)return c;if(!k(t))return t;var l=xe(t);if(l){if(c=Jt(t),!s)return St(t,c)}else{var f=zt(t),y=f==Bn||f==Hn;if(ze(t))return Tt(t,s);if(f==Wn||f==Gn||y&&!o){if(c=u||y?{}:Nn(t),!s)return u?Mt(t,It(c,t)):Ct(t,vt(c,t))}else{if(!Yn[f])return o?t:{};c=On(t,f,s)}}a||(a=new Ce);var d=a.get(t);if(d)return d;a.set(t,c),Un(t)?t.forEach((function(i){c.add(e(i,n,r,i,t,a))})):Vn(t)&&t.forEach((function(i,o){c.set(o,e(i,n,r,o,t,a))}));var _=p?u?Ut:Dt:u?keysIn:_t,v=l?void 0:_(t);return Pe(v||t,(function(i,o){v&&(i=t[o=i]),Le(c,o,e(i,n,r,o,t,a))})),c},Kn=1,zn=4,qn=function(e){return xn(e,Kn|zn)},Jn="[object String]",Xn=function(e){return"string"==typeof e||!xe(e)&&Fe(e)&&D(e)==Jn},Zn=function(e){return"string"===typeof e},Qn=function(e){return function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}(e,"Date")},$n=function(e){return null===e||void 0===e},er={EVENT:{LoggedIn:{eventType:1,endpoint:"login"},Click:{eventType:2,endpoint:"click"},Search:{eventType:3,endpoint:"search"},Cart:{eventType:4,endpoint:"cart"},Purchase:{eventType:5,endpoint:"purchase"},LoggedOut:{eventType:6,endpoint:"logout"},PromotionAd:{eventType:7,endpoint:"adPromotion"},VideoPreview:{eventType:8,endpoint:"video/preview"},Recommend:{eventType:9,endpoint:"recommendation"},Download:{eventType:10,endpoint:"download"},VideoStream:{eventType:11,endpoint:"video/stream"},PageView:{eventType:12,endpoint:"pageView"},Voucher:{eventType:13,endpoint:"voucher"},Navigation:{eventType:14},Interact:{eventType:15,endpoint:"interact"},ActivityPost:{eventType:16,endpoint:"activity"},Reg:{eventType:17,endpoint:"reg"},Impression:{eventType:18,endpoint:"impression"},Cam:{eventType:19,endpoint:"cam"},Optimus:{eventType:20,endpoint:"optimus"},CommunityModify:{eventType:21,endpoint:"community/modify"},CommunityUser:{eventType:22,endpoint:"community/user"},CommunityPost:{eventType:23,endpoint:"community/post"},List:{eventType:24,endpoint:"list"},MessagePost:{eventType:28,endpoint:"messagepost"},Startup:{eventType:30,endpoint:"startup"},Error:{eventType:99,endpoint:"error"},UserFacingError:{eventType:100,endpoint:"errorUver"}},DEVICE_TYPE:{WEB:201,PS3:202,VITA:203,HE:204,XPERIA:205,PS4:206,PS4K:206,WEB_MOBILE:207,MWEB:207,COMP_APP:208,PSNOW_BETA:209,SEN_TV:210,TV:210,FRIEND_APP:211,PSNOW_VITA:212,PSNOW_VITA_TV:213,AAVU:214,IPHONE_VIDEO:215,PSNOW_CE:216,PSNOW_SUBSCRIPTION:217,PSNOW_PC:222,PS4_SOCIAL:223,PS4_REGCAM:224,SOCIAL_WEB_PC:225,SOCIAL_WEB_MOBILE:226,SOCIAL_TOOLBAR_PC:227,SOCIAL_TOOLBAR_MOBILE:228,WEB_STORE_PC:229,WEB_STORE_MOBILE:230,PODRACER:233,PS4_VIDEO:236,ANDROID_TV:237,ANDROID:238,IOS:239,ROKU:240,FIRE_TV:241,APPLE_TV:242,CHROMECAST:243},IMPACT:{CRITICAL:0,MAJOR:1,MINOR:2,NORMAL:3,INFO:4}};function tr(){return(tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}er.URL={EVENT:"https://event.api.{{env}}.km.playstation.net/event/"};var nr=function(e){if(void 0===e)return!1;var t=e.event,n=e.payload,r=void 0===n?{}:n,i=e.properties,o=e.validations;return i?!!o[String(t.type)](e)&&(tr(r,function(e,t){return Object.keys(e).reduce((function(n,r){var i=e[r](t);return void 0!==i&&(n[r]=i),n}),{})}(i,e)),r):(e.logger.warning("[KamajiPlugin] Unsupported event type.",{eventType:t.type,pluginName:e.pluginName}),!1)},rr=function(e){return e.environment.deviceId},ir=new RegExp("(".concat(["&quot;","&rsquo;",'"',"&","'","#","\\$","%","\\^","\\*","!","<",">","~",";","\\?","\u2122","\xae","\xa9",":"].join("|"),")"),"g"),or=function(){function e(){}return e.truncateJsonToString=function(e,t,n){if(!e)return"";var r=JSON.stringify(e);if(r.length<=t)return r;for(var i=n+"...".length,o=Object.keys(e).map((function(t){var n=e[t];return{key:t,value:n,output:function(e){return"number"===typeof e}(n)||"undefined"===typeof n?"":Zn(n)?n:JSON.stringify(n)}}));r.length>t&&o.length>0;){o.sort((function(e,t){return t.output.length-e.output.length}));var a=o[0];if(a.output.length<=i)break;Zn(a.value)||(a.value=a.output,e[a.key]=a.value,r=JSON.stringify(e));var c=Math.max(a.value.length-(r.length-t),Math.floor(a.value.length/2),i);a.value=a.value.substring(0,c-"...".length)+"...",a.output=a.value,e[a.key]=a.value,r=JSON.stringify(e)}return r},e.cleanUpString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return"";var r=String(e);return r=r.replace(ir,""),t&&(r=r.replace(t,"")),r=r.replace(/[ ]{2,}/," ").replace(/\s?:\s?/g,":").replace(/(^\s+|\s+$)/g,""),n?r.toLowerCase():r},e.cleanUpLocationString=function(t){for(var n=[],r=t.split(":"),i=0;i<r.length;i+=1)r[i]&&n.push(e.cleanUpString(r[i]));return n.join(":")},e}(),ar=function(e){var t=e.event,n=e.environment;return or.cleanUpString(t.overrideAppName||n.appName)},cr={accessToken:function(){},accountId:function(e){var t=e.environment;return t.visitorId||rr({environment:t})},appName:ar,buildVersion:function(e){var t=e.event,n=e.environment,r=e.gctVersion,i=or.cleanUpString(t.overrideBuildVersion||n.buildVersion);return"BuildNum:".concat(ar({event:t,environment:n}),"|").concat(i,"|gct_v").concat(r)},deviceId:rr,shortTermId:function(e){return e.event.shortTermId},deviceType:function(e){var t,n=e.environment,r=e.config,i=e.pluginName,o=e.logger,a=n.deviceType.toUpperCase();if(r.overrideDeviceType)t=r.overrideDeviceType;else{if(!er.DEVICE_TYPE[a])return o.warning("[Kamaji] Unknown deviceType provided",{pluginName:i,deviceType:n.deviceType}),!1;t=er.DEVICE_TYPE[a]}return t},eventType:function(e){var t=e.event,n=e.EVENT_CONSTANTS,r=void 0===n?{}:n;return function(e,t){var n=t[e];if(void 0===n)throw new TypeError("invalid type: ".concat(JSON.stringify(e)));return n.eventType}(t.type,r)},ipAddress:function(){return""},time:function(e){var t=e.event,n=Qn(t.time)&&!isNaN(t.time.valueOf())?t.time:new Date;return n.toISOString()},storeCountryCode:function(e){var t,n=e.environment;return Zn(n.locale)&&(t=n.locale,/^[a-z]{2}_(?:[a-z]{2}){1,2}(?:_[a-z]{2})?$/i.test(t))?n.locale.substr(3,2):"US"}},sr={data:function(e){var t=e.event,n={errorDesc:t.description,errorUrl:t.apiUrl,errorStack:t.stack};return t.errorMetadata&&Object.keys(t.errorMetadata).filter((function(e){return!n[e]})).forEach((function(e){n[e]=t.errorMetadata[e]})),or.truncateJsonToString(n,1536,15)},errorCode:function(e){var t,n=e.event,r=e.logger;return"undefined"===typeof n.error?(r.warning("event.error is missing"),!1):"undefined"===typeof n.code?(r.warning("event.code is missing"),!1):(t=parseInt(n.code,10),isNaN(t)&&(r.warning("event.code is not a number: ".concat(n.code),{code:n.code}),t=null),t)},expId:function(){return""},feature:function(e){var t=e.logger,n=e.locationSegments,r=(void 0===n?[]:n).slice(0,2).join(":");return r.length>16&&(t.warning("Length of feature exceeds ".concat(16," chars limit for: '").concat(r,"'")),r=r.substr(0,16)),r},impact:function(e){var t=e.event,n=e.pluginName;return function(e,t){var n="string"===typeof e?e.toUpperCase():e;if("undefined"!==typeof n){if(n in er.IMPACT)return er.IMPACT[n];throw new Error("Severity '".concat(e,"' not supported by ").concat(t," plugin"))}}(t.severity,n)},major:function(e){var t=e.logger,n=e.locationSegments,r=(void 0===n?[]:n).slice(2,3).join(":");return r.length>16&&(t.warning("Length of major exceeds ".concat(16," chars limit for: '").concat(r,"'")),r=r.substr(0,16)),r},minor:function(e){var t=e.event,n=e.logger,r=or.cleanUpString(t.error);return r.length>32&&(n.warning("Event.minor exceeds maximum character limit.",{maxLength:32,value:r}),r=r.substr(0,32)),r}};function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pr={Startup:function(){return!0},UserFacingError:function(e){var t=e.event,n=e.logger;if("UserFacingError"===t.type){if("undefined"===typeof t.error)return n.warning("event.error is missing"),!1;if("undefined"===typeof t.code)return n.warning("event.code is missing"),!1}return!0}},lr={Startup:ur({},cr,{currentPageUrl:function(e){return e.event.url},deeplink:function(e){return e.event.deeplink},location:function(e){return e.event.location},locationType:function(e){return e.event.locationType},plusUser:function(e){return e.environment.isPlusUser},privacySettings:function(e){return e.environment.platformPrivacyWs1},startupContext:function(e){return e.event.startupContext},startupType:function(e){return e.event.startupType},userAgent:function(){return"undefined"!==typeof navigator&&navigator&&navigator.userAgent||void 0}}),UserFacingError:ur({},cr,sr)},fr=function(e){return e?e.split(":").filter((function(e){return e})).map((function(e){return or.cleanUpString(e)})):[]},yr=function(){function e(){}var t=e.prototype;return t.emergency=function(){},t.alert=function(){},t.critical=function(){},t.error=function(){},t.warning=function(){},t.notice=function(){},t.info=function(){},t.debug=function(){},t.log=function(){},e}();function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var vr=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t,n,r,i)||this).properties=_r({},lr),o.validations=_r({},pr),o.eventConstants=_r({},er.EVENT),o._xhr=n.xhr,Object.keys(o.config.customEventsDefinition||{}).forEach((function(e){var t=o.config.customEventsDefinition[e],n=t.validate,r=t.eventType,i=t.batchName,a=t.endpoint,c=t.sendImmediately,s=t.payload,u=n||function(){return!0};if(void 0===o.eventConstants[e]){if($n(r)||$n(i)||$n(a))return void o.logger.warn("kamaji: customEventsDefinition missing properties for ".concat(e,"."));o.eventConstants[e]={eventType:r,batchName:i,endpoint:a,sendImmediately:c}}else $n(r)&&$n(i)&&$n(a)&&$n(c)||o.logger.warn("kamaji: The following properties are read-only (eventType, batchName, endpoint, sendImmediately).");$n(s)?o.logger.warn("kamaji: customEventsDefinition missing payload for ".concat(e,".")):function(e,t,n){void 0===o.properties[e]?(o.properties[e]=_r({},t,cr),o.validations[e]=n):o.logger.warn("kamaji: Cannot extend properties, key ".concat(e," already exists."))}(e,s,u)})),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.buildPayload=function(e,t){var n=t.event,r=t.gctVersion,i=this.properties[String(n.type)];if(!i)return this.logger.warning("[KamajiPlugin] Unsupported event type.",{eventType:n.type,pluginName:this.pluginName}),!1;var o={event:n,config:this.config,environment:this.environment,gctVersion:r,locationSegments:fr(n.location),logger:this.logger,payload:{},pluginName:this.pluginName,validations:this.validations,properties:i,EVENT_CONSTANTS:this.eventConstants};return nr(o)},i.sendPayload=function(e,t,n){var r=function(e,t){return function(e){return e?"/"===e.substr(-1)?e:"".concat(e,"/"):"/"}((e.eventUrl||er.URL.EVENT).replace("{{env}}",e.env||"e1-np"))+t}(n.config,function(e,t){var n=Object.keys(t).find((function(n){return t[n].eventType===e}));return"undefined"===typeof n?{}:t[n]}(e.eventType,this.eventConstants).endpoint),i={"Content-Type":"application/json; charset=utf-8"},o=function(e){return e?"[".concat(JSON.stringify(e),"]"):null}(e);this._xhr("POST",r,i,o)},r}(function(){function e(e,t,n,r){this.environment=e||{},this.config=t||{},this.__logger=this.config.__logger||new yr,this.__pluginName=n,this.__serviceLocator=r,this._useAsyncInterface=!1}var t,n,r,i=e.prototype;return i._dispatchAsync=function(e){var t=this;return Promise.resolve(null).then((function(){var n=t.buildPayloadAsync(e);return n?(t.config.dryRun||t.sendPayloadAsync(n,e),n):n}))},i._dispatchSync=function(e,t){var n=this.buildPayload(e,t);return n?(this._logEventPayload(e,n),this.config.dryRun?this.logger.warning("Not sending ".concat(e.type," event to ").concat(this.pluginName," (dry run)")):this.sendPayload(n,e,t)):!1===n&&this.logger.warning("Could not build payload for ".concat(e.type," event to ").concat(this.pluginName,"!")),this.config.dryRun?null:n},i.dispatch=function(e,t){return this._useAsyncInterface?this._dispatchAsync(t):this._dispatchSync(e,t)},i._logEventPayload=function(e,t){var n=e&&e.type||"Unknown";this.logger.debug("".concat(this.pluginName," ").concat(n," Sending payload."),{payload:t})},i.buildPayload=function(e,t){return this.logger.warning("".concat(this.constructor.name,".buildPayload() is not implemented by plugin!")),{}},i.buildPayloadAsync=function(e){throw new Error("Method buildPayloadAsync is abstract.")},i.sendPayload=function(e,t,n){this.logger.warning("".concat(this.constructor.name,".sendPayload() is not implemented by plugin!"))},i.sendPayloadAsync=function(e,t){throw new Error("Method sendPayloadAsync is abstract.")},t=e,(n=[{key:"pluginName",get:function(){return this.__pluginName}},{key:"serviceLocator",get:function(){return this.__serviceLocator}},{key:"logger",get:function(){return this.__logger}}])&&dr(t.prototype,n),r&&dr(t,r),e}());function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Er(e){return(Er="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gr=E((function(e,t){e.exports=function e(t,n,r){function i(a,c){if(!n[a]){if(!t[a]){if(!c&&h)return h();if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return i(n||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=h,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(e){var t=Array.prototype.map.call(e,(function(e){return e.charCodeAt(0)})),n=new ArrayBuffer(t.length),r=new Uint8Array(n);return t.length&&r.set(t),n}function i(e){return unescape(encodeURIComponent(e||""))}function o(e,t){return e.startTimestamp<t.startTimestamp?-1:e.startTimestamp>t.startTimestamp?1:e.latency<t.latency?-1:e.latency>t.latency?1:0}function a(e,t,n){if(e.byteLength<t+n.byteLength)throw new Error("_copyBytes() insufficient space remaining in dest for elements in src");for(var r=new Uint8Array(e),i=new Uint8Array(n),o=0;o<i.length;o++)r[o+t]=i[o]}function c(e){var t={url:e.url};t.async=void 0===e.async||e.async,t.type=e.type||"GET",t.headers=e.headers||{},t.data=e.data||null,t.timeout=~~e.timeout,t.success="function"===typeof e.success?e.success:function(){},t.error="function"===typeof e.error?e.error:function(){};var n=new XMLHttpRequest;n.open(t.type,t.url,t.async),n.timeout=t.timeout,Object.keys(t.headers).forEach((function(e){n.setRequestHeader(e,t.headers[e])})),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?t.success(n.responseText,n):t.error(n.responseText,n))},n.send(t.data)}function s(){}s.prototype.BYTES_PER_METRIC=16,s.prototype.PROTOCOL_VERSION=3,s.prototype.SESSION_EXPIRE_MS=18e5,s.prototype.initialize=function(e,t,n,r,i,o,a){if(null!==e&&"object"===Er(e))this._initializeOptionsObject(e);else{var c={deviceId:e,buildVersion:t,dataStore:n,accountId:i,url:r,xhr:o,afterInit:a};this._initializeOptionsObject(c)}},s.prototype._initializeOptionsObject=function(e){this.protocolVersion=this.PROTOCOL_VERSION,this.deviceId=e.deviceId,this.dataStore=e.dataStore,this.accountId=e.accountId,this.appName=e.appName,this.buildVersion=e.buildVersion,this.networkType=e.networkType,this.platformVersion=e.platformVersion,this.screenInfo=e.screenInfo,this.expId=e.expId,this.keyMap={},this.url=e.url,this.expUrl=e.url.replace("/clairvoyance/","/clairvoyance/exp/")+"?DeviceID="+encodeURIComponent(e.deviceId||""),this.deviceIdBytes=r(i(e.deviceId)),this.accountIdBytes=r(i(e.accountId)),this.buildVersionBytes=r(i(e.buildVersion)),this.expIdBytes=r(i(e.expId)),this.appNameBytes=r(i(e.appName)),this.networkTypeBytes=r(i(e.networkType)),this.platformVersionBytes=r(i(e.platformVersion)),this.screenInfoBytes=r(i(e.screenInfo)),this.useExperimentalVersion31=e.useExperimentalVersion31||!1;var t=Int8Array.BYTES_PER_ELEMENT+Int8Array.BYTES_PER_ELEMENT+Float64Array.BYTES_PER_ELEMENT+Int16Array.BYTES_PER_ELEMENT+Float64Array.BYTES_PER_ELEMENT+Int16Array.BYTES_PER_ELEMENT+this.buildVersionBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.deviceIdBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.accountIdBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.expIdBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.appNameBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.networkTypeBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.platformVersionBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.screenInfoBytes.byteLength;this.bytesToSendHeader=t,this.xhr="function"===typeof e.xhr?e.xhr:c,"function"===typeof e.afterInit&&e.afterInit()},s.prototype._getSessionString=function(){var e=this.dataStore.getSessionString();return e||(e=Date.now()+","+Math.random()+","+-1+"|-1",this.dataStore.saveSessionString(e)),e},s.prototype.start=function(e){this.keyMap[e]=Date.now()},s.prototype.stop=function(e){this.sendLatencyData(this,[{metric:e,startTimestamp:this.keyMap[e],latency:Date.now()-this.keyMap[e]}]),this.keyMap[e]=null},s.prototype.sendLatencyData=function(e,t,n,c,s){var u=this._getSessionInfo(),p=this.useExperimentalVersion31?1:0,l=r(i(c)),f=r(i(s));e=e.sort(o).map(function(e){return this.useExperimentalVersion31&&(e.bootInfoBytes=e.bootInfo?r(i(e.bootInfo)):l,e.metricInfoBytes=r(i(e.metricInfo))),e}.bind(this));var y=this.bytesToSendHeader+e.length*this.BYTES_PER_METRIC+f.byteLength+Int16Array.BYTES_PER_ELEMENT;this.useExperimentalVersion31?e.forEach(function(e){y+=Int16Array.BYTES_PER_ELEMENT+e.bootInfoBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+e.metricInfoBytes.byteLength}.bind(this)):y+=l.byteLength+Int16Array.BYTES_PER_ELEMENT;var d=e[0].startTimestamp,_=new ArrayBuffer(y),v=new DataView(_),h=0;v.setInt8(h,this.protocolVersion,!1),h+=Int8Array.BYTES_PER_ELEMENT,v.setInt8(h,p,!1),h+=Int8Array.BYTES_PER_ELEMENT,v.setFloat64(h,u.sessionId,!1),h+=Float64Array.BYTES_PER_ELEMENT,v.setInt16(h,u.sequence,!1),h+=Int16Array.BYTES_PER_ELEMENT,v.setFloat64(h,d,!1),h+=Float64Array.BYTES_PER_ELEMENT,v.setInt16(h,this.buildVersionBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.buildVersionBytes),h+=this.buildVersionBytes.byteLength,v.setInt16(h,this.deviceIdBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.deviceIdBytes),h+=this.deviceIdBytes.byteLength,v.setInt16(h,this.accountIdBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.accountIdBytes),h+=this.accountIdBytes.byteLength,v.setInt16(h,this.expIdBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.expIdBytes),h+=this.expIdBytes.byteLength,v.setInt16(h,this.appNameBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.appNameBytes),h+=this.appNameBytes.byteLength,v.setInt16(h,this.networkTypeBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.networkTypeBytes),h+=this.networkTypeBytes.byteLength,this.useExperimentalVersion31||(v.setInt16(h,l.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,l),h+=l.byteLength),v.setInt16(h,f.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,f),h+=f.byteLength,v.setInt16(h,this.platformVersionBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.platformVersionBytes),h+=this.platformVersionBytes.byteLength,v.setInt16(h,this.screenInfoBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.screenInfoBytes),h+=this.screenInfoBytes.byteLength;var E=u.previousMetric;e.forEach(function(e){v.setInt32(h,e.metric,!1),h+=Int32Array.BYTES_PER_ELEMENT,this.useExperimentalVersion31&&(v.setInt16(h,e.metricInfoBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,e.metricInfoBytes),h+=e.metricInfoBytes.byteLength),v.setInt32(h,E,!1),h+=Int32Array.BYTES_PER_ELEMENT,v.setInt32(h,e.latency,!1),h+=Int32Array.BYTES_PER_ELEMENT,v.setInt32(h,e.startTimestamp-d,!1),h+=Int32Array.BYTES_PER_ELEMENT,this.useExperimentalVersion31&&(v.setInt16(h,e.bootInfoBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,e.bootInfoBytes),h+=e.bootInfoBytes.byteLength),E=e.metric}.bind(this)),this.xhr({url:this.url,type:"POST",data:_,headers:{"Content-type":"application/octet-stream"},success:t,error:n}),this._updateSessionInfo(E)},s.prototype._getSessionInfo=function(){var e,t=this._getSessionString(),n=t.split("|"),r=n[0].split(","),i=r[0],o=r[1],a=parseInt(r[2]),c=Date.now(),s=n[1],u=!1;n.length<3&&(u=!0),(c-i>this.SESSION_EXPIRE_MS||u)&&(o=Math.random(),a=-1,s=-1);var p=(i=c)+","+(e={sessionId:o,sequence:a+1,previousMetric:s}).sessionId+","+e.sequence;return n[0]=p,t=n.join("|"),this.dataStore.saveSessionString(t),e},s.prototype._updateSessionInfo=function(e){var t=this._getSessionString(),n=t.split("|");n[1]=e,t=n.join("|"),this.dataStore.saveSessionString(t)},t.exports=s},{}]},{},[1])(1)})),mr=function(e){return function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}(e,"Object")},Ir=function(){function e(){}var t=e.prototype;return t.emergency=function(){},t.alert=function(){},t.critical=function(){},t.error=function(){},t.warn=function(){},t.warning=function(){},t.notice=function(){},t.info=function(){},t.debug=function(){},t.log=function(){},e}();function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Sr=function(){function e(e,t,n,r){this.environment=e||{},this.config=t||{},this.__logger=this.config.__logger||new Ir,this.__pluginName=n,this.__serviceLocator=r,this._useAsyncInterface=!1}var t,n,r,i=e.prototype;return i._dispatchAsync=function(e){var t=this;return Promise.resolve(null).then((function(){var n=t.buildPayloadAsync(e);return n?(t.config.dryRun||t.sendPayloadAsync(n,e),n):n}))},i._dispatchSync=function(e,t){var n=this.buildPayload(e,t);return n?(this._logEventPayload(e,n),this.config.dryRun?this.logger.warning("Not sending ".concat(e.type," event to ").concat(this.pluginName," (dry run)")):this.sendPayload(n,e,t)):!1===n&&this.logger.warning("Could not build payload for ".concat(e.type," event to ").concat(this.pluginName,"!")),this.config.dryRun?null:n},i.dispatch=function(e,t){return this._useAsyncInterface?this._dispatchAsync(t):this._dispatchSync(e,t)},i._logEventPayload=function(e,t){var n=e&&e.type||"Unknown";this.logger.debug("".concat(this.pluginName," ").concat(n," Sending payload."),{payload:t})},i.buildPayload=function(e,t){return this.logger.warning("".concat(this.constructor.name,".buildPayload() is not implemented by plugin!")),{}},i.buildPayloadAsync=function(e){throw new Error("Method buildPayloadAsync is abstract.")},i.sendPayload=function(e,t,n){this.logger.warning("".concat(this.constructor.name,".sendPayload() is not implemented by plugin!"))},i.sendPayloadAsync=function(e,t){throw new Error("Method sendPayloadAsync is abstract.")},t=e,(n=[{key:"pluginName",get:function(){return this.__pluginName}},{key:"serviceLocator",get:function(){return this.__serviceLocator}},{key:"logger",get:function(){return this.__logger}}])&&Tr(t.prototype,n),r&&Tr(t,r),e}(),Ar={DEVICE_TYPES:{PS3:202,PS4:206,PS4K:206,TV:210,WEB:201,MWEB:207,ANDROID_TV:237,ANDROID:238,IOS:239,ROKU:240,FIRE_TV:241,APPLE_TV:242,CHROMECAST:243}};Object.freeze(Ar.DEVICE_TYPES);var Or,br=function(){function e(){this._value=void 0}var t=e.prototype;return t.saveSessionString=function(e){this._value=e},t.getSessionString=function(){return this._value},e}(),Rr={accountId:function(e){var t=e.environment;return String(t.visitorId||t.deviceId||"")},expId:function(){return null},appName:function(e){return e.environment.appName},buildVersion:function(e){return e.environment.buildVersion},deviceId:function(e){return e.environment.deviceId||""},url:function(e){var t=e.environment,n=e.config,r=function(e){var t=e.environment,n=e.config.overrideDeviceType,r=(t.deviceType||"").toUpperCase(),i=n||Ar.DEVICE_TYPES[r];if(!i)throw new Error("Device Type '".concat(t.deviceType,"' not supported."));return i}({environment:t,config:n}),i=n.env&&"sp-int"!==n.env?n.env:"e1-np",o=n.eventUrl||"https://event.api.{{env}}.km.playstation.net/event/clairvoyance/{{deviceType}}";return o=(o=o.replace("{{env}}",i)).replace("{{deviceType}}",r.toString())},networkType:function(e){return e.environment.networkType||"unknown"},platformVersion:function(e){return e.environment.platformVersion||"unknown"},screenInfo:function(e){return e.environment.screenInfo||"unknown"},xhr:function(e){var t=e.serviceLocator,n=e.config,r="/network/".concat("string"===typeof n.xhr?n.xhr:"xhrInterface"),i=t.get(r);return function(e){i(e.type,e.url,e.headers,e.data)}},callback:function(){return null},dataStore:function(){return new br}},Nr=function(e,t,n){var r={environment:e,config:t,serviceLocator:n},i=Object.keys(Rr).reduce((function(e,t){return e[t]=Rr[t](r),e}),{});return void 0!==t.useExperimentalVersion31&&(i.useExperimentalVersion31=Boolean(t.useExperimentalVersion31)),i},Cr=gr,Pr=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._requireMetricsMap=function(e){if(!mr(e))throw new Error("Missing or invalid metric map for ".concat(this.pluginName," plugin!"))},i._requireValidConfig=function(e){this._requireMetricsMap(e.metricsMap)},i._createClairvoyanceInstance=function(){return new Cr},i._initializeClairvoyanceInstanceParams=function(e,t,n){var r=Nr(e,t,n),i=this._createClairvoyanceInstance();return i.initialize(r),i},i.buildPayload=function(e,t){this._requireValidConfig(t.config);var n=t.config,r=n.metricsMap,i=n.metricsSuffix,o=t.event.location.split(":").slice(0,4).join(":"),a=function(e){return function(t){return function(n){return function(r){var i="".concat(n,":timing:").concat(r),o="".concat(i,":").concat(t),a=!1;return e[i]?a=parseInt(e[i],10):e[r]?a=parseInt(e[r],10):e[o]&&(a=parseInt(e[o],10)),a}}}}(r)(i)(o);return function(e,t,n,r){if("LoadTime"!==n.type)return e.warning("Not sending ".concat(n.type," event for ").concat(r," (unsupported)")),!1;var i=n.time.getTime();!function(e,t,n){t.time.getTime()<1384502400068&&e.warning("Warning: time of ".concat(t.type," event for ").concat(n," is in the past"))}(e,n,r);var o=[],a=n.timings||[];if(n.loadTime>0){var c={name:"overall",startTime:0,duration:n.loadTime};a.unshift(c)}return a.forEach((function(n){var a=t(n.name),c=function(e,t,n){if(!t)return!1;var r={metric:t,startTimestamp:e+n.startTime,latency:n.duration};return n.bootInfo&&(r.bootInfo=n.bootInfo),n.metricInfo&&(r.metricInfo=n.metricInfo),r}(i,a,n);c?o.push(c):e.warning("Skipping '".concat(n.name,"' timing in ").concat(r," (timing not in metric map)"))})),o.length<1?(e.warning("Not sending ".concat(n.type," event to ").concat(r," (no timings found)")),!1):{timings:o,bootInfo:n.bootInfo||"unknown",dataSizeGroup:n.dataSizeGroup||"unknown"}}(this.logger,a,t.event,this.pluginName)},i.sendPayload=function(e,t,n){var r=n.environment,i=n.config;this._initializeClairvoyanceInstanceParams(r,i,this.serviceLocator).sendLatencyData(e.timings,null,null,e.bootInfo,e.dataSizeGroup)},r}(Sr),wr=function(e){var t={};return Object.keys(e).forEach((function(n){for(var r={},i=n;e[i];){if(r[i])throw new Error("CyclicAlias: Circular Alias Reference encountered at ".concat(i));r[i]=!0,Object.defineProperty(r,i,{value:!0}),i=e[i]}t[n]=i})),t},Vr=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._instances={},this._factories=e.factories||{},this._aliases=e.aliases||{},this._resolvedAliases=wr(this._aliases)}var t=e.prototype;return t.setService=function(e,t){if(this.has(e))throw new Error("ServiceExists: the service already exists: ".concat(e,"."));this._instances[e]=t},t.getFactory=function(e){var t=this._factories[e]||void 0;if("function"===typeof t)return t;throw new Error("ServiceNotFound: Unable to resolve ".concat(e," to a factory."))},t.get=function(e){if(this._instances[e])return this._instances[e];var t=this._resolvedAliases[e]||e;if(e!==t&&this._instances[t])return this._instances[e]=this._instances[t],this._instances[t];var n=this.doCreate(t);return this._instances[t]=n,e!==t&&(this._instances[e]=n),n},t.has=function(e){var t=this._resolvedAliases[e]||e;return"undefined"!==typeof this._instances[t]||"function"===typeof this._factories[t]},t.build=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._resolvedAliases[e]||e;return this.doCreate(n,t)},t.doCreate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getFactory(e),r=n(this,e,t);return r},e}(),Mr=Object.prototype.hasOwnProperty,Lr=function(e,t){return null!=e&&Mr.call(e,t)};!function(e){e.EMERGENCY="emergency",e.ALERT="alert",e.CRITICAL="critical",e.ERROR="error",e.WARNING="warning",e.NOTICE="notice",e.INFO="info",e.DEBUG="debug"}(Or||(Or={}));var Dr=function(){function e(){}var t=e.prototype;return t.emergency=function(e,t){this.log(Or.EMERGENCY,e,t)},t.alert=function(e,t){this.log(Or.ALERT,e,t)},t.critical=function(e,t){this.log(Or.CRITICAL,e,t)},t.error=function(e,t){this.log(Or.ERROR,e,t)},t.warning=function(e,t){this.log(Or.WARNING,e,t)},t.notice=function(e,t){this.log(Or.NOTICE,e,t)},t.info=function(e,t){this.log(Or.INFO,e,t)},t.debug=function(e,t){this.log(Or.DEBUG,e,t)},t.log=function(e,t,n){throw new Error("NotImplemented")},e}();function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kr,Fr=function(e){var t,n,r,i,o;function a(t){var n;return(n=e.call(this)||this)._logger=t,n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.log=function(e,t,n){this.logger.log(e,t,n)},r=a,(i=[{key:"logger",get:function(){return this._logger}}])&&Ur(r.prototype,i),o&&Ur(r,o),a}(Dr),jr=function(e){var t,n;function r(t,n){var r;if(r=e.call(this,n)||this,"function"!==typeof t)throw new Error('InvalidArgument: Callback is expected to be of type "function".');return r._callback=t,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.log=function(e,t,n){var r="function"===typeof n?n():n;this.logger.log(e,t,this._callback(r))},r}(Fr),Gr=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,n)||this)._prefix=t,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.log=function(e,t,n){this.logger.log(e,"".concat(this._prefix).concat(t),n)},r}(Fr);function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hr=(Br(kr={},Or.EMERGENCY,0),Br(kr,Or.CRITICAL,1),Br(kr,Or.ALERT,2),Br(kr,Or.ERROR,3),Br(kr,Or.WARNING,4),Br(kr,Or.NOTICE,5),Br(kr,Or.INFO,6),Br(kr,Or.DEBUG,7),kr),Wr=function(e){var t,n;function r(t,n){var r;if((r=e.call(this,n)||this)._logLevel=Hr[t],void 0===r._logLevel)throw new Error("InvalidArgument: Unknown log level provided. ".concat(JSON.stringify(t)));return r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.resolveLogLevel=function(e){return void 0===Hr[e]?8:Hr[e]},i.log=function(e,t,n){this.resolveLogLevel(e)>this._logLevel||this.logger.log(e,t,n)},r}(Fr);function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xr=function(e){var t,n;function r(t){var n,r;r=e.call(this)||this;var i=function(e){if(void 0!==t[e])return t[e].bind(t)||void 0};if("function"!==typeof t.log)throw new Error("PrerequisiteError: No console.log method found.");var o=t.log.bind(t),a=i("error")||o,c=i("info")||o,s=i("warn")||o,u=i("debug")||o;return r._defaultLog=u,r._logLevelFunctionMap=(Yr(n={},Or.EMERGENCY,a),Yr(n,Or.ALERT,a),Yr(n,Or.CRITICAL,a),Yr(n,Or.ERROR,a),Yr(n,Or.WARNING,s),Yr(n,Or.NOTICE,c),Yr(n,Or.INFO,c),Yr(n,Or.DEBUG,u),n),r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.log=function(e,t,n){if(n){var r="function"===typeof n?n():n;(this._logLevelFunctionMap[e]||this._defaultLog)(t,r)}else(this._logLevelFunctionMap[e]||this._defaultLog)(t)},r}(Dr),Kr=function(){function e(){}var t=e.prototype;return t.alert=function(e,t){},t.critical=function(e,t){},t.debug=function(e,t){},t.emergency=function(e,t){},t.error=function(e,t){},t.info=function(e,t){},t.log=function(e,t,n){},t.notice=function(e,t){},t.warning=function(e,t){},e}(),zr=/[^a-zA-Z0-9\-_.]/g,qr=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this._namespace=t.namespace||"default",this._storage=e,this._clockSkew=6e4,this._logger=n||new Kr}var t=e.prototype;return t.normalizeKey=function(e){var t=e.replace(zr,"");return"!".concat(this._namespace,"!").concat(t)},t.get=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.normalizeKey(e),i=this._storage.getItem(r);if(null===i)return n;if("{"!==i[0])return n;try{t=JSON.parse(i)}catch(o){return n}return Lr(t,"value")&&t.metaData?this.isActive(t.metaData.notBefore,t.metaData.notAfter)?t.value:(this._storage.removeItem(r),n):n},t.isActive=function(e,t){return!(e&&Date.now()+this._clockSkew<e)&&!(t&&Date.now()-this._clockSkew>t)},t.resolveTtl=function(e){return!!e&&("number"===typeof e&&isFinite(e)?Date.now()+e:e instanceof Date?e.getTime():(this._logger.error("resolveTtl() expects number or Date",{ttl:e}),!1))},t.set=function(e,t,n){var r=this.normalizeKey(e),i={value:t,metaData:{notBefore:Date.now(),notAfter:this.resolveTtl(n)}};try{var o=JSON.stringify(i);this._storage.setItem(r,o)}catch(a){return!1}return!0},t.delete=function(e){var t=this.normalizeKey(e);return this._storage.removeItem(t),!0},t.namespacedKeys=function(){for(var e=[],t=this.normalizeKey(""),n=0;n<this._storage.length;n+=1){var r=this._storage.key(n);0===r.indexOf(t)&&e.push(r)}return e},t.clear=function(){var e=this._storage;return this.namespacedKeys().forEach((function(t){e.removeItem(t)})),!0},t.has=function(e){var t=this.normalizeKey(e);return null!==this._storage.getItem(t)},e}(),Jr=function(){function e(){this._storage=new Map}var t=e.prototype;return t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._storage.has(e)?this._storage.get(e):t},t.set=function(e,t){return this._storage.set(e,t),!0},t.delete=function(e){return this._storage.delete(e)},t.clear=function(){return this._storage.clear(),!0},t.has=function(e){return this._storage.has(e)},e}();function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zr=function(){function e(e,t,n){e&&(this._name=e),t&&(this._target=t),this._params=n||{}}var t,n,r,i=e.prototype;return i.getParam=function(e,t){return void 0===this._params[e]?t:this._params[e]},i.setParam=function(e,t){this._params[e]=t},i.stopPropagation=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._stopPropagation=Boolean(e)},t=e,(n=[{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"target",get:function(){return this._target},set:function(e){this._target=e}},{key:"params",get:function(){return this._params},set:function(e){this._params=e}},{key:"isPropagationStopped",get:function(){return this._stopPropagation}}])&&Xr(t.prototype,n),r&&Xr(t,r),e}(),Qr=function(e){return"string"===typeof e},$r=function(e){return void 0===e};function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ti=function(){function e(){this._responses=[],this._stopped=!1}var t,n,r,i=e.prototype;return i.push=function(e){this._responses.push(e)},i.contains=function(e){return-1!==this._responses.indexOf(e)},t=e,(n=[{key:"asArray",get:function(){return this._responses}},{key:"length",get:function(){return this._responses.length}},{key:"stopped",get:function(){return this._stopped},set:function(e){this._stopped=Boolean(e)}},{key:"first",get:function(){return this._responses[0]}},{key:"last",get:function(){return this._responses[this._responses.length-1]}}])&&ei(t.prototype,n),r&&ei(t,r),e}();function ni(e){return(ni="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ri=function(e,t){return Number(e)-Number(t)},ii=function(){function e(){this._events={}}var t=e.prototype;return t.asEvent=function(e,t,n){var r=new Zr;return r.name=e,t&&(r.target=t),n&&(r.params=n),r},t.attach=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!Qr(e))throw new Error('Event Name must be a string. "'.concat(ni(e),'" given.'));this._events[e]||(this._events[e]={});var r=this._events[e];return r[n]||(r[n]=[[]]),this._events[e][n][0].push(t),t},t.detach=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&("*"!==t||r)){if(this._events[t]){var i=Object.keys(this._events[t]);i.forEach((function(r){var i=n._events[t][Number(r)],o=i[0].indexOf(e);-1!==o&&(i[0].splice(o,1),i[0].length||delete n._events[t][Number(r)])})),this._events[t]&&Object.keys(this._events[t]).length||delete this._events[t]}}else Object.keys(this._events).forEach((function(t){n.detach(e,t,!0)}))},t.clearListeners=function(e){this._events[e]=[]},t.trigger=function(e,t,n){return this.triggerListeners(this.asEvent(e,t,n))},t.triggerUntil=function(e,t,n,r){return this.triggerListeners(this.asEvent(t,n,r),e)},t.triggerEvent=function(e){return this.triggerListeners(e)},t.triggerEventUntil=function(e,t){return this.triggerListeners(t,e)},t.triggerListeners=function(e,t){var n,r=this,i=e.name;if(!i)throw new Error("Event requires a name.");this._events[i]?(n=this._events[i],this._events["*"]&&Object.keys(this._events["*"]).forEach((function(e){r._events["*"][Number(e)].forEach((function(e,t){n[t]?n[t].push(e):n[t]=[e]}))}))):n=this._events["*"]?this._events["*"]:[],e.stopPropagation(!1);var o=new ti;return Object.keys(n).sort(ri).reverse().every((function(r){return n[Number(r)].every((function(n){return n.every((function(n){var r=n(e);return o.push(r),e.isPropagationStopped?(o.stopped=!0,!1):!t||!t(r)||(o.stopped=!0,!1)}))}))})),o},e}();function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ai=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shortTermId,n=e.sessionId,r=e.tracingId,i=e.testIdentifiers;if(!t)throw new Error("Configuration parameter `shortTermId` is required.");if(!n)throw new Error("Configuration parameter `shortTermId` is required.");if(!r)throw new Error("Configuration parameter `tracingId` is required.");this._shortTermId=t,this._tracingId=r,this._sessionId=n,"undefined"!==typeof i&&(this._testCaseId=i.testCaseId,this._testSessionId=i.testSessionId)}var t,n,r;return t=e,(n=[{key:"shortTermId",get:function(){return this._shortTermId.value}},{key:"sessionId",get:function(){return this._sessionId.value}},{key:"tracingId",get:function(){return this._tracingId.value}},{key:"testCaseId",get:function(){return this._testCaseId}},{key:"testSessionId",get:function(){return this._testSessionId}}])&&oi(t.prototype,n),r&&oi(t,r),e}();function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var si,ui=function(){function e(){this._isOptOut=!1,this._isSignedOut=!1,this._isMissingId=!1}var t,n,r,i=e.prototype;return i.toString=function(){return this.value},i.populate=function(e){e.isOptOut&&(this.isOptOut=e.isOptOut),e.isMissingId&&(this.isMissingId=e.isMissingId),e.isSignedOut&&(this.isSignedOut=e.isSignedOut)},i.asObject=function(){return{isOptOut:this._isOptOut,isMissingId:this._isMissingId,isSignedOut:this._isSignedOut}},t=e,(n=[{key:"_optOutValue",get:function(){return this._isSignedOut?"optout":(this._isMissingId,"optout")}},{key:"_optInValue",get:function(){return this._isSignedOut?"sgnout":this._isMissingId?"dnrhid":"signin"}},{key:"value",get:function(){return this._isOptOut?this._optOutValue:this._optInValue}},{key:"isSignedOut",set:function(e){this._isSignedOut=Boolean(e)}},{key:"isMissingId",set:function(e){this._isMissingId=Boolean(e)}},{key:"isOptOut",set:function(e){this._isOptOut=Boolean(e)}}])&&ci(t.prototype,n),r&&ci(t,r),e}();function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}!function(e){e.MAXIMAL="all",e.MINIMAL="minimal",e.EXEMPT="exempt"}(si||(si={}));for(var li=function(){function e(e,t){this._sessionId=e,this._telemetryService=t,this._prefix=new ui,this._listeners=[[this.updatePrefix.bind(this),"signedInStateChange"],[this.updatePrefix.bind(this),"platformPrivacyLevelChange"]],this.attachListeners(t.eventManager),this.updatePrefix()}var t=e.prototype;return t.attachListeners=function(e){this._listeners.forEach((function(t){var n=pi(t,2),r=n[0],i=n[1];e.attach(i,r)}))},t.updatePrefix=function(){var e=this._telemetryService,t=!e._legacyEnvironment.isSignedIn,n=!e._legacyEnvironment.userVisitorId,r=e.platformPrivacyLevel===si.MINIMAL;this._prefix.isSignedOut=t,this._prefix.isOptOut=r,this._prefix.isMissingId=n,this._sessionId.prefix=this._prefix.value},e}(),fi=E((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),yi=[],di=0;di<256;++di)yi[di]=(di+256).toString(16).substr(1);var _i=function(e,t){var n=t||0,r=yi;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]},vi=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||fi)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||_i(i)},hi=function(e){if(e instanceof Date)return e.getTime();if("number"===typeof e)return e;if("string"===typeof e){var t=new Date(e).getTime();return!isNaN(t)&&t}return!1};function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gi=function(){function e(){this._created=0,this._lastAccess=0}var t,n,r,i=e.prototype;return i.populate=function(e){this._created=e.created,this._lastAccess=e.lastAccess},i.asObject=function(){return{created:this._created,lastAccess:this._lastAccess}},t=e,(n=[{key:"created",get:function(){return this._created},set:function(e){this._created=hi(e)||0}},{key:"lastAccess",get:function(){return this._lastAccess},set:function(e){this._lastAccess=hi(e)||0}}])&&Ei(t.prototype,n),r&&Ei(t,r),e}();function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ii=function(){function e(e){this._ttl=e}var t,n,r;return e.prototype.isValid=function(e){var t=Date.now();return"number"===typeof e?t<=e+this._ttl:e instanceof Date&&t<=e.getTime()+this._ttl},t=e,(n=[{key:"ttl",get:function(){return this._ttl}}])&&mi(t.prototype,n),r&&mi(t,r),e}(),Ti=864e5,Si=18e5,Ai=function(){function e(){this._idleValidator=new Ii(Si),this._lifetimeValidator=new Ii(Ti)}return e.prototype.isValid=function(e){return this._idleValidator.isValid(e.lastAccess)&&this._lifetimeValidator.isValid(e.created)},e}(),Oi=function(){function e(){}return e.prototype.hydrate=function(e,t){t&&(t.state&&e._state.populate(t.state),t.prefix&&(e.prefix=t.prefix),t.id&&(e._id=t.id))},e}(),bi=function(){function e(){}return e.prototype.extract=function(e){return{id:e._id,prefix:e._prefix,state:e._state.asObject()}},e}();function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ni=/[^0-9a-f]/gi,Ci="identifier-session-id",Pi=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._id=void 0,this._prefix=e.prefix||"unknwn",this._state=new gi,this._validator=e.validator||new Ai,this._hydrator=e.hydrator||new Oi,this._extractor=e.extractor||new bi,this._cacheThrottle=1e3,this._cacheLastSave=0,this._cacheKey=e.cacheKey||Ci,this._cache=e.cache,this.load()}var t,n,r,i=e.prototype;return i.toString=function(){return this.value},i.regenerate=function(){this._id="".concat(vi()).concat(vi()).replace(Ni,""),this._state.created=Date.now(),this._state.lastAccess=Date.now(),this.save()},i.load=function(){if(this._cache){var e=this._cache.get(this._cacheKey);e&&this._hydrator.hydrate(this,e)}},i.save=function(){if(this._cache){var e=this._extractor.extract(this);this._cache.set(this._cacheKey,e),this._cacheLastSave=Date.now()}},i.throttledSave=function(){Date.now()-this._cacheLastSave>this._cacheThrottle&&this.save()},t=e,(n=[{key:"prefix",set:function(e){this._prefix=e},get:function(){return this._prefix}},{key:"value",get:function(){return this.isExpired&&this.regenerate(),this._state.lastAccess=Date.now(),this.throttledSave(),"".concat(this.prefix,"x").concat(this._id)}},{key:"isExpired",get:function(){return!this._validator.isValid(this._state)}}])&&Ri(t.prototype,n),r&&Ri(t,r),e}(),wi=function(){function e(){}return e.prototype.extract=function(e){return{id:e._id,state:e._state.asObject()}},e}(),Vi=function(){function e(){}return e.prototype.hydrate=function(e,t){t&&(t.state&&e._state.populate(t.state),t.id&&(e._id=t.id))},e}(),Mi=1728e5,Li=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._lifetimeValidator=e.validator||new Ii(Mi)}return e.prototype.isValid=function(e){return this._lifetimeValidator.isValid(e.created)},e}();function Di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ui=function(){function e(){this._created=0}var t,n,r,i=e.prototype;return i.populate=function(e){this._created=e.created},i.asObject=function(){return{created:this._created}},t=e,(n=[{key:"created",get:function(){return this._created},set:function(e){this._created=hi(e)||0}}])&&Di(t.prototype,n),r&&Di(t,r),e}();function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fi=/[^0-9a-f]/gi,ji="identifier-short-term-id",Gi=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._id=void 0,this._state=new Ui,this._validator=e.validator||new Li,this._hydrator=e.hydrator||new Vi,this._extractor=e.extractor||new wi,this._cacheKey=e.cacheKey||ji,e.appName){var t=e.appName.toLowerCase();this._cacheKey="".concat(this._cacheKey,"-").concat(t)}this._cache=e.cache,this.load()}var t,n,r,i=e.prototype;return i.toString=function(){return this.value},i.regenerate=function(){this._id="".concat(vi()).concat(vi()).replace(Fi,""),this._state.created=Date.now(),this.save()},i.load=function(){if(this._cache){var e=this._cache.get(this._cacheKey);e&&this._hydrator.hydrate(this,e)}},i.save=function(){if(this._cache){var e=this._extractor.extract(this);this._cache.set(this._cacheKey,e)}},t=e,(n=[{key:"value",get:function(){return this.isExpired&&this.regenerate(),this._id}},{key:"isExpired",get:function(){return!this._validator.isValid(this._state)}}])&&ki(t.prototype,n),r&&ki(t,r),e}(),Bi=function(){function e(){}return e.prototype.extract=function(e){return{id:e._id,state:e._state.asObject()}},e}(),Hi=function(){function e(){}return e.prototype.hydrate=function(e,t){t&&(t.state&&e._state.populate(t.state),t.id&&(e._id=t.id))},e}();function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yi=function(){function e(){this._created=0}var t,n,r,i=e.prototype;return i.populate=function(e){this._created=e.created},i.asObject=function(){return{created:this._created}},t=e,(n=[{key:"created",get:function(){return this._created},set:function(e){this._created=hi(e)||0}}])&&Wi(t.prototype,n),r&&Wi(t,r),e}();function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ki=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._id=void 0,this._state=new Yi,this._hydrator=e.hydrator||new Hi,this._extractor=e.extractor||new Bi}var t,n,r,i=e.prototype;return i.toString=function(){return this.value},i.regenerate=function(){this._id=vi(),this._state.created=Date.now()},t=e,(n=[{key:"value",get:function(){return this.regenerate(),this._id}}])&&xi(t.prototype,n),r&&xi(t,r),e}();function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qi=function(){function e(){this._inputEvent=void 0,this._filteredEvent=void 0,this._payloads=new Map}var t,n,r;return e.prototype.setPayload=function(e,t){this._payloads.set(e,t)},t=e,(n=[{key:"inputEvent",get:function(){return this._inputEvent},set:function(e){this._inputEvent=e}},{key:"rawEvent",get:function(){return this._inputEvent},set:function(e){this._inputEvent=e}},{key:"filteredEvent",get:function(){return this._filteredEvent},set:function(e){this._filteredEvent=e}},{key:"payloads",get:function(){return this._payloads}}])&&zi(t.prototype,n),r&&zi(t,r),e}();function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xi=function(){function e(){this._enabled=!1,this._events=[]}var t,n,r,i=e.prototype;return i.enable=function(){this._enabled=!0},i.disable=function(){this._enabled=!1},i.addEvent=function(e){return e||(e=new qi),this.isEnabled&&this.events.push(e),e},i.clear=function(){this._events=[]},t=e,(n=[{key:"isEnabled",get:function(){return this._enabled}},{key:"events",get:function(){return this._events}}])&&Ji(t.prototype,n),r&&Ji(t,r),e}();function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qi,$i,eo,to,no=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._value=void 0,this._messages=new Map,this._messageTemplates=e.messageTemplates||{}}var t,n,r,i=e.prototype;return i._createMessage=function(e,t){var n=this._messageTemplates[e];if(!n)throw new Error("UNKNOWN_MESSAGE_KEY: No template found for the message key: ".concat(e,"."));return n.replace("{value}",t)},i.error=function(e,t){this._messages.set(e,this._createMessage(e,void 0===t?this.value:t))},t=e,(n=[{key:"value",get:function(){return this._value},set:function(e){this._value=e,this._messages.clear()}},{key:"messages",get:function(){return this._messages}}])&&Zi(t.prototype,n),r&&Zi(t,r),e}(),ro=(eo="Invalid NP Account Locale provided.",($i="invalidNpAccountLocale")in(Qi={})?Object.defineProperty(Qi,$i,{value:eo,enumerable:!0,configurable:!0,writable:!0}):Qi[$i]=eo,Qi),io=/^[a-z]{2}_[A-Z]{2}$/,oo=function(e){var t,n;function r(){return e.call(this,{messageTemplates:ro})||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isValid=function(e){return this.value=e,!!io.test(e)||(this.error("invalidNpAccountLocale"),!1)},r}(no);function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function co(e){var t=(to||(to=new RegExp("^([a-z]{2,3})(?:[-_]([a-z]{4}))?(?:[-_]((?:[a-z]{2})|(?:[0-9]{3})))?((?:[-_](?:(?:[a-z0-9]{5,8})|(?:[0-9][a-z0-9]{3})))*)((?:(?:[-_][a-wyz0-9]{1})(?:[-_][a-z0-9]{2,8})+)*)([-_]x(?:[-_][a-z0-9]{1,8})+)?$","i")),to).exec(e);if(!t)return null;var n=ao(t,5);return[n[1],n[2],n[3],function(e){return e.length?e.split(/-|_/).slice(1):[]}(n[4]),[]]}var so=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"invalidPsnAccountLanguage","Invalid PSN Account Language provided."),uo=function(e){var t,n;function r(){return e.call(this,{messageTemplates:so})||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isValid=function(e){this.value=e;var t=function(e){var t=co(e);if(!t)return null;var n=ao(t,5);return{languageId:n[0],scriptId:n[1],regionId:n[2],variants:n[3],extensions:n[4]}}(e);return!(!t||!t.languageId)||(this.error("invalidPsnAccountLanguage"),!1)},r}(no),po=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"invalidPsnAccountRegion","Invalid PSN Account Region provided."),lo=/^[A-Z]{2}$/,fo=function(e){var t,n;function r(){return e.call(this,{messageTemplates:po})||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isValid=function(e){return this.value=e,!!lo.test(e)||(this.error("invalidPsnAccountRegion"),!1)},r}(no),yo=function(e){return e>=55296&&e<=56319},_o=function(e){return e>=56320&&e<=57343},vo=function(e,t,n){var r=e.charCodeAt(0);return r<=127?1:r<=2047?2:_o(r)&&yo(n.charCodeAt(t-1))?1:3},ho=function(e){var t,n=0;for(t=0;t<e.length;t+=1)n+=vo(e[t],t,e);return n},Eo=function(e,t){var n,r=0;for(n=0;n<e.length&&!((r+=vo(e[n],n,e))>t);n+=1);return yo(e.charCodeAt(n-1))&&_o(e.charCodeAt(n))&&(n-=1),e.substr(0,n)},go=/^([A-Za-z][A-Za-z0-9.+-]*):/,mo=/^\/\/([^/\\?#]*)/,Io=/:[\d]{1,5}$/,To=/^[^?#]*/,So=/^\?([^#]*)/,Ao=function(e){var t={scheme:void 0,authority:void 0,userInfo:void 0,port:void 0,path:"",query:void 0,hash:void 0};if(Qr(e)){var n=e,r=function(e){var t=go.exec(e);return t?t[1]:void 0}(n);$r(r)||(n=n.substr(r.length+1),t.scheme=r);var i=function(e){var t=mo.exec(e);if(t){var n,r=t[1],i=r;if(-1!==i.indexOf("@")){var o=i.split("@");i=o.pop()}if(t=Io.exec(i)){n=t[0].substr(1);var a=t[0].length;i=i.substr(0,i.length-a)}return{authority:r,host:i,port:n}}}(n);if($r(i)||(n=n.substr(i.authority.length+2),t.authority=i.authority,t.userInfo=i.userInfo,t.port=i.port,t.host=i.host),!n)return t;var o=function(e){var t=To.exec(e);if(t)return t[0]}(n);if($r(o)||(t.path=o,n=n.substr(o.length)),!n)return t;var a=function(e){var t=So.exec(e);if(t)return t[1]}(n);return $r(a)||(t.query=a,n=n.substr(a.length+1)),n&&"#"===n.substr(0,1)&&(t.hash=n.substr(1)),t}},Oo=function(e,t){var n=Ao(e);return n?function(e){if(!e)return"";var t=[];return e.scheme&&t.push("".concat(e.scheme,":")),$r(e.host)&&$r(e.port)||(t.push("//"),e.host&&t.push(e.host),$r(e.port)||t.push(":".concat(e.port))),e.path&&t.push(e.path),$r(e.query)||t.push("?".concat(e.query)),$r(e.hash)||t.push("#".concat(e.hash)),t.join("")}(t(n)):""},bo=function(e){return $r(e)?[]:e.split("&").map((function(e){return function(e){if(e.length){var t=e.split("=");return[t.shift(),t.length?t.join("="):void 0]}}(e)}))},Ro=function(e,t){return t?"x":"9"},No=/([a-z])|([0-9])/gi,Co=function(e){return e.replace(No,Ro)},Po=function(e){return bo(e).map((function(e){return(t=e)?$r(t[1])?Co(t[0]):"".concat(t[0],"=").concat(Co(t[1])):"";var t})).join("&")};function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Vo=function(e){for(var t=null==e?0:e.length,n=0,r=0,i=[];n<t;){var o=e[n];o&&(i[r]=o,r+=1),n+=1}return i},Mo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Vo(t.map((function(t){return"undefined"===typeof e[t]?t:""})));if(n.length){var r=n.map((function(e){return'"'.concat(e,'"')})).join(", ");throw new Error("MissingProperty: The following fields are required: ".concat(r))}};function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Do=["name","date","description","overrideKey"],Uo=function(){function e(e){Mo(e,Do),this._date=new Date(e.date),this._name=String(e.name),this._description=String(e.description),this._overrideKey=String(e.overrideKey)}var t,n,r;return t=e,(n=[{key:"name",get:function(){return this._name}},{key:"date",get:function(){return this._date}},{key:"description",get:function(){return this._description}},{key:"overrideKey",get:function(){return this._overrideKey}}])&&Lo(t.prototype,n),r&&Lo(t,r),e}();function ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fo=function(){function e(e){var t=e.name,n=e.start,r=e.end;this._name=t,this._start=new Date(n),this._end=new Date(r)}var t,n,r;return t=e,(n=[{key:"name",get:function(){return this._name}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}}])&&ko(t.prototype,n),r&&ko(t,r),e}();function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Go=function(e){return e.toISOString().substr(0,10)},Bo=new Date("2017-12-01"),Ho=[{name:15,start:"2017-08-31T00:00:00Z",end:"2017-12-06T23:59:59Z"},{name:16,start:"2017-12-07T00:00:00Z",end:"2018-03-14T23:59:59Z"},{name:17,start:"2018-03-15T00:00:00Z",end:"2018-06-06T23:59:59Z"},{name:18,start:"2018-06-07T00:00:00Z",end:"2018-08-29T23:59:59z"},{name:19,start:"2018-08-30T00:00:00Z",end:"2018-12-05T23:59:59Z"},{name:20,start:"2018-12-06T00:00:00Z",end:"2019-03-13T23:59:59Z"},{name:21,start:"2019-03-14T00:00:00Z",end:"2019-06-05T23:59:59Z"},{name:22,start:"2019-06-06T00:00:00Z",end:"2019-08-28T23:59:59Z"},{name:23,start:"2019-08-29T00:00:00Z",end:"2019-12-04T23:59:59Z"},{name:24,start:"2019-12-05T00:00:00Z",end:"2020-03-11T23:59:59Z"},{name:"25(est)",start:"2020-03-12T00:00:00Z",end:"2020-06-03T23:59:59Z"},{name:"26(est)",start:"2020-06-04T00:00:00Z",end:"2020-08-26T23:59:59Z"},{name:"27(est)",start:"2020-08-27T00:00:00Z",end:"2020-12-02T23:59:59Z"}].map((function(e){return new Fo(e)})),Wo=function(e){if(e<Bo)return 0;var t=function(e,t){var n=null==e?0:e.length;if(!n)return-1;for(var r=0;r<n;){if(t(e[r]))return r;r+=1}return-1}(Ho,(function(t){return t.start<=e&&e<=t.end}));return-1===t?Ho.length:t},Yo=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._logger=e.logger,this._overrides=e.overrides||{},this._referenceDate=e.referenceDate,this._alwaysThrow=Boolean(e.alwaysThrow)}var t,n,r,i=e.prototype;return i.trigger=function(e){this.logDeprecation(e),this._alwaysThrow?this.triggerException(e):this.canTriggerException(e)&&(this.isOverrideActiveFor(e)?this.logOverrideUsed(e):this.triggerException(e))},i.logOverrideUsed=function(e){this.logger.error("A thrown error was muted by the use of configuration.\nThis feature is on track for removal.\nUpdate your code immediately.",{name:e.name,description:e.description,overrideKey:e.overrideKey,featureRemovalOn:this.featureRemovalDateStringFor(e)})},i.isOverrideActiveFor=function(e){return Boolean(this.overrides[e.overrideKey])},i.logDeprecation=function(e){var t=this;this.logger.warning("Deprecation Notice: ### IMPORTANT ###\nFeature has been flagged as deprecated, and is on track for active removal.",(function(){return{name:e.name,description:e.description,deprecatedAsOf:e.date,overrideKey:e.overrideKey,exceptionsStartOn:t.exceptionDateStringFor(e),featureRemovalOn:t.featureRemovalDateStringFor(e)}}))},i.canTriggerException=function(e){var t=this.exceptionPsiFor(e);return!!t&&this._referenceDate>=t.start},i.triggerException=function(e){throw this.logger.error("Feature is deprecated.",{name:e.name,description:e.description}),new Error('DeprecationError: "'.concat(e.name,'" is deprecated. ').concat(e.description,"."))},i.exceptionPsiFor=function(e){var t=Wo(e.date);return Ho[t+2]||void 0},i.exceptionDateStringFor=function(e){var t=this.exceptionPsiFor(e);return t?"PSI ".concat(t.name," (").concat(Go(t.start),")"):"TBD"},i.featureRemovalDateStringFor=function(e){var t=Wo(e.date),n=Ho[t+3];return n?"PSI ".concat(n.name," (").concat(Go(n.start),")"):"TBD"},t=e,(n=[{key:"logger",get:function(){return this._logger}},{key:"overrides",get:function(){return this._overrides}},{key:"alwaysThrow",get:function(){return this._alwaysThrow}},{key:"referenceDate",get:function(){return this._referenceDate}}])&&jo(t.prototype,n),r&&jo(t,r),e}();function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ko,zo=[],qo=function(){function e(){}var t,n,r,i=e.prototype;return i.trigger=function(e){Ko?Ko.trigger(e):zo.push(e)},i.__resetState=function(){Ko=void 0,zo=[]},t=e,(n=[{key:"queue",get:function(){return zo}},{key:"deprecationManager",get:function(){return Ko},set:function(e){Ko=e,zo.forEach((function(e){"undefined"!==typeof Ko&&Ko.trigger(e)})),zo=[]}}])&&xo(t.prototype,n),r&&xo(t,r),e}(),Jo={MAXIMAL:"all",MINIMAL:"minimal",EXEMPT:"exempt"};Jo.ALL=[Jo.MAXIMAL,Jo.EXEMPT,Jo.MINIMAL];var Xo,Zo=function(e){return Jo.ALL.indexOf(e)>=0},Qo=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var c=o[Xo?a:++r];if(!1===t(i[c],c,i))break}return e},$o=function(e,t){return e&&Qo(e,t,_t)},ea=function(e){return e},ta=function(e){return"function"==typeof e?e:ea},na=function(e,t){return e&&$o(e,ta(t))},ra="function"===typeof Array.prototype.includes?function(e,t){return e.includes(t)}:function(e,t){return e.indexOf(t)>=0},ia="d",oa="s",aa="a",ca="e",sa="f",ua="i",pa="l",la="n",fa="b";function ya(e){return(ya="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var da=["string","number","boolean","undefined"],_a=Number.MAX_SAFE_INTEGER||9007199254740991,va=function(e){return t=ya(e),ra(da,t)||null===e;var t},ha=function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")},Ea=function(e){return"function"===typeof e},ga=function(e){return"string"===typeof e},ma=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},Ia=function(e){return"number"===typeof e&&isFinite(e)},Ta=function(e){return"object"===ya(e)},Sa=function(e){return ha(e,"Object")},Aa=function(e){return ha(e,"Array")},Oa=function(e){return null===e||void 0===e},ba=function(e){return Oa(e)||null!==e.match(/^\s*$/)},Ra=function(e,t){switch(t.type){case oa:return!(!t.allowNumber||"number"!==typeof e)||"string"===typeof e;case la:return"number"===typeof e;case ca:return ha(e,"Object")&&!Oa(e);case fa:return"boolean"===typeof e;case ua:return ma(e)&&e<_a&&e>-_a;case pa:return function(e){return ma(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(e);case sa:return Ia(e);case aa:return Aa(e);case ia:return function(e){return ha(e,"Date")}(e)}return!1},Na=function e(t,n,r,i){if(void 0!==n){var o=t.reduce((function(e,t){return t(e,r,i)}),n);if(void 0!==o){if(Sa(o)){var a={};return na(o,(function(n,o){var c=r.properties&&r.properties[o]||{};a[o]=e(t,n,c,i)})),a}if(xe(o)){var c=r.collection||{};return o.map((function(n){return e(t,n,c,i)}))}return o}}},Ca=function(e,t,n){var r=e.environment;return Na(t,n,r||{})},Pa=function e(t,n){return Ra(t,n)?n.type===aa?t.map((function(t){return e(t,n.collection||{})})):va(t)||n.type===ia||n.type===ca?t:void 0:void 0!==n.invalidValue?n.invalidValue:void 0},wa={REQUIRED:"r",OPTIONAL:"o"};wa.ALL=[wa.REQUIRED,wa.OPTIONAL];var Va=function(e,t){return t.type===ia&&"string"===typeof e?new Date(e):e},Ma=function(e,t){if(t.c===wa.REQUIRED)return e},La=function(e,t){var n=[Va,Pa];return"all"!==t&&"exempt"!==t&&n.push(Ma),n.concat(e.filters)},Da=new RegExp("[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"),Ua=function(e,t,n,r,i){var o=qn(r);return function(e,t){"Startup"!==e.type||(e.privacySettings=t)}(o,n),function(e,t){e.sessionId=t.sessionId,e.shortTermId=t.shortTermId,"undefined"!==typeof e.tracingId&&Da.test(e.tracingId)||(e.tracingId=t.tracingId),"undefined"!==typeof t.testCaseId&&(e.testCaseId=t.testCaseId),"undefined"!==typeof t.testSessionId&&(e.testSessionId=t.testSessionId)}(o,e),function(e,t,n,r){if(!n||t!==Jo.MINIMAL||!0===r)return n;["url","apiUrl","deeplink","httpReferrer","pageUrl"].forEach((function(t){n[t]&&(n[t]=e(n[t]))}))}(t,n,o,i),o},ka="__lodash_hash_undefined__",Fa=function(e){return this.__data__.set(e,ka),this},ja=function(e){return this.__data__.has(e)};function Ga(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Oe;++t<n;)this.add(e[t])}Ga.prototype.add=Ga.prototype.push=Fa,Ga.prototype.has=ja;var Ba=Ga,Ha=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},Wa=function(e){return e!==e},Ya=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1},xa=function(e,t,n){return t===t?Ya(e,t,n):Ha(e,Wa,n)},Ka=function(e,t){return!(null==e||!e.length)&&xa(e,t,0)>-1},za=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},qa=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ja=function(e,t){return e.has(t)},Xa=200,Za=function(e,t,n,r){var i=-1,o=Ka,a=!0,c=e.length,s=[],u=t.length;if(!c)return s;n&&(t=qa(t,nt(n))),r?(o=za,a=!1):t.length>=Xa&&(o=Ja,a=!1,t=new Ba(t));e:for(;++i<c;){var p=e[i],l=null==n?p:n(p);if(p=r||0!==p?p:0,a&&l===l){for(var f=u;f--;)if(t[f]===l)continue e;s.push(p)}else o(t,l,r)||s.push(p)}return s},Qa=A?A.isConcatSpreadable:void 0,$a=function(e){return xe(e)||Ye(e)||!!(Qa&&e&&e[Qa])},ec=function e(t,n,r,i,o){var a=-1,c=t.length;for(r||(r=$a),o||(o=[]);++a<c;){var s=t[a];n>0&&r(s)?n>1?e(s,n-1,r,i,o):Pt(o,s):i||(o[o.length]=s)}return o},tc=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},nc=Math.max,rc=function(e,t,n){return t=nc(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=nc(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(a),tc(e,this,c)}},ic=function(e){return function(){return e}},oc=we?function(e,t){return we(e,"toString",{configurable:!0,enumerable:!1,value:ic(t),writable:!0})}:ea,ac=800,cc=16,sc=Date.now,uc=function(e){var t=0,n=0;return function(){var r=sc(),i=cc-(r-n);if(n=r,i>0){if(++t>=ac)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(oc),pc=function(e,t){return uc(rc(e,t,ea),e+"")},lc=function(e){return Fe(e)&&dt(e)},fc=pc((function(e,t){return lc(e)?Za(e,ec(t,1,lc,!0)):[]})),yc=function(e,t,n){e.error("The event is missing .location or .locationType.  Aborting.",{inputEvent:n}),t||function(e){if(!e)throw new Error("Event is empty.");if(!e.location)throw new Error("Missing location field for event type '".concat(e.type,"'"));if(!e.locationType)throw new Error("Missing locationType field for event type '".concat(e.type,"'"))}(n)},dc=function(e,t,n){return e.getSamplingPermilleForRequest(t,n)},_c=function(e,t,n,r,i,o,a,c,s,u,p,l,f){var y,d=new qi,_=La(n,c),v=p.plugins||{};if(!((y=s)&&y.location&&y.locationType))return yc(t,a,s),d;var h=Ua(e,o,c,s,a),E=function(e,t){return(e.events||{})["default"===t.eventNamespace?t.eventLocalName:t.eventName]||{}}(f,l);h=function(e,t,n){return!t||"client"!==t.eventNamespace&&"native"!==t.eventNamespace?e:(e.eventVersion=n.version,e)}(h,l,E),l.version=E.version?E.version:"UNKNOWN";var g={eventMetadata:l,config:p,environment:u,event:h},m=function(e,t,n){return Na(t,n,e,function(e,t){return{root:{nodeValue:e,nodeSchema:t}}}(n,e))}(E,_,h=function(e,t,n){return e.sbahnSampling=dc(n,t,"sbahn"),e.aaSampling=dc(n,t,"aa"),e.ciiSampling=dc(n,t,"cii"),e}(h,g,r)),I=Ca(f,_,u),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return void 0!==t[n.eventLocalName]?t[n.eventLocalName]:void 0!==t[n.eventName]?t[n.eventName]:(e.error("UnknownEvent: config.events does not contain an entry for the requested event.",{eventType:n.eventLocalName}),[])}(t,p.events,l),S=function(e,t,n){return n.filter((function(n){return!!function(e,t,n){return e.isRequestAllowed(t,n)}(e,t,n)}))}(r,g,T);return function(e,t,n,r){n||e.debug("No plugins defined for event type",{eventType:r.type,inputEvent:r}),n.length!==t.length&&e.debug("Plugins are throttled for this event.",{inputEvent:r,throttled:fc(t,n)})}(t,T,S,s),function(e,t,n,r){var i=fc(r,Object.keys(n));if(i.length&&(e.warning("The following plugin ids are not loaded.",{unknownIds:i}),!t))throw new Error("Invalid plugin '".concat(i[0],"' in dispatch()! Please register plugin first."))}(t,a,i,S),function(e,t,n,r,i,o,a){i&&r.forEach((function(r){var c=e[r];if(c){c.environment=o;var s=function(e,t){return t.dispatch(e.event,e)}({environment:o||{},event:i,config:t[r]||{},eventMetadata:a,gctVersion:"5.6.0"},c);n.setPayload(r,s)}}))}(i,v,d,S,m,I,l),d.inputEvent=qn(s),d.filteredEvent=m,d},vc=function(e){return void 0===e},hc=function(e){return e.toLowerCase().replace(/_/g," ")};function Ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var gc,mc=function(e){for(var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ea,i={},o=e.length,a=0;a<o;a++){if(Xn(e[a]))t=e[a],n=r(e[a]);else{var c=Ec(e[a],2);t=c[0],n=c[1]}i[t]=n}return Object.freeze(i)},Ic=mc(["AGE_GROUP_0","AGE_GROUP_1","AGE_GROUP_2","AGE_GROUP_3"],hc),Tc=mc(["SUCCESS","FAILURE"],hc),Sc=function(e){return e.toLowerCase()},Ac=mc(["PAID_AD_VIEWED","PAID_AD_LOADED","VIDEO_AD_PLAYED","REFRESH_IMAGE_VIEWED","REFRESH_VIDEO_VIEWED","DEFAULT"],Sc),Oc=mc(["INITIATE_FRIEND_REQUEST","SEND_FRIEND_REQUEST","SEND_CLOSE_FRIEND_REQUEST","CANCEL_FRIEND_REQUEST","VIEW_FRIEND_REQUEST","ACCEPT_FRIEND_REQUEST","ACCEPT_CLOSE_FRIEND_REQUEST","DELETE_FRIEND_REQUEST","INITIATE_REAL_NAME_REQUEST","SEND_REAL_NAME_REQUEST","CANCEL_REAL_NAME_REQUEST","VIEW_REAL_NAME_REQUEST","ACCEPT_REAL_NAME_REQUEST","DELETE_REAL_NAME_REQUEST","CANCEL_CLOSE_FRIEND_REQUEST","VIEW_CLOSE_FRIEND_REQUEST","REMOVE_FROM_FRIEND","SELECT_FRIEND","SEARCH_FRIENDS","INITIATE_BLOCK_USER","BLOCK_USER","UNBLOCK_USER","FOLLOW","UNFOLLOW",["CLICK_NOTIFICATION_ICON","click notifications icon"],"SELECT_NOTIFICATION","SELECT_NOTIFICATION_LINK","SELECT_MESSAGE","SELECT_MESSAGE_GROUP","INITIATE_MESSAGE","NEW_MESSAGE","SEND_MESSAGE","REMOVE_ME_FROM_GROUP","CHANGE_GROUP_NAME","ADD_PLAYERS","START_PARTY","JOIN_PARTY","JOIN_SESSION","REQUEST_TO_WATCH","VIEW_SESSION","VIEW_COMMUNITY_SESSION","VIEW_BROADCAST","SHARE_PLAY","VIEW_PROFILE","VIEW_ACCOUNT","CHANGE_ONLINE_STATUS","CHANGE_ONLINE_STATUS_ONLINE","CHANGE_ONLINE_STATUS_OFFLINE","EDIT_PROFILE","CHANGE_BACKGROUND_IMAGE","INITIATE_CHANGE_BACKGROUND_IMAGE","INITIATE_CHANGE_BACKGROUND_COLOR","INITIATE_REMOVE_BACKGROUND_IMAGE","REMOVE_BACKGROUND_IMAGE","SET_BACKGROUND_IMAGE","CHANGE_PRIVACY_SETTING","VIEW_ALL_RELATED_TITLES","ACTIVATE_FRIEND_ONLINE_NOTIFICATION","DEACTIVATE_FRIEND_ONLINE_NOTIFICATION","SET_AVATAR",["SET_AVATAR_PREMIUM","set premium avatar"],"ADD_TO_CUSTOM_LIST",["INITIATE_PROFILE_EDIT","click edit profile"],"NOTIFY_WHEN_ONLINE","UPDATE_PROFILE_INFO","CHANGE_PROFILE_PICTURE","VIEW_ALL_TROPHIES","VIEW_ALL_FRIENDS","CREATE_ROADSTER_PROFILE","DELETE_PROFILE_PICTURE","VIEW_TEAM_MESSAGES","CLICK_EDIT_PROFILE_BUTTON","SEND_MESSAGE_OWNER","JOIN_TEAM","INITIATE_DECLINE_TEAM_INVITE","DECLINE_TEAM_INVITE","INITIATE_LEAVE_TEAM","LEAVE_TEAM","INITIATE_DISBAND_TEAM","DISBAND_TEAM","SEND_TEAM_INVITE","INITIATE_PROMOTE_TEAM_CAPTAIN","PROMOTE_TEAM_CAPTAIN","INITIATE_DEMOTE_TEAM_MEMBER","DEMOTE_TEAM_MEMBER","INITIATE_KICK_OUT_TEAM_MEMBER","KICK_OUT_TEAM_MEMBER","INITIATE_CANCEL_TEAM_INVITE","CANCEL_TEAM_INVITE","VIEW_BACKGROUND_IMAGE","VIEW_TOURNAMENT_RESULT","FIND_TOURNAMENTS","EXPAND_DESCRIPTION","VIEW_BLOCKED_PLAYER_DESCRIPTION","CREATE_TEAM","CANCEL_TEAM_CREATION","CHANGE_TEAM_NAME","CHANGE_TEAM_DESCRIPTION","CHANGE_TEAM_LOGO","REMOVE_TEAM_LOGO","SHOW_RECENT_TEAM_PERFORMANCE","HIDE_RECENT_TEAM_PERFORMANCE","INITIATE_CHANGE_TEAM_LOGO","LIKE","UNLIKE","INITIATE_COMMENT","INITIATE_SHARE","INITIATE_RESHARE","OPEN_INTRO","VIEW_ACTIVITY","INITIATE_POST_ANYTHING","ADD_TO_POST_ANYTHING","SUBMIT_POST_ANYTHING","SUBMIT_RESHARE","SUBMIT_COMMENT","GO_TO_LINK","VIEW_GAME_BROADCAST","VIEW_GAME_VIDEO","VIEW_GAME_SCREENSHOT","VIEW_CONTENT_DETAILS","VIEW_CONTENT_INFO","VIEW_LIKE_COUNT","VIEW_RESHARE_COUNT","DELETE_COMMENT","VIEW_IN_FACEBOOK","VIEW_IN_TWITTER","VIEW_IN_YOUTUBE","VIEW_IN_DAILYMOTION","VIEW_IN_NICONICO","VIEW_IN_LFPS","VIEW_PURCHASE_SUBSCRIPTION","VIEW_GIFT","VIEW_TAGGED_USERS","VIEW_RESHARE_ORIGINAL","LISTEN_IN_SPOTIFY","VIEW_FREE_TRIAL","VIEW_PROMO_SITE","VOTE_NOW","VIEW_VOTE_NOW_RESULTS","COMPARE_TROPHIES","WATCH_PS_VIDEO","VIEW_MY_VIDEOS","VIEW_PRODUCT_DEMOS","VIEW_FULL_GAME_TRIAL","FIND_FACEBOOK_FRIENDS","CREATE_EVENT","VIEW_EVENT","JOIN_EVENT","CANCEL_EVENT","CHANGE_EVENT_STATUS_GOING","CHANGE_EVENT_STATUS_NOT_GOING",["UNREGISTER_EVENT","unregister from event"],["VIEW_EVENT_SUPPORT","view event support page"],"VIEW_TOURNAMENT_STANDINGS","VIEW_EVENT_WEBSITE","VIEW_TOURNAMENT_RULES","WATCH_EVENT_BROADCAST",["VIEW_EVENT_BROADCASTS","view more event broadcasts"],["VIEW_IN_STORE","view ps store"],["VIEW_GAME_IN_STORE","view game in ps store"],"VIEW_ALL_FRIENDS_IN_BROADCAST","VIEW_RELATED_EVENTS","VIEW_TROPHIES","VIEW_TROPHY","TROPHY_COMPARISON_ON","TROPHY_COMPARISON_OFF","GIVE_CONTROLLER_TO_VISITOR","TAKE_BACK_CONTROLLER_FROM_VISITOR","STOP_SHARE_PLAY","LEAVE_SHARE_PLAY","START_SHARE_PLAY","JOIN_SHARE_PLAY","WHAT_IS_SHARE_PLAY","SWITCH_TO_SHARE_PLAY_GAME_SCREEN","VIEW_OTHER_PARTIES","VIEW_PARTY_SETTINGS","LEAVE_PARTY","MUTE_CHAT_MYSELF","UNMUTE_CHAT_MYSELF","MUTE_CHAT_PLAYER","UNMUTE_CHAT_PLAYER","CHANGE_PARTY_PLAYER_LIMIT","SEND_INVITATIONS","INITIATE_CREATE_PARTY","ADJUST_PARTY_PRIVACY_PUBLIC","ADJUST_PARTY_PRIVACY_PRIVATE","ADJUST_AUDIO_MIX","ADJUST_CHAT_AUDIO_PRIORITIZE_PARTY_CHAT","ADJUST_CHAT_AUDIO_PRIORITIZE_GAME_CHAT","ADJUST_VIDEO_QUALITY_FOR_SHARE_PLAY_HIGH_RESOLUTION","ADJUST_VIDEO_QUALITY_FOR_SHARE_PLAY_STANDARD_RESOLUTION","ADJUST_VIDEO_QUALITY_FOR_SHARE_PLAY_HIGH_FRAME_RATE","ADJUST_VIDEO_QUALITY_FOR_SHARE_PLAY_STANDARD_FRAME_RATE","ADJUST_VOICE_SHARING_PERMISSIONS_ALWAYS_ALLOW","ADJUST_VOICE_SHARING_PERMISSIONS_DO_NOT_ALLOW","ADJUST_VOICE_SHARING_PERMISSIONS_ALLOW_FOR_PARTY","INVITE_PLAYERS_TO_PARTY","INVITE_MESSAGE_GROUP_TO_PARTY","INVITE_COMMUNITY_GROUP_TO_PARTY","CHANGE_CONTROLLER_TYPE","TEST_CONNECTION_SPEED","INITIATE_SEND_MESSAGE_TO_ALL","INITIATE_CREATE_NEW_EVENT","VIEW_CHAT_TRANSCRIPTION_PAGE","KICK_OUT_OF_PARTY","VIEW_COMMUNITY","VIEW_COMMUNITIES","SEARCH_COMMUNITIES","FILTER_COMMUNITIES","CREATE_COMMUNITY","JOIN_COMMUNITY",["INVITE_COMMUNITY","click invite to community icon"],["COMMUNITY_SETTING","click community settings icon"],"ACCEPT_COMMUNITY_MEMBERSHIP_REQUEST","DENY_COMMUNITY_MEMBERSHIP_REQUEST","DELETE_COMMUNITY","LEAVE_COMMUNITY",["CHANGE_COMMUNITY_NAME_PERMISSION","change community name and permissions"],"CHANGE_COMMUNITY_GAME_ASSOCIATION",["CHANGE_COMMUNITY_IMAGE_BACKGROUND","change community image and background"],["SUBMIT_FRIENDS_INVITATIONS_COMMUNITY","submit friends invitations to community"],"CHANGE_COMMUNITY_NOTIFICATIONS",["POST_COMMUNITY_WALL","post to community wall"],["REPLY_COMMUNITY_POST","reply to community post"],["VIEW_IMAGE_COMMUNITY_WALL","view image on community wall"],["SEND_MESSAGE_COMMUNITY","send message to community member"],"VIEW_IN_PS_STORE","VIEW_MY_ADD_ONS","VIEW_MY_THEMES","VIEW_MY_AVATARS","VIEW_STORE_ADD_ON","VIEW_STORE_THEME","VIEW_STORE_AVATAR","VIEW_STORE_EXTRA","VIEW_VOTE_TO_PLAY","ADD_TO_CART","REMOVE_FROM_CART","ADD_TO_CART_UPSELL","VERSION_UPSELL","PSPLUS_UPSELL","OPTIMUS","ADD_TO_WISHLIST","CREATE_WISHLIST","REMOVE_FROM_WISHLIST","PREORDER_INTRO","SUBSCRIBE_AUTOFUND","SUBSCRIBE_EXTEND_INTRO","REDEEM_VOUCHER","REDEEM_MONEY_VOUCHER","VOUCHER_APPLICATION_CASH","VOUCHER_APPLICATION_PRODUCT","VOUCHER_APPLICATION_PRODUCT_PERCENT_OFF","VOUCHER_APPLICATION_ORDER_PERCENT_OFF","MULTI_BUY_ADD_ANOTHER_ITEM","CHANGE_SUBSCRIPTION_STATUS","DOWNLOAD_PS_NOW_GAME","LOGIN","EUROPEAN_CHECKOUT_CHECKBOX","COUNTDOWNTIMER","STARTGAME_CLICK","DOWNLOAD_PAUSE","DOWNLOAD_RESUME","CONFIRM_PURCHASE","OSK_SEARCH_TEXT_ENTRY","OSK_SEARCH_ZERO_STATE","OSK_SEARCH_NO_RESULTS","OSK_SEARCH_RESULTS_RETURN","START_GAME","START_APP","CLOSE_GAME","CLOSE_APP","RATE","DOWNLOAD","DOWNLOAD_PROGRESS","TRY_FREE_DEMO","TRY_FULL_GAME","BUY","BUY_PS_PLUS_PRICE","PRE_ORDER","PRE_ORDER_COUNTDOWN","GET_IT_NOW","CLICK_LIVE_TILE","VIEW_LIVE_DETAIL","INITIATE_ADD_TO_LIBRARY","ADD_TO_LIBRARY","CLICK_TO_LIVE_BROADCAST","JOIN_PS_PLUS","MANAGE_SUBSCRIPTION","MANAGE_STORAGE","MANAGE_MEMBERSHIP","AUTO_RENEW_VALUE_PROP_YES","AUTO_RENEW_VALUE_PROP_NO","AUTO_RENEW_FEEDBACK_CONTINUE","AUTO_RENEW_CONFIRMATION_OK","VIEW_MINI_PROFILE","JOIN_NOW","SIGN_UP","SIGN_IN","SIGN_OUT","SETUP_2_STEP_VERIFICATION","CHANGE_AUTO_RENEW_PAYMENT_SETTING","CHANGE_PASSWORD_PAYMENT_SETTING","SAVE_PAYMENT_METHOD_INFORMATION","REMOVE_PAYMENT_METHOD","SAVE_DEFAULT_PAYMENT_METHOD","ADD_PAYMENT_METHOD","CHANGE_AGE_VERIFICATION_DOCUMENT","COMPLETE_AGE_VERIFICATION_DOCUMENT","ABORT_SECURE_VERIFYING","ACTIVATE_2SV","DEACTIVATE_2SV","ADD_PHONE_NUMBER","REMOVE_PHONE_NUMBER","VERIFY_PHONE_NUMBER","SEND_FAMILY_INVITE","ACCEPT_FAMILY_INVITE","DECLINE_FAMILY_INVITE","REVOKE_FAMILY_INVITE","LEAVE_FAMILY","REMOVE_USER_FROM_FAMILY","PROMOTE_TO_GUARDIAN","CHANGE_PARENTAL_CONTROLS","DEMOTE_FROM_GUARDIAN","VIEW_AS_FAMILY_MANAGER","VIEW_AS_GUARDIAN","CREATE_MASTER_ACCOUNT","CREATE_YOUTH_ACCOUNT","CREATE_KID_ACCOUNT","CREATE_OFFLINE_ACCOUNT","CLAIM_YOUTH_ACCOUNT","CLAIM_KID_ACCOUNT","APPROVE_SUBACCOUNT","EDIT_ACCOUNT_INFO","CHANGE_SECURITY_SETTINGS","SUGGEST_ONLINE_ID","CONFIRM_ONLINE_ID","CHANGE_OLD_ID_DISPLAY_SETTING","DEACTIVATE_DEVICE","ACTIVATE_DEVICE","VERIFY_CODE","RESEND_CODE","SEND_EMAIL","INITIATE_GRIEF_REPORT","BACK_FROM_STEP_GRIEF_REPORT","CANCEL_GRIEF_REPORT","COMPLETE_STEP1_GRIEF_REPORT","COMPLETE_STEP2_GRIEF_REPORT","SEND_GRIEF_REPORT",["CLICK_QUICK_VIEW_SELECT_BANNER","quick view select banner"],["CLICK_QUICK_VIEW_HOVER_BANNER","quick view hover banner"],["CLICK_QUICK_VIEW_NAVIGATION","quick view navigation"],["CLICK_QUICK_VIEW_CLOSE","quick view close"],["CLICK_QUICK_VIEW_OPEN","quick view open"],"CLOSE_WINDOW","REDEEM_CODE_SCAN","REDEEM_CODE_MANUAL","EASY_SIGNIN_SCAN","EASY_SIGNIN_MANUAL","FILTER_BY_MOST_RECENT","FILTER_BY_MOST_POPULAR","VIEW_ALL","OPEN","SEARCH","VIEW_SEARCH_RESULT","DELETE","EXIT_BACK","EXIT_PS_BUTTON","EXPAND_WINDOW","OPEN_GALLERY_VIEW","VIEW_NOTICE","CHECK_FOR_UPDATE","UPDATE_HISTORY","INFORMATION","ADD_TO_FOLDER","MOVE_FROM_FOLDER","EDIT_FOLDER","CLICK_TILE","CLICK_BANNER","SELECT_BANNER","CANCEL_OVERLAY","DISMISS_OVERLAY","PERMANENTLY_REMOVE_OVERLAY","CLICK_OVERLAY","FILTER_CATEGORY","SORT_CATEGORY","CLICK_RECOMMENDATION","FAVORITED","UNFAVORITED","VIEW_FRIENDS","VIEW_HOME","VIEW_PDC","VIEW_ACTIVITY_FEED","CLICK_SUBSCRIPTION_MANAGEMENT","VIEW_DOWNLOAD_LIST","VIEW_DOWNLOAD_QUEUE","VIEW_MY_VIDEOS","VIEW_STOREFRONT_COUNTRY","VIEW_WISHLIST","CLICK_BUTTON","CLICK_ARROW","CLICK_ICON","CLICK_NAV",["CLICK_TOS","click terms of service"],"CLICK_PRIVACY_POLICY","CLICK_ABOUT_US",["CLICK_CA_PRIVACY_RIGHTS","click your ca privacy rights"],"CLICK_BLOG","CLICK_SUPPORT","CLICK_CONTACT_US",["CLICK_OPEN_OSS","click open source licenses"],"CLICK_CAREERS","CLICK_PAYMENT_MANAGEMENT","CLICK_REDEEM_CODES",["VIEW_ADDON_TROPHIES","view add-on trophies"],"VIEW_MORE_GAMES","MANAGE_PERSONALIZATION_SETTINGS","VIEW_PRIVACY_SETTINGS","MANAGE_DATA_GATHERING_SETTINGS","CHANGE_PLAYTIME_LIMIT","SELECT_SET_HOME_DEVICE","SUBMIT_HOME_DEVICE","RETRY_DEVICE_LIMIT","CONFIRM_OUT_OF_DMA","ADD_TO_MY_DVR","REMOVE_FROM_MY_DVR","MORE_EPISODES","GO_TO_CHANNEL","START_WATCHING","CONTINUE_WATCHING","PLAY_LATEST_EPISODE","VIEW_FULL_DESCRIPTION","GO_BACK","GENRE","MULTIVIEW_PROGRAM_ADDED","MULTIVIEW_PROGRAM_REMOVED","MULTIVIEW_SWITCH_ONFOCUS","MULTIVIEW_SWITCH_OFFFOCUS","MULTIVIEW_WATCH","AD_CLICK","CLICK_HEADER"],hc),bc=mc(["AE","AR","AT","AU","BA","BE","BG","BH","BO","BR","CA","CH","CL","CN","CO","CR","CY","CZ","DE","DK","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HR","HU","ID","IE","IL","IN","IR","IS","IT","JP","KR","KW","KZ","LB","LT","LU","LV","ME","MK","MT","MX","MY","NI","NL","NO","NZ","OM","PA","PE","PL","PT","PY","QA","RO","RS","RU","SA","SE","SG","SI","SK","SV","TH","TR","TW","UA","US","UY","VN","ZA"]),Rc=mc(["PS3","PS4","PS4K","TV","WEB","MWEB","ANDROID","IOS","ROKU","ANDROID_TV","FIRE_TV","APPLE_TV","CHROMECAST"],Sc),Nc=mc(["START","COMPLETE","NEXT","BACK","CANCEL","SKIP","START_NESTED","COMPLETE_NESTED"],hc),Cc=mc(["ar_AE","ar_BH","ar_KW","ar_LB","ar_OM","ar_QA","ar_SA","ch_HK","ch_TW","cs_CZ","da_DK","de_AT","de_CH","de_DE","de_LU","el_GR","en_AE","en_AR","en_AU","en_BG","en_BH","en_BR","en_CA","en_CL","en_CO","en_CR","en_CY","en_CZ","en_DK","en_EC","en_FI","en_GB","en_GR","en_HK","en_HR","en_HU","en_ID","en_IE","en_IL","en_IN","en_IS","en_KW","en_LB","en_MT","en_MX","en_MY","en_NO","en_NZ","en_OM","en_PA","en_PE","en_PL","en_QA","en_RO","en_SA","en_SE","en_SG","en_SI","en_SK","en_TH","en_TR","en_TW","en_US","en_ZA","es_AR","es_BO","es_BR","es_CL","es_CO","es_CR","es_EC","es_ES","es_GT","es_HN","es_MX","es_NI","es_PA","es_PE","es_PY","es_SV","es_UY","fi_FI","fr_BE","fr_CA","fr_CH","fr_FR","fr_LU","hu_HU","id_ID","it_CH","it_IT","ja_JP","ko_KR","nl_BE","nl_NL","no_NO","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","ru_UA","sv_SE","th_TH","tr_TR","vi_VN","zh_CN","zh_HK","zh_TW"]),Pc=Object.freeze({WIFI:"wifi",WIRED:"wired",CELL_LTE:"cell lte",CELL_3G:"cell 3G"}),wc=mc(["CC_AMEX","CC_CARTEBANCAIRE","CC_CARTEBLEUE","CC_DISCOVER","CC_ELO","CC_HIPERCARD","CC_JCB","CC_MAESTRO","CC_MASTERCARD","CC_MASTERCARD_3DS","CC_VISA","CC_VISA_3DS","APM_PAYPAL","APM_PAYPAL_DI","APM_ALIPAY","APM_BOKU","APM_BOKU_DI","APM_CASHU","APM_CHINAUNIONPAY","APM_EDY","APM_GIROPAY","APM_IDEAL","APM_KAKAOPAY","APM_MISTERCASH","APM_PAYSAFECARD","APM_POSTEPAY","APM_SOFORT","APM_SOLO","APM_YANDEXMONEY","VOUCHER","WALLET"],(function(e){return e.toLowerCase().replace(/_/g,":")})),Vc=mc([["ALLOW","allow advertising"],["DISALLOW","disallow advertising"]],hc),Mc=mc(["TRIAL","SUBSCRIPTION","NOT_SUBSCRIBED"],hc),Lc=mc(["FREE_TRIAL","SUBSCRIPTION","LAPSED","NEVER_SUBSCRIBED"],hc),Dc=mc(["GAME_DIGITAL","GAME_DISC","GAME_PSNOW_PS3","GAME_PSNOW_PS4","APP"]),Uc=mc([["ALLOW","allow recommendations"],["DISALLOW","disallow recommendations"]],hc),kc=Object.freeze({E1:"e1-np",NP:"np"}),Fc=mc(["CRITICAL","MAJOR","MINOR","NORMAL","INFO"],Sc),jc=mc(["APP",["PAGE","Page"]]),Gc=mc(["LIVE","VOD","DVR","CATCH_UP","PROMO","TRAILER","PS_VUE_LIVE","TVOD","SVOD","HLS","DASH","NONE","UNKNOWN"]),Bc=mc(["VOUCHER_CASH","VOUCHER_PRODUCT","FUNDING","FUNDING_3DS","BEGIN_3DS","COMPLETE_3DS","MISC","VIEW_PRODUCT","ADD_TO_CART","REMOVE_FROM_CART","VIEW_CART","CONFIRM_PURCHASE","PURCHASE","PURCHASE_3DS","BUY_NOW","BUY_NOW_3DS","PREORDER_PAY_NOW","PREORDER_PAY_NOW_3DS","RECOMMENDATION","VOUCHER_PRODUCT_PERCENT_OFF","VOUCHER_ORDER_PERCENT_OFF","VOUCHER_PRODUCT_FIXED_AMOUNT_OFF",["APPLY_VOUCHER","voucher application"],"PURCHASE_DETAILS","PROCESSING_PAYMENT","CONFIRM_PURCHASE_FPI"],hc),Hc=mc(["START","PAUSE","RESUME","PROGRESS","COMPLETE","AUTO_START","ON_FOCUS_START","ON_FOCUS_AUTO_START","REBUFFER","PLAYER_ERROR"]),Wc=mc(["TV_SHOWS","MOVIES","SPORTS","NEWS","SENTV_VIDEOS","INFOMERCIALS","PROMO","USER_GENERATED_CONTENT","LIVE_EVENT","CATCH_UP","CHANNEL","MUSIC","OTHER","NONE"]),Yc=mc(["LIVE","PREVIEW","TRAILER","FULL"]),xc=mc(["FULLSCREEN","PARTIAL","UNKNOWN"],hc),Kc={},zc=function(e){return function(t){return function(n){return vc(Kc[e])&&function(e,t){Kc[e]=Object.keys(t).map((function(e){return t[e]}))}(e,t),ra(Kc[e],n)}}},qc=zc("COUNTRIES")(bc),Jc=zc("DEVICES")(Rc),Xc=zc("FORM_ACTIONS")(Nc),Zc=zc("NETWORKS")(Pc),Qc=zc("PAYMENT_METHODS")(wc),$c=zc("PSNOW_TYPES")(Mc),es=zc("PSPLUS_TYPES")(Lc),ts=zc("SEVERITIES")(Fc),ns=zc("STREAM_TYPES")(Gc),rs=zc("TRANSACTION_TYPES")(Bc),is=zc("VIDEO_ACTIONS")(Hc),os=zc("VIDEO_FORMATS")(Yc),as=zc("VIDEO_TYPES")(Wc),cs=zc("WINDOW_MODES")(xc);function ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var us,ps=(ss(gc={},"missingFieldDeviceId",'The field "deviceId" is required and cannot be empty.'),ss(gc,"missingFieldApplicationName",'The field "appName" is required and cannot be empty.'),ss(gc,"missingFieldBuildVersion",'The field "buildVersion" is required and cannot be empty.'),ss(gc,"missingFieldDeviceType",'The field "deviceType" is required and cannot be empty.'),ss(gc,"missingFieldCharSet",'The field "charset" is required and cannot be empty.'),ss(gc,"missingPsnAccountLanguage",'"psnAccountLanguage" cannot be empty if "psnAccountRegion" is set.'),ss(gc,"missingPsnAccountRegion",'"psnAccountRegion" cannot be empty if "psnAccountLanguage" is set.'),ss(gc,"invalidDeviceType",'The provided "deviceType" is invalid: {value}.'),ss(gc,"invalidNetworkType",'The provided "networkType" is invalid: {value}.'),ss(gc,"invalidNpAccountLocale",'The NP Account Locale "locale" provided is invalid: {value}.'),ss(gc,"invalidPsnAccountLanguage",'The PSN Account Language "psnAccountLanguage" is invalid: {value}.'),ss(gc,"invalidPsnAccountRegion",'The PSN Account Language "psnAccountRegion" is invalid: {value}.'),gc),ls=function(e){var t,n;function r(){var t;return(t=e.call(this,{messageTemplates:ps})||this).npAccountValidator=new oo,t.psnAccountRegionValidator=new fo,t.psnAccountLanguageValidator=new uo,t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isValid=function(e){var t=!0;return e.appName||(this.error("missingFieldApplicationName"),t=!1),e.buildVersion||(this.error("missingFieldBuildVersion"),t=!1),e.deviceId||(this.error("missingFieldDeviceId"),t=!1),e.deviceType||(this.error("missingFieldDeviceType"),t=!1),e.charset||(this.error("missingFieldCharSet"),t=!1),Jc(e.deviceType)||(this.error("invalidDeviceType",e.deviceType),t=!1),e.networkType&&!Zc(e.networkType)&&(this.error("invalidNetworkType",e.networkType),t=!1),e.locale&&!this.npAccountValidator.isValid(e.locale)&&(this.error("invalidNpAccountLocale",e.locale),t=!1),e.psnAccountRegion&&!this.psnAccountRegionValidator.isValid(e.psnAccountRegion)&&(this.error("invalidPsnAccountRegion",e.psnAccountRegion),t=!1),e.psnAccountLanguage&&!this.psnAccountLanguageValidator.isValid(e.psnAccountLanguage)&&(this.error("invalidPsnAccountLanguage",e.psnAccountLanguage),t=!1),e.psnAccountLanguage&&!e.psnAccountRegion&&(this.error("missingPsnAccountRegion"),t=!1),!e.psnAccountLanguage&&e.psnAccountRegion&&(this.error("missingPsnAccountLanguage"),t=!1),t},r}(no);function fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ys(e){var t=(us||(us=new RegExp("^([a-z]{2,3})(?:[-_]([a-z]{4}))?(?:[-_]((?:[a-z]{2})|(?:[0-9]{3})))?((?:[-_](?:(?:[a-z0-9]{5,8})|(?:[0-9][a-z0-9]{3})))*)((?:(?:[-_][a-wyz0-9]{1})(?:[-_][a-z0-9]{2,8})+)*)([-_]x(?:[-_][a-z0-9]{1,8})+)?$","i")),us).exec(e);if(!t)return null;var n=fs(t,5);return[n[1],n[2],n[3],function(e){return e.length?e.split(/-|_/).slice(1):[]}(n[4]),[]]}var ds=function(e){var t=ys(e);if(!t)return null;var n=fs(t,5);return{languageId:n[0],scriptId:n[1],regionId:n[2],variants:n[3],extensions:n[4]}};function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vs=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._legacyEnvironment=e,this._logger=t.logger,this._deprecationManager=t.deprecationManager,this._npAccountLocaleValidator=void 0,this._psnAccountLanguageValidator=void 0,this._psnAccountRegionValidator=void 0}var t,n,r,i=e.prototype;return i._requireValidPlusUserType=function(e){if(e&&!es(e))throw new Error("Invalid value for plusUserType.")},i.user_signOut=function(){this._legacyEnvironment.withUserSignedOut()},i.user_withPlusMembership=function(e){this._requireValidPlusUserType(e),this._legacyEnvironment.withUserPlusMembership(e)},i.user_withNoPlusMembership=function(e){this._requireValidPlusUserType(e),this._legacyEnvironment.withUserNoPlusMembership(e)},i.user_withPostalCode=function(e){var t;e&&(ga(e)&&!ba(e)?t=e.trim():ma(e)&&e>0&&(t=String(e))),this._legacyEnvironment.withUserPostalCode(t)},i.user_withDma=function(e){var t;e&&(ga(e)&&!ba(e)?t=e.trim():ma(e)&&e>0&&(t=String(e))),this._legacyEnvironment.withUserDma(t)},i.user_withPsNowMembershipType=function(e){this._legacyEnvironment.withUserPsNowMembershipType(e)},i._user_withPsnAccountLanguage=function(e){if(e&&!this.psnAccountLanguageValidator.isValid(e))throw new Error('Invalid value for "psnAccountLanguage": '.concat(e,"!"));this._legacyEnvironment.withUserPsnAccountLanguage(e)},i._user_withPsnAccountRegion=function(e){if(e&&!this.psnAccountRegionValidator.isValid(e))throw new Error('Invalid value for "psnAccountRegion": '.concat(e,"!"));this._legacyEnvironment.withUserPsnAccountRegion(e)},i.user_withPsnAccount=function(e,t){this._legacyEnvironment.withoutUserNpLocale(),this._user_withPsnAccountRegion(t),this._user_withPsnAccountLanguage(e)},i.user_withNpAccountLocale=function(e){if(e){if(this._deprecationManager.trigger(new Uo({date:"2019-03-12",name:"environment.locale",description:"Use of env.locale is deprecated, use psnAccountLanguage and psnAccountRegion.",overrideKey:"allowEnvironmentLocale"})),!this.npAccountLocaleValidator.isValid(e))throw new Error('Invalid value for "locale": '.concat(e,"!"));if(!qc(e.substr(-2)))throw new Error('Invalid country in "locale": '.concat(e,"!"));var t=ds(e);if(!t||!t.languageId)throw new Error("Invalid Locale encountered in userWithNpAccountLocale.  Should not be possible.");this.user_withPsnAccount(t.languageId,t.regionId)}else this.user_withPsnAccount(!1,!1)},i.platform_withNetworkType=function(e){this._legacyEnvironment.withPlatformNetworkType(e)},i.compat_withPlusUserStatusAndType=function(e,t){!0!==e?!1!==e?this._logger.error("updatePlusUserStatus called with invalid value for isPlusUser: ",JSON.stringify(e)):this.user_withNoPlusMembership(t):this.user_withPlusMembership(t)},i.compat_withUserSignedIn=function(e,t,n,r,i){if(t&&i)throw new Error("Cannot use both npAccountLocale and psnAccount.");if(this._legacyEnvironment.withUserSignedIn(),this._legacyEnvironment.withUserVisitorId(e),this.user_withDma(r),this.user_withPostalCode(n),this.user_withNpAccountLocale(t),i){if(!i.language||!i.region)throw new Error("The PsnAccountObject must contain keys .language and .region");this.user_withPsnAccount(i.language,i.region)}},i.compat_resolveUndefinedSignedIn=function(){void 0===this._legacyEnvironment.rawSignedIn&&(this._legacyEnvironment.withUserSignedIn(),this._deprecationManager.trigger(new Uo({date:"2018-11-14",name:"env.signedIn",description:"Please set a value for env.signedIn.  Default value is changing.",overrideKey:"allowUndefinedEnvSignedIn"})))},i.compat_resolveConstructorSignedOut=function(){this._legacyEnvironment.isSignedIn||(this._legacyEnvironment.withUserSignedOut(),this._legacyEnvironment.withUserVisitorId(void 0),this._legacyEnvironment.withUserDma(void 0),this._legacyEnvironment.withUserPostalCode(void 0),this._legacyEnvironment.withoutUserNpLocale(),this._legacyEnvironment.withUserPsnAccountRegion(void 0),this._legacyEnvironment.withUserPsnAccountLanguage(void 0))},i.compat_withUserSignedOutBlankAssociated=function(){this._legacyEnvironment.withUserSignedOut(),this._legacyEnvironment.withUserVisitorId(void 0),this._legacyEnvironment.withUserDma(void 0),this._legacyEnvironment.withUserPostalCode(void 0),this._legacyEnvironment.withoutUserNpLocale(),this._legacyEnvironment.withUserPsnAccountRegion(void 0),this._legacyEnvironment.withUserPsnAccountLanguage(void 0)},t=e,(n=[{key:"psnAccountLanguageValidator",get:function(){return this._psnAccountLanguageValidator||(this._psnAccountLanguageValidator=new uo),this._psnAccountLanguageValidator}},{key:"psnAccountRegionValidator",get:function(){return this._psnAccountRegionValidator||(this._psnAccountRegionValidator=new fo),this._psnAccountRegionValidator}},{key:"npAccountLocaleValidator",get:function(){return this._npAccountLocaleValidator||(this._npAccountLocaleValidator=new oo),this._npAccountLocaleValidator}}])&&_s(t.prototype,n),r&&_s(t,r),e}();function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Es=function(){function e(e){this._environment=Object.freeze(qn(e))}var t,n,r,i=e.prototype;return i._replaceWith=function(e){this._environment=Object.freeze(e)},i._unfrozenValue=function(){return qn(this.value)},i.withUserDma=function(e){var t=this._unfrozenValue();t.DMA=e||void 0,this._replaceWith(t)},i.withUserNoPlusMembership=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this._unfrozenValue();t.isPlusUser=!1,t.plusUserType=e&&es(e)?e:void 0,this._replaceWith(t)},i.withoutUserNpLocale=function(){var e=this._unfrozenValue();delete e.locale,this._replaceWith(e)},i.withUserPsnAccountRegion=function(e){var t=this._unfrozenValue();t.psnAccountRegion=e||void 0,this._replaceWith(t)},i.withUserPsnAccountLanguage=function(e){var t=this._unfrozenValue();t.psnAccountLanguage=e||void 0,this._replaceWith(t)},i.withUserPlusMembership=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this._unfrozenValue();t.isPlusUser=!0,t.plusUserType=e&&es(e)?e:void 0,this._replaceWith(t)},i.withUserPostalCode=function(e){var t=this._unfrozenValue();t.postalCode=e||void 0,this._replaceWith(t)},i.withUserPsNowMembershipType=function(e){var t=$c(e)?e:void 0,n=this._unfrozenValue();n.psnowMembershipType=t,this._replaceWith(n)},i.withUserSignedIn=function(){var e=this._unfrozenValue();e.signedIn=!0,this._replaceWith(e)},i.withUserSignedOut=function(){var e=this._unfrozenValue();e.signedIn=!1,this._replaceWith(e)},i.withUserVisitorId=function(e){var t=this._unfrozenValue();t.visitorId=e||void 0,this._replaceWith(t)},i.withPlatformPrivacyWs1=function(e){var t=this._unfrozenValue(),n=e;Zo(e)||(n=Jo.MINIMAL),t.platformPrivacyWs1=n,this._replaceWith(t)},i.withPlatformNetworkType=function(e){var t=Zc(e)?e:void 0,n=this._unfrozenValue();n.networkType=t,this._replaceWith(n)},t=e,(n=[{key:"value",get:function(){return this._environment}},{key:"platformNetworkType",get:function(){return this.value.networkType}},{key:"rawSignedIn",get:function(){return this.value.signedIn}},{key:"isSignedIn",get:function(){return void 0===this.value.signedIn||this.value.signedIn}},{key:"platformPrivacyWs1",get:function(){return this.value.platformPrivacyWs1}},{key:"userVisitorId",get:function(){return this.value.visitorId}}])&&hs(t.prototype,n),r&&hs(t,r),e}(),gs=!1,ms=new RegExp("(".concat(["&quot;","&rsquo;",'"',"&","'","#","\\$","%","\\^","\\*","!","<",">","~",";","\\?","\u2122","\xae","\xa9",":"].join("|"),")"),"g"),Is=function(){function e(){}return e.truncateJsonToString=function(e,t,n){if(!e)return"";var r=JSON.stringify(e);if(r.length<=t)return r;for(var i=n+"...".length,o=Object.keys(e).map((function(t){var n=e[t];return{key:t,value:n,output:function(e){return"number"===typeof e}(n)||"undefined"===typeof n?"":ga(n)?n:JSON.stringify(n)}}));r.length>t&&o.length>0;){o.sort((function(e,t){return t.output.length-e.output.length}));var a=o[0];if(a.output.length<=i)break;ga(a.value)||(a.value=a.output,e[a.key]=a.value,r=JSON.stringify(e));var c=Math.max(a.value.length-(r.length-t),Math.floor(a.value.length/2),i);a.value=a.value.substring(0,c-"...".length)+"...",a.output=a.value,e[a.key]=a.value,r=JSON.stringify(e)}return r},e.cleanUpString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return"";var r=String(e);return r=r.replace(ms,""),t&&(r=r.replace(t,"")),r=r.replace(/[ ]{2,}/," ").replace(/\s?:\s?/g,":").replace(/(^\s+|\s+$)/g,""),n?r.toLowerCase():r},e.cleanUpLocationString=function(t){for(var n=[],r=t.split(":"),i=0;i<r.length;i+=1)r[i]&&n.push(e.cleanUpString(r[i]));return n.join(":")},e}();function Ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ss=function(){function e(e,t,n,r){this.environment=e||{},this.config=t||{},this.__logger=this.config.__logger||new Kr,this.__pluginName=n,this.__serviceLocator=r,this._useAsyncInterface=!1}var t,n,r,i=e.prototype;return i._dispatchAsync=function(e){var t=this;return Promise.resolve(null).then((function(){var n=t.buildPayloadAsync(e);return n?(t.config.dryRun||t.sendPayloadAsync(n,e),n):n}))},i._dispatchSync=function(e,t){var n=this.buildPayload(e,t);return n?(this._logEventPayload(e,n),this.config.dryRun?this.logger.warning("Not sending ".concat(e.type," event to ").concat(this.pluginName," (dry run)")):this.sendPayload(n,e,t)):!1===n&&this.logger.warning("Could not build payload for ".concat(e.type," event to ").concat(this.pluginName,"!")),this.config.dryRun?null:n},i.dispatch=function(e,t){return this._useAsyncInterface?this._dispatchAsync(t):this._dispatchSync(e,t)},i._logEventPayload=function(e,t){var n=e&&e.type||"Unknown";this.logger.debug("".concat(this.pluginName," ").concat(n," Sending payload."),{payload:t})},i.buildPayload=function(e,t){return this.logger.warning("".concat(this.constructor.name,".buildPayload() is not implemented by plugin!")),{}},i.buildPayloadAsync=function(e){throw new Error("Method buildPayloadAsync is abstract.")},i.sendPayload=function(e,t,n){this.logger.warning("".concat(this.constructor.name,".sendPayload() is not implemented by plugin!"))},i.sendPayloadAsync=function(e,t){throw new Error("Method sendPayloadAsync is abstract.")},t=e,(n=[{key:"pluginName",get:function(){return this.__pluginName}},{key:"serviceLocator",get:function(){return this.__serviceLocator}},{key:"logger",get:function(){return this.__logger}}])&&Ts(t.prototype,n),r&&Ts(t,r),e}(),As={};function Os(e){return(Os="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}As.MISSING_VISITOR_ID="0000000000000000000000000000000000000000000000000000000000000000",As.COUNTRY_TERRITORY_ENUM={ae:"middle_east",ar:"latam",at:"europe_other",au:"anz",ba:"eastern_europe",be:"benelux",bg:"eastern_europe",bh:"middle_east",bo:"latam",br:"latam",ca:"usca",ch:"europe_other",cl:"latam",cn:"china",co:"latam",cr:"latam",cy:"europe_other",cz:"eastern_europe",de:"efigs",dk:"nordics",ec:"latam",ee:"eastern_europe",sv:"latam",gt:"latam",hn:"latam",py:"latam",es:"efigs",fi:"nordics",fr:"efigs",gb:"efigs",gr:"europe_other",hk:"sceh",hr:"europe_other",hu:"eastern_europe",id:"sceh",ie:"europe_other",il:"middle_east",in:"europe_other",ir:"middle_east",is:"europe_other",it:"efigs",jp:"scej",kr:"scek",kw:"middle_east",kz:"middle_east",lb:"middle_east",lt:"eastern_europe",lu:"benelux",lv:"eastern_europe",me:"eastern_europe",mk:"eastern_europe",mt:"europe_other",mx:"latam",my:"sceh",nl:"benelux",ni:"latam",no:"nordics",nz:"anz",om:"middle_east",pa:"latam",pe:"latam",pl:"eastern_europe",pt:"europe_other",qa:"middle_east",ro:"eastern_europe",rs:"eastern_europe",ru:"eastern_europe",sa:"middle_east",se:"nordics",sg:"sceh",si:"europe_other",sk:"eastern_europe",th:"sceh",tr:"europe_other",tw:"sceh",ua:"eastern_europe",us:"usca",uy:"latam",vn:"sceh",za:"africa"},Object.freeze(As.COUNTRY_TERRITORY_ENUM),As.DEFAULT_ORGANIZATION_ID="BD260C0F53C9733E0A490D45@AdobeOrg",As.DEFAULT_TRACKING_SERVER="metrics.aem.playstation.com",As.DEFAULT_TRACKING_SERVER_SECURE="smetrics.aem.playstation.com",As.DEFAULT_MARKETING_CLOUD_SERVER="metrics.aem.playstation.com",As.DEFAULT_MARKETING_CLOUD_SERVER_SECURE="smetrics.aem.playstation.com",As.DEFAULT_AUDIENCE_MANAGER_SERVER="sne.demdex.net",As.DEFAULT_AUDIENCE_MANAGER_SERVER_SECURE="sne.demdex.net",As.INVALID_COMMA_REGEX=/,/g,Object.freeze(As);var bs,Rs="[object Symbol]",Ns=function(e){return"symbol"==Os(e)||Fe(e)&&D(e)==Rs},Cs=NaN,Ps=/^\s+|\s+$/g,ws=/^[-+]0x[0-9a-f]+$/i,Vs=/^0b[01]+$/i,Ms=/^0o[0-7]+$/i,Ls=parseInt,Ds=function(e){if("number"==typeof e)return e;if(Ns(e))return Cs;if(k(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=k(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ps,"");var n=Vs.test(e);return n||Ms.test(e)?Ls(e.slice(2),n?2:8):ws.test(e)?Cs:+e},Us=1/0,ks=17976931348623157e292,Fs=function(e){return e?(e=Ds(e))===Us||e===-Us?(e<0?-1:1)*ks:e===e?e:0:0===e?e:0},js=function(e){var t=Fs(e),n=t%1;return t===t?n?t-n:t:0},Gs=function(e,t){return qa(t,(function(t){return e[t]}))},Bs=function(e){return null==e?[]:Gs(e,_t(e))},Hs=Math.max,Ws=function(e,t,n,r){e=dt(e)?e:Bs(e),n=n&&!r?js(n):0;var i=e.length;return n<0&&(n=Hs(i+n,0)),Xn(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&xa(e,t,n)>-1},Ys=["&quot;","&rsquo;","\t","\n","\r","#","&","<",">"],xs=["!",'"',"$","%","'","*",";","?","^","~","\xae","\xa9","\u2122","\u2019"],Ks=function(e){return e.replace(/([.*^$+?|()[\]{}\\])/g,"\\$1")},zs=function(e){return new RegExp("(".concat(e.map(Ks).join("|"),")"),"g")},qs=new RegExp("\\s+","g"),Js=zs(Ys.concat(xs).concat([",","=","\u201c","\u201d","\u2018","\xab","\xbb","[","]","{","}","(",")","`","+","/","|","@","\\"])),Xs=function(e){return Is.cleanUpString(e)},Zs=function(e,t){if("string"===typeof e){var n=t||Xs;return String(e).split(":").map(n).join(":")||void 0}},Qs=function(e,t,n){if(4*e.length<=t)return e;var r=Eo(e,t);if(r===e||!n||0===n.length)return r;var i=n.map((function(e){return r.lastIndexOf(e)})).reduce((function(e,t){return Math.max(e,t)}),0);return r.substr(0,i)},$s=function(e){var t=e instanceof RegExp?e:zs(Aa(e)?e:[e]);return function(e){return e.replace(t,"")}},eu=function(e){return e.toLowerCase()},tu=function(e){return e},nu=function(e){return function(e){return e.replace(qs," ")}(e).trim()},ru=function(e){var t=Ys.concat(xs);return $s(t)(e)},iu=function(e){var t=Ys.concat(xs).filter((function(e){return"$"!==e}));return $s(t)(e)},ou=function(e){var t=Ys.concat(xs).filter((function(e){return!ra(["?","&"],e)}));return $s(t)(e)},au=function(e){return Aa(e)?e:[e]},cu=function(e){return ra([void 0,null,!1],e)?"":String(e)},su=function(e){return function(t){return au(t).map(cu).map($s(e)).map(ru).map(nu).join(e)}},uu=su(":"),pu=(bs=",",function(e){return au(e).map(cu).map($s(bs)).map(nu).join(bs)}),lu=su("-"),fu=su("|"),yu=su(";"),du=function(e){return Qs(nu($s(Js)(e)),100)},_u=function(e){return Number(e).toFixed(2)},vu=function(e,t){if(!ra([void 0,null,!1],e)){if("number"===typeof e)return e;var n=t||{},r=n.allowUppercase,i=n.cleaner,o=n.delimiters;return Qs((r?tu:eu)(nu((i||ru)(e))),255,o)||void 0}},hu=function(e){if(!ra([void 0,null,!1],e))return"number"===typeof e?e:eu(nu(ru(e)))||void 0},Eu=function(e,t){var n=function(e){if(!e)return"empty";var t=ds(e);return t.languageId?t.languageId.toLowerCase():"empty"}(e),r=function(e){return e?e.toLowerCase():"empty"}(t);return[function(e){if(!e)return"empty";var t=e.toLowerCase();return As.COUNTRY_TERRITORY_ENUM[t]||"other"}(t),r,n].join("-")},gu=function(e){return function(e){return e&&Xn(e)&&!ba(e)}(e)?e.trim():"empty"},mu=function(e){var t=e.environment||{},n=Eu(t.psnAccountLanguage,t.psnAccountRegion),r=gu(t.postalCode),i=gu(t.DMA);return vu(uu([n,r,i]),{allowUppercase:!0})},Iu=function(e){var t=[];return e.postAnythingHasText&&t.push("txt"),e.postAnythingHasImage&&t.push("img"),e.postAnythingHasUrl&&t.push("url"),e.postAnythingHasGameTag&&t.push("gam"),e.postAnythingHasFriendTag&&t.push("frn"),0!==t.length?t.join("|"):"no post contents"},Tu=function(e){var t="no impression";return e>6e4?t="60s+":e>=3e4?t="30-59s":e>=1e4?t="10-29s":e>=5e3?t="5-9.9s":e>=2e3?t="2-4.9s":e>=500&&(t="0.5-1.9s"),t},Su=[1,5,6,33,39,58,60,68],Au=function(e){return Is.cleanUpString(e)},Ou=["store promo story tile","publisher promo story tile","screenshot upload verified story tile","video upload verified story tile"],bu=function(e,t){var n=e&&e.toLowerCase();return n&&Ws(Ou,n)&&t||"no tile id"},Ru=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(e,t){return Is.cleanUpString(e,t)},r=function(e,t,r){var i=void 0===r?n(e,t):n(e,t).substr(0,r);return{cleanString:i,size:ho(i)}},i=function(e){return e.map((function(e){return e.cleanString})).join(":")};e=0===t.tilePosition?"zero":t.tilePosition>=53?"53+":t.tilePosition>=33?"33-52":t.tilePosition>=23?"23-32":t.tilePosition>=18?"18-22":t.tilePosition>=13?"13-17":t.tilePosition;var o=r(t.tileType,As.INVALID_COMMA_REGEX),a=[o,r(t.productTitle||"no product",As.INVALID_COMMA_REGEX),r(t.ctaType||"no cta",As.INVALID_COMMA_REGEX),r(e,As.INVALID_COMMA_REGEX),r(Tu(t.impressionTime),As.INVALID_COMMA_REGEX),r(bu(o.cleanString,t.tileId||t.tileTrackingId),As.INVALID_COMMA_REGEX),r(t.campaignId||"no campaign",As.INVALID_COMMA_REGEX,100),r(t.tileAuthor||"no author",As.INVALID_COMMA_REGEX),r(t.tileTitle||"no title",As.INVALID_COMMA_REGEX,50),r(t.tileCaption||"no caption",As.INVALID_COMMA_REGEX,20),r(Iu(t),As.INVALID_COMMA_REGEX)],c=function(e){return e.map((function(e){return e.size})).reduce((function(e,t){return e+t}),0)+(e.length-1)},s=1,u=6,p=9,l=8,f=30,y=255;return[p,l,u,s].forEach((function(e){c(a)>y&&a[e].size>f&&(a[e]=r(Eo(a[e].cleanString,f)))})),i(a)},Nu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Is.cleanUpString(e.name,As.INVALID_COMMA_REGEX),Is.cleanUpString(e.sku||"no product sku",As.INVALID_COMMA_REGEX)].join(":")},Cu=new qo,Pu={populateProps:function(e){Object.keys(e).forEach((function(t){if("eVar"===t.substr(0,4)){var n=parseInt(t.substr(4),10);n<76&&!Ws(Su,n)&&!e["prop".concat(n)]&&(e["prop".concat(n)]="D=v".concat(n))}}))},getLinkType:function(e){return e.downloadClick?"d":e.exitClick?"e":"o"},getBannerInfo:Au,getBannersInfo:function(e){return e.banners&&e.banners.length?e.banners.map((function(e){return Au(e)})).join(","):null},getTileInfo:Ru,getTilesInfo:function(e){return e.tiles&&e.tiles.length?e.tiles.map((function(e){return Ru(e)})).join(","):null},getLocaleInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cu;t.trigger(new Uo({date:"2019-03-12",name:"adobeUtils.getLocaleInfo",description:"If anyone is using this, let GHOST know.",overrideKey:"allowAdobeUtilsGetLocaleInfo"}));var n=e||{};if(n.locale&&(!n.psnAccountLanguage||!n.psnAccountRegion)){var r=e.locale.split("_");(n=qn(e)).psnAccountLanguage=r[0],n.psnAccountRegion=r[1]}return mu({environment:n})},getRecommendationInfo:Nu,getRecommendationsInfo:function(e){return e.recommendations&&e.recommendations.length?e.recommendations.map((function(e){return Nu(e)})).join(","):null}},wu="5.6.0",Vu=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Mu=1,Lu=2,Du=function(e,t,n,r,i,o){var a=n&Mu,c=e.length,s=t.length;if(c!=s&&!(a&&s>c))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var p=-1,l=!0,f=n&Lu?new Ba:void 0;for(o.set(e,t),o.set(t,e);++p<c;){var y=e[p],d=t[p];if(r)var _=a?r(d,y,p,t,e,o):r(y,d,p,e,t,o);if(void 0!==_){if(_)continue;l=!1;break}if(f){if(!Vu(t,(function(e,t){if(!Ja(f,t)&&(y===e||i(y,e,n,r,o)))return f.push(t)}))){l=!1;break}}else if(y!==d&&!i(y,d,n,r,o)){l=!1;break}}return o.delete(e),o.delete(t),l},Uu=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},ku=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Fu=1,ju=2,Gu="[object Boolean]",Bu="[object Date]",Hu="[object Error]",Wu="[object Map]",Yu="[object Number]",xu="[object RegExp]",Ku="[object Set]",zu="[object String]",qu="[object Symbol]",Ju="[object ArrayBuffer]",Xu="[object DataView]",Zu=A?A.prototype:void 0,Qu=Zu?Zu.valueOf:void 0,$u=function(e,t,n,i,o,a,c){switch(n){case Xu:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ju:return!(e.byteLength!=t.byteLength||!a(new Xt(e),new Xt(t)));case Gu:case Bu:case Yu:return r(+e,+t);case Hu:return e.name==t.name&&e.message==t.message;case xu:case zu:return e==t+"";case Wu:var s=Uu;case Ku:var u=i&Fu;if(s||(s=ku),e.size!=t.size&&!u)return!1;var p=c.get(e);if(p)return p==t;i|=ju,c.set(e,t);var l=Du(s(e),s(t),i,o,a,c);return c.delete(e),l;case qu:if(Qu)return Qu.call(e)==Qu.call(t)}return!1},ep=1,tp=Object.prototype.hasOwnProperty,np=function(e,t,n,r,i,o){var a=n&ep,c=Dt(e),s=c.length;if(s!=Dt(t).length&&!a)return!1;for(var u=s;u--;){var p=c[u];if(!(a?p in t:tp.call(t,p)))return!1}var l=o.get(e);if(l&&o.get(t))return l==t;var f=!0;o.set(e,t),o.set(t,e);for(var y=a;++u<s;){var d=e[p=c[u]],_=t[p];if(r)var v=a?r(_,d,p,t,e,o):r(d,_,p,e,t,o);if(!(void 0===v?d===_||i(d,_,n,r,o):v)){f=!1;break}y||(y="constructor"==p)}if(f&&!y){var h=e.constructor,E=t.constructor;h!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof h&&h instanceof h&&"function"==typeof E&&E instanceof E)&&(f=!1)}return o.delete(e),o.delete(t),f},rp=1,ip="[object Arguments]",op="[object Array]",ap="[object Object]",cp=Object.prototype.hasOwnProperty,sp=function(e,t,n,r,i,o){var a=xe(e),c=xe(t),s=a?op:zt(e),u=c?op:zt(t),p=(s=s==ip?ap:s)==ap,l=(u=u==ip?ap:u)==ap,f=s==u;if(f&&ze(e)){if(!ze(t))return!1;a=!0,p=!1}if(f&&!p)return o||(o=new Ce),a||ot(e)?Du(e,t,n,r,i,o):$u(e,t,s,n,r,i,o);if(!(n&rp)){var y=p&&cp.call(e,"__wrapped__"),d=l&&cp.call(t,"__wrapped__");if(y||d){var _=y?e.value():e,v=d?t.value():t;return o||(o=new Ce),i(_,v,n,r,o)}}return!!f&&(o||(o=new Ce),np(e,t,n,r,i,o))},up=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Fe(t)&&!Fe(n)?t!==t&&n!==n:sp(t,n,r,i,e,o))},pp=1,lp=2,fp=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var c=n[i];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){var s=(c=n[i])[0],u=e[s],p=c[1];if(a&&c[2]){if(void 0===u&&!(s in e))return!1}else{var l=new Ce;if(r)var f=r(u,p,s,e,t,l);if(!(void 0===f?up(p,u,pp|lp,r,l):f))return!1}}return!0},yp=function(e){return e===e&&!k(e)},dp=function(e){for(var t=_t(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,yp(i)]}return t},_p=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},vp=function(e){var t=dp(e);return 1==t.length&&t[0][2]?_p(t[0][0],t[0][1]):function(n){return n===e||fp(n,e,t)}};function hp(e){return(hp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ep=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gp=/^\w*$/,mp=function(e,t){if(xe(e))return!1;var n=hp(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ns(e))||gp.test(e)||!Ep.test(e)||null!=t&&e in Object(t)},Ip="Expected a function";function Tp(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Ip);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Tp.Cache||Oe),n}Tp.Cache=Oe;var Sp=Tp,Ap=500,Op=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bp=/\\(\\)?/g,Rp=function(e){var t=Sp(e,(function(e){return n.size===Ap&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Op,(function(e,n,r,i){t.push(r?i.replace(bp,"$1"):n||e)})),t})),Np=1/0,Cp=A?A.prototype:void 0,Pp=Cp?Cp.toString:void 0,wp=function e(t){if("string"==typeof t)return t;if(xe(t))return qa(t,e)+"";if(Ns(t))return Pp?Pp.call(t):"";var n=t+"";return"0"==n&&1/t==-Np?"-0":n},Vp=function(e){return null==e?"":wp(e)},Mp=function(e,t){return xe(e)?e:mp(e,t)?[e]:Rp(Vp(e))},Lp=1/0,Dp=function(e){if("string"==typeof e||Ns(e))return e;var t=e+"";return"0"==t&&1/e==-Lp?"-0":t},Up=function(e,t){for(var n=0,r=(t=Mp(t,e)).length;null!=e&&n<r;)e=e[Dp(t[n++])];return n&&n==r?e:void 0},kp=function(e,t,n){var r=null==e?void 0:Up(e,t);return void 0===r?n:r},Fp=function(e,t){return null!=e&&t in Object(e)},jp=function(e,t,n){for(var r=-1,i=(t=Mp(t,e)).length,o=!1;++r<i;){var a=Dp(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&$e(i)&&Ze(a,i)&&(xe(e)||Ye(e))},Gp=function(e,t){return null!=e&&jp(e,t,Fp)},Bp=1,Hp=2,Wp=function(e,t){return mp(e)&&yp(t)?_p(Dp(e),t):function(n){var r=kp(n,e);return void 0===r&&r===t?Gp(n,e):up(t,r,Bp|Hp)}},Yp=function(e){return function(t){return null==t?void 0:t[e]}},xp=function(e){return function(t){return Up(t,e)}},Kp=function(e){return mp(e)?Yp(Dp(e)):xp(e)};function zp(e){return(zp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qp=function(e){return"function"==typeof e?e:null==e?ea:"object"==zp(e)?xe(e)?Wp(e[0],e[1]):vp(e):Kp(e)},Jp=function(e,t){return function(n,r){if(null==n)return n;if(!dt(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}($o),Xp=function(e,t){var n;return Jp(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};function Zp(e){return(Zp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Qp,$p,el,tl,nl,rl,il,ol,al=function(e,t,n){if(!k(n))return!1;var i=Zp(t);return!!("number"==i?dt(n)&&Ze(t,n.length):"string"==i&&t in n)&&r(n[t],e)},cl=function(e,t,n){var r=xe(e)?Vu:Xp;return n&&al(e,t,n)&&(t=void 0),r(e,qp(t,3))},sl=[Bc.RECOMMENDATION,Bc.VIEW_PRODUCT],ul=[Bc.VOUCHER_CASH,Bc.FUNDING_3DS,Bc.FUNDING],pl=function(e){return!ra(ul,e)},ll=function(e){return!ra(sl,e)},fl=function(e){return!isNaN(parseFloat(e))},yl=function(e){var t=e.event,n=e.data;if(void 0!==n.isValidTransaction)return n.isValidTransaction;n.isValidTransaction=!1;var r=t.transaction;return!!r&&!!rs(r.type)&&!(r.paymentMethod&&!Qc(r.paymentMethod))&&!!function(e,t,n){var r=n.logger;if(!e||!e.length)return!0;if(t===Bc.MISC)return!0;for(var i,o,a=e.length,c=1;c<=a;c+=1){if(i=e[c-1],ll(t)){if(o=i.quantity,isNaN(o)||!(o>=1))return r.warning("Invalid quantity for product ".concat(c)),!1;if(!fl(i.totalPrice))return r.warning("Invalid totalPrice for product ".concat(c)),!1;if(!fl(i.totalRevenue))return r.warning("Invalid totalRevenue for product ".concat(c)),!1}if(pl(t)){if(!ga(i.name)||!i.name)return r.warning("Invalid name string for product ".concat(c)),!1;if(!ga(i.sku)||!i.sku)return r.warning("Invalid sku string for product ".concat(c)),!1}}return!0}(r.products,r.type,e)&&(n.isValidTransaction=!0,!0)},dl=function(e){var t=e.event,n=function(e){if(e.tiles)return Pu.getTilesInfo(e)}(t)||function(e){if(e.tile)return Pu.getTileInfo(e.tile)}(t);if(n)return function(e){var t=e.event,n=e.data;"PageView"!==t.type&&"Impression"!==t.type||n.pushEvent(111)}(e),hu(n)};function _l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vl,hl=function(e,t,n){switch(e){case Bc.VOUCHER_CASH:return"funding:voucher:".concat(n.totalPrice.toFixed(2));case Bc.FUNDING:case Bc.FUNDING_3DS:var r=function(e,t){switch(e){case Bc.VOUCHER_PRODUCT:case Bc.VOUCHER_CASH:return"voucher";case Bc.FUNDING:case Bc.FUNDING_3DS:case Bc.PURCHASE:case Bc.PURCHASE_3DS:case Bc.BUY_NOW:case Bc.BUY_NOW_3DS:case Bc.PREORDER_PAY_NOW:case Bc.PREORDER_PAY_NOW_3DS:return t;default:return""}}(e,t);return"funding:".concat(r,":").concat(n.totalPrice.toFixed(2));default:return"".concat(Xs(n.name),":").concat(Xs(n.sku))}},El=(_l(Qp={},Bc.PURCHASE,!0),_l(Qp,Bc.PURCHASE_3DS,!0),_l(Qp,Bc.BUY_NOW,!0),_l(Qp,Bc.BUY_NOW_3DS,!0),_l(Qp,Bc.PREORDER_PAY_NOW,!0),_l(Qp,Bc.PREORDER_PAY_NOW_3DS,!0),_l(Qp,Bc.VOUCHER_CASH,!0),_l(Qp,Bc.VOUCHER_PRODUCT,!0),_l(Qp,Bc.FUNDING,!0),_l(Qp,Bc.FUNDING_3DS,!0),_l(Qp,Bc.VOUCHER_PRODUCT_PERCENT_OFF,!0),_l(Qp,Bc.VOUCHER_ORDER_PERCENT_OFF,!0),_l(Qp,Bc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,!0),_l(Qp,Bc.PROCESSING_PAYMENT,!0),_l(Qp,Bc.PURCHASE_DETAILS,!0),Qp),gl=function(e,t){return El[e]?t.quantity:""},ml=function(e,t){return El[e]?t.totalRevenue.toFixed(2):""},Il=(_l($p={},Bc.ADD_TO_CART,[26]),_l($p,Bc.REMOVE_FROM_CART,[28]),_l($p,Bc.PROCESSING_PAYMENT,[325]),_l($p,Bc.PURCHASE_DETAILS,[323]),_l($p,Bc.CONFIRM_PURCHASE_FPI,[314]),$p),Tl=(_l(el={},Bc.VOUCHER_CASH,[9,11]),_l(el,Bc.VOUCHER_PRODUCT,[9]),_l(el,Bc.FUNDING_3DS,[11]),_l(el,Bc.FUNDING,[11]),el),Sl=(_l(tl={},Bc.REMOVE_FROM_CART,[29]),_l(tl,Bc.ADD_TO_CART,[27]),_l(tl,Bc.PROCESSING_PAYMENT,[326]),_l(tl,Bc.PURCHASE_DETAILS,[324]),_l(tl,Bc.CONFIRM_PURCHASE_FPI,[315]),tl),Al=(_l(nl={},Bc.PURCHASE,[36]),_l(nl,Bc.VOUCHER_PRODUCT_PERCENT_OFF,[36]),_l(nl,Bc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,[36]),nl),Ol=(_l(rl={},Bc.PURCHASE,[37]),_l(rl,Bc.VOUCHER_ORDER_PERCENT_OFF,[37]),rl),bl=(_l(il={},Bc.PURCHASE,[93]),_l(il,Bc.VOUCHER_PRODUCT_PERCENT_OFF,[93]),_l(il,Bc.VOUCHER_ORDER_PERCENT_OFF,[93]),_l(il,Bc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,[93]),il),Rl=(_l(ol={},Bc.PURCHASE,[94]),_l(ol,Bc.VOUCHER_PRODUCT_PERCENT_OFF,[94]),_l(ol,Bc.VOUCHER_ORDER_PERCENT_OFF,[94]),_l(ol,Bc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,[94]),ol),Nl=_l({},Bc.APPLY_VOUCHER,[271]),Cl=function(e,t){return fu(function(e,t){return(Il[e]||[]).map((function(e){return"event".concat(e,"=").concat(t.quantity)}))}(e,t).concat(function(e,t){return(Tl[e]||[]).map((function(e){return"event".concat(e,"=").concat(_u(t.totalPrice))}))}(e,t)).concat(function(e,t){return(Sl[e]||[]).map((function(e){return"event".concat(e,"=").concat(_u(t.totalRevenue))}))}(e,t)).concat(function(e,t){var n=Al[e]||[];return"number"===typeof t.totalDiscount?n.map((function(e){return"event".concat(e,"=").concat(_u(t.totalDiscount||0))})):[]}(e,t)).concat(function(e,t){var n=Ol[e]||[];return"number"===typeof t.totalOrderLevelDiscount?n.map((function(e){return"event".concat(e,"=").concat(_u(t.totalOrderLevelDiscount||0))})):[]}(e,t)).concat(function(e,t){var n=bl[e]||[];return"number"===typeof t.walletRevenue?n.map((function(e){return"event".concat(e,"=").concat(_u(t.walletRevenue||0))})):[]}(e,t)).concat(function(e,t){var n=Rl[e]||[];return"number"===typeof t.promotionalMarketingRevenue?n.map((function(e){return"event".concat(e,"=").concat(_u(t.promotionalMarketingRevenue||0))})):[]}(e,t)).concat(function(e,t){var n=Nl[e]||[];return"number"===typeof t.voucherValue?n.map((function(e){return"event".concat(e,"=").concat(_u(t.voucherValue||0))})):[]}(e,t)))},Pl=function(e,t){var n=t.payload,r={merchCategory:8,recAnchor:29,findingMethod:31,pstpCampaign:32,recCampaign:33};return fu(Object.keys(r).filter((function(t){return e[t]})).map((function(t){var i=r[t];return n["prop".concat(i)]="D=v".concat(i),"evar".concat(i,"=").concat(uu(e[t].split(":").map(du)))})))},wl=function(e){var t=e.event;if(yl(e)&&t.transaction.products&&t.transaction.products.length&&t.transaction.type!==Bc.MISC&&("Impression"!==t.type||t.transaction.type===Bc.RECOMMENDATION)){var n=t.transaction;return pu(n.products.map((function(t){return function(e,t,n){return yu(["",hl(e.type,e.paymentMethod,t),gl(e.type,t),ml(e.type,t),Cl(e.type,t),Pl(t,n)])}(n,t,e)})))}},Vl=/^[a-zA-Z]+:/,Ml=function(e){if(e&&Vl.exec(e))return e},Ll="undefined"!==typeof window?window:void 0,Dl="undefined"!==typeof window?window:void 0,Ul=function(e){var t=e.event,n=e.data;(t&&t.sessionId||"").startsWith("optout")&&n.pushEvent(998)},kl=function(e){var t=e.data,n=e.event;t.pushEvent(66),n.isPlaytimeUnlimited||(n.playtimeDurationChange>0?function(e){var t=e.event;e.data.pushEvent({id:287,value:t.playtimeDurationChange})}(e):n.playtimeDurationChange<0&&function(e){var t=e.event;e.data.pushEvent({id:288,value:Math.abs(t.playtimeDurationChange)})}(e)),function(e){var t=e.event,n=e.data;t.banner&&!n.hasEvent(211)&&n.pushEvent(6)}(e),function(e){var t=e.event,n=e.data;xe(t.searchFilter)&&t.searchFilter.length&&n.pushEvent(15)}(e),function(e){var t=e.event,n=e.data;xe(t.sortOrder)&&t.sortOrder.length&&n.pushEvent(16)}(e),function(e){var t=e.event,n=e.data;t.hasPurchaseIntent&&n.pushEvent(32)}(e),function(e){var t=e.event,n=e.data;(t.tile||t.tiles)&&n.pushEvent(112)}(e),function(e){var t=e.event,n=e.data;t.apiStatus===Tc.SUCCESS&&n.pushEvent(193)}(e),function(e){var t=e.event,n=e.data;t.apiStatus===Tc.FAILURE&&n.pushEvent(194)}(e)};function Fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jl,Gl=(Fl(vl={},Oc.ACCEPT_FAMILY_INVITE,[254]),Fl(vl,Oc.ACCEPT_REAL_NAME_REQUEST,[127]),Fl(vl,Oc.ACCEPT_FRIEND_REQUEST,[126]),Fl(vl,Oc.ADD_PAYMENT_METHOD,[232]),Fl(vl,Oc.ADD_TO_CART_UPSELL,[182]),Fl(vl,Oc.ADD_TO_LIBRARY,[14,30]),Fl(vl,Oc.ADD_TO_WISHLIST,[87]),Fl(vl,Oc.APPROVE_SUBACCOUNT,[218]),Fl(vl,Oc.BLOCK_USER,[133]),Fl(vl,Oc.CANCEL_FRIEND_REQUEST,[124]),Fl(vl,Oc.CANCEL_REAL_NAME_REQUEST,[125]),Fl(vl,Oc.CHANGE_EVENT_STATUS_NOT_GOING,[47]),Fl(vl,Oc.CLAIM_KID_ACCOUNT,[217]),Fl(vl,Oc.CLAIM_YOUTH_ACCOUNT,[216]),Fl(vl,Oc.CLICK_BANNER,[6]),Fl(vl,Oc.CLICK_QUICK_VIEW_HOVER_BANNER,[211]),Fl(vl,Oc.CLICK_QUICK_VIEW_OPEN,[43,114]),Fl(vl,Oc.CLICK_RECOMMENDATION,[97]),Fl(vl,Oc.CLICK_TILE,[112]),Fl(vl,Oc.CREATE_EVENT,[262]),Fl(vl,Oc.CREATE_KID_ACCOUNT,[214]),Fl(vl,Oc.CREATE_MASTER_ACCOUNT,[212]),Fl(vl,Oc.CREATE_OFFLINE_ACCOUNT,[215]),Fl(vl,Oc.CREATE_YOUTH_ACCOUNT,[213]),Fl(vl,Oc.CREATE_TEAM,[248]),Fl(vl,Oc.CREATE_WISHLIST,[87,89]),Fl(vl,Oc.CHANGE_TEAM_DESCRIPTION,[249]),Fl(vl,Oc.CHANGE_TEAM_LOGO,[250]),Fl(vl,Oc.CHANGE_TEAM_NAME,[252]),Fl(vl,Oc.DECLINE_FAMILY_INVITE,[255]),Fl(vl,Oc.DECLINE_TEAM_INVITE,[243]),Fl(vl,Oc.DELETE_FRIEND_REQUEST,[128]),Fl(vl,Oc.DELETE_REAL_NAME_REQUEST,[129]),Fl(vl,Oc.DISBAND_TEAM,[247]),Fl(vl,Oc.DEMOTE_FROM_GUARDIAN,[275]),Fl(vl,Oc.DOWNLOAD,[14]),Fl(vl,Oc.FAVORITED,[69]),Fl(vl,Oc.FILTER_BY_MOST_RECENT,[15]),Fl(vl,Oc.FILTER_BY_MOST_POPULAR,[15]),Fl(vl,Oc.FILTER_CATEGORY,[15]),Fl(vl,Oc.FILTER_COMMUNITIES,[15]),Fl(vl,Oc.FOLLOW,[47]),Fl(vl,Oc.INITIATE_COMMENT,[186]),Fl(vl,Oc.INITIATE_FRIEND_REQUEST,[189]),Fl(vl,Oc.INITIATE_GRIEF_REPORT,[190]),Fl(vl,Oc.INITIATE_MESSAGE,[188]),Fl(vl,Oc.INITIATE_RESHARE,[192]),Fl(vl,Oc.INITIATE_SHARE,[187]),Fl(vl,Oc.JOIN_COMMUNITY,[150]),Fl(vl,Oc.JOIN_EVENT,[149]),Fl(vl,Oc.JOIN_PARTY,[148]),Fl(vl,Oc.JOIN_TEAM,[242]),Fl(vl,Oc.JOIN_SESSION,[135,136]),Fl(vl,Oc.KICK_OUT_TEAM_MEMBER,[246]),Fl(vl,Oc.LEAVE_TEAM,[244]),Fl(vl,Oc.LEAVE_FAMILY,[256]),Fl(vl,Oc.LIKE,[46]),Fl(vl,Oc.OPEN_INTRO,[191]),Fl(vl,Oc.PSPLUS_UPSELL,[182]),Fl(vl,Oc.POST_COMMUNITY_WALL,[260]),Fl(vl,Oc.PREORDER_INTRO,[219]),Fl(vl,Oc.PROMOTE_TO_GUARDIAN,[258]),Fl(vl,Oc.RATE,[34]),Fl(vl,Oc.REPLY_COMMUNITY_POST,[261]),Fl(vl,Oc.REQUEST_TO_WATCH,[137]),Fl(vl,Oc.REMOVE_BACKGROUND_IMAGE,[208]),Fl(vl,Oc.REMOVE_FROM_FRIEND,[272]),Fl(vl,Oc.REMOVE_FROM_WISHLIST,[88]),Fl(vl,Oc.REMOVE_PAYMENT_METHOD,[233]),Fl(vl,Oc.REMOVE_TEAM_LOGO,[251]),Fl(vl,Oc.REMOVE_USER_FROM_FAMILY,[257]),Fl(vl,Oc.REVOKE_FAMILY_INVITE,[269]),Fl(vl,Oc.SEARCH,[17]),Fl(vl,Oc.SEARCH_FRIENDS,[17]),Fl(vl,Oc.SEARCH_COMMUNITIES,[17]),Fl(vl,Oc.SELECT_BANNER,[211]),Fl(vl,Oc.SEND_MESSAGE,[142]),Fl(vl,Oc.SEND_FAMILY_INVITE,[253]),Fl(vl,Oc.SEND_FRIEND_REQUEST,[122]),Fl(vl,Oc.SEND_GRIEF_REPORT,[132]),Fl(vl,Oc.SEND_REAL_NAME_REQUEST,[123]),Fl(vl,Oc.SORT_CATEGORY,[16]),Fl(vl,Oc.START_APP,[135]),Fl(vl,Oc.START_GAME,[135]),Fl(vl,Oc.START_PARTY,[152]),Fl(vl,Oc.SUBMIT_COMMENT,[145]),Fl(vl,Oc.SUBMIT_POST_ANYTHING,[204]),Fl(vl,Oc.SUBMIT_RESHARE,[49]),Fl(vl,Oc.SUBSCRIBE_EXTEND_INTRO,[220]),Fl(vl,Oc.SUBSCRIBE_AUTOFUND,[221]),Fl(vl,Oc.UNBLOCK_USER,[134]),Fl(vl,Oc.UNFAVORITED,[76]),Fl(vl,Oc.UNLIKE,[77]),Fl(vl,Oc.UNFOLLOW,[151]),Fl(vl,Oc.VERSION_UPSELL,[182]),Fl(vl,Oc.VIEW_BROADCAST,[138]),Fl(vl,Oc.VIEW_COMMUNITY,[139]),Fl(vl,Oc.VIEW_ACTIVITY,[191]),Fl(vl,Oc.VIEW_AS_FAMILY_MANAGER,[265]),Fl(vl,Oc.VIEW_AS_GUARDIAN,[266]),Fl(vl,Oc.VIEW_SEARCH_RESULT,[18]),Fl(vl,Oc.DOWNLOAD_PS_NOW_GAME,[293]),Fl(vl,Oc.OSK_SEARCH_TEXT_ENTRY,[309]),Fl(vl,Oc.OSK_SEARCH_ZERO_STATE,[17,310]),Fl(vl,Oc.OSK_SEARCH_NO_RESULTS,[17,19]),Fl(vl,Oc.OSK_SEARCH_RESULTS_RETURN,[311]),Fl(vl,Oc.LOGIN,[3]),Fl(vl,Oc.MULTIVIEW_PROGRAM_ADDED,[331]),Fl(vl,Oc.MULTIVIEW_PROGRAM_REMOVED,[332]),Fl(vl,Oc.MULTIVIEW_SWITCH_ONFOCUS,[333]),Fl(vl,Oc.MULTIVIEW_SWITCH_OFFFOCUS,[334]),Fl(vl,Oc.MULTIVIEW_WATCH,[335]),vl),Bl=function(e){var t=e.event,n=e.config,r=e.data;if(t.clickType)if(n.overrideEvents&&n.overrideEvents[t.clickType])r.pushEvents(n.overrideEvents[t.clickType]);else switch(r.pushEvents(Gl[t.clickType]||[]),t.clickType){case Oc.RATE:!function(e){var t=e.event,n=e.data,r=t.ratingNumber;r&&n.pushEvent({id:33,value:parseInt(r,10)})}(e);break;case Oc.COMPLETE_AGE_VERIFICATION_DOCUMENT:!function(e){var t=e.event,n=e.data;!0===t.hasUserMetAgeRequirement&&n.pushEvent(39)}(e);break;case Oc.SEND_MESSAGE:!function(e){var t=e.event,n=e.data;!0===t.hasSticker&&n.pushEvent(143)}(e),function(e){var t=e.event,n=e.data;!0===t.hasAttachment&&n.pushEvent(144)}(e);break;case Oc.SUBMIT_POST_ANYTHING:!function(e){var t=e.event,n=e.data;!0===t.hasImage&&n.pushEvent(205)}(e),function(e){var t=e.event,n=e.data;!0===t.hasGameTagged&&n.pushEvent(206)}(e),function(e){var t=e.event,n=e.data;t.hasPlayersTagged>0&&n.pushEvent({id:207,value:parseInt(t.hasPlayersTagged,10)})}(e),function(e){var t=e.event,n=e.data,r=parseInt(t.urlsPosted,10);r>0?n.pushEvent({id:295,value:r}):0===r&&n.pushEvent({id:295,value:0})}(e);break;case Oc.SEND_TEAM_INVITE:!function(e){var t=e.event,n=e.data;t.hasPlayersInvited>0&&n.pushEvent({id:245,value:parseInt(t.hasPlayersInvited,10)})}(e);break;case Oc.CHANGE_BACKGROUND_IMAGE:case Oc.SET_BACKGROUND_IMAGE:!function(e){var t=e.event,n=e.data;!0===t.hasImageChanged&&n.pushEvent(209)}(e),function(e){var t=e.event,n=e.data;!0===t.hasColorChanged&&n.pushEvent(210)}(e);break;case Oc.MANAGE_DATA_GATHERING_SETTINGS:!function(e){var t=e.event,n=e.data;void 0!==t.allowAdditionalData&&n.pushEvent(t.allowAdditionalData?276:277)}(e);break;case Oc.MANAGE_PERSONALIZATION_SETTINGS:!function(e){var t=e.event,n=e.data;void 0!==t.allowPersonalizedRecs&&n.pushEvent(t.allowPersonalizedRecs?278:279)}(e),function(e){var t=e.event,n=e.data;void 0!==t.allowPersonalizedAds&&n.pushEvent(t.allowPersonalizedAds?280:281)}(e);break;case Oc.MULTIVIEW_WATCH:!function(e){var t=e.event,n=e.data,r=parseInt(t.multiViewTimeSpent,10);r>0?n.pushEvent({id:336,value:r}):0===r&&n.pushEvent({id:336,value:0})}(e)}};function Hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wl,Yl=(Hl(jl={},Nc.START,[98,103]),Hl(jl,Nc.COMPLETE,[99,103]),Hl(jl,Nc.NEXT,[103]),Hl(jl,Nc.BACK,[103]),Hl(jl,Nc.CANCEL,[103]),Hl(jl,Nc.SKIP,[104]),Hl(jl,Nc.START_NESTED,[101,103]),Hl(jl,Nc.COMPLETE_NESTED,[102,103]),jl),xl=function(e){var t=e.event;e.data.pushEvents(Yl[t.formAction]||[])},Kl=function(e){!function(e){var t=e.environment,n=e.data;t.psnowMembershipType===Mc.TRIAL&&n.pushEvent(234)}(e),function(e){var t=e.environment,n=e.data;t.psnowMembershipType===Mc.SUBSCRIPTION&&n.pushEvent(235)}(e),function(e){var t=e.environment,n=e.data;t.psnowMembershipType===Mc.NOT_SUBSCRIBED&&n.pushEvent(236)}(e)},zl=function(e){var t=e.event,n=e.data,r=e.cache.get("lastAdobeReportedSessionId")||"",i=t&&t.sessionId||"";i.startsWith("optout")&&i!==r&&n.hasEvents()&&n.pushEvent(999)};function ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jl,Xl,Zl=[Bc.FUNDING,Bc.FUNDING_3DS],Ql=[wc.CC_VISA_3DS,wc.CC_MASTERCARD_3DS],$l=(ql(Wl={},Bc.VIEW_PRODUCT,["prodView",31]),ql(Wl,Bc.ADD_TO_CART,["scOpen","scAdd",26,27]),ql(Wl,Bc.REMOVE_FROM_CART,["scRemove",28,29]),ql(Wl,Bc.VIEW_CART,["scView"]),ql(Wl,Bc.CONFIRM_PURCHASE,["scCheckout"]),ql(Wl,Bc.PURCHASE,["purchase"]),ql(Wl,Bc.PURCHASE_3DS,["purchase",231]),ql(Wl,Bc.BUY_NOW,["purchase",2]),ql(Wl,Bc.BUY_NOW_3DS,["purchase",2,231]),ql(Wl,Bc.PREORDER_PAY_NOW,["purchase",2,51]),ql(Wl,Bc.PREORDER_PAY_NOW_3DS,["purchase",2,51,231]),ql(Wl,Bc.VOUCHER_CASH,[8,9,10,11]),ql(Wl,Bc.VOUCHER_PRODUCT,[8,9]),ql(Wl,Bc.FUNDING_3DS,[10,11,231]),ql(Wl,Bc.BEGIN_3DS,[230]),ql(Wl,Bc.COMPLETE_3DS,[231]),ql(Wl,Bc.FUNDING,[10,11]),ql(Wl,Bc.APPLY_VOUCHER,[270,271]),ql(Wl,Bc.VOUCHER_PRODUCT_PERCENT_OFF,["purchase"]),ql(Wl,Bc.VOUCHER_ORDER_PERCENT_OFF,["purchase"]),ql(Wl,Bc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,["purchase"]),ql(Wl,Bc.PURCHASE_DETAILS,[323,324]),ql(Wl,Bc.PROCESSING_PAYMENT,[325,326]),ql(Wl,Bc.CONFIRM_PURCHASE_FPI,["scCheckout",314,315]),Wl),ef=function(e){return void 0!==e.totalOrderLevelDiscount},tf=function(e){return void 0!==e.walletRevenue},nf=function(e){return void 0!==e.promotionalMarketingRevenue},rf=function(e){yl(e)&&(function(e){var t=e.event,n=e.data;$l[t.transaction.type]&&n.pushEvents($l[t.transaction.type])}(e),function(e){var t=e.event,n=e.data;if(t.transaction.type===Bc.PURCHASE){for(var r=!1,i=!1,o=!1,a=!1,c=t.transaction.products.length,s=0;s<c;s+=1)r||void 0===t.transaction.products[s].totalDiscount||(r=!0),!i&&ef(t.transaction.products[s])&&(i=!0),!o&&tf(t.transaction.products[s])&&(o=!0),!a&&nf(t.transaction.products[s])&&(a=!0);r&&n.pushEvent(36),i&&n.pushEvent(37),o&&n.pushEvent(93),a&&n.pushEvent(94)}}(e),function(e){var t=e.event,n=e.data;ra(Zl,t.transaction.type)&&ra(Ql,t.transaction.paymentMethod)&&n.pushEvent(231)}(e))};function of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var af,cf,sf,uf,pf,lf,ff,yf,df=(of(Jl={},Hc.AUTO_START,[83,86]),of(Jl,Hc.ON_FOCUS_AUTO_START,[83,86,201]),of(Jl,Hc.ON_FOCUS_START,[83,201]),of(Jl,Hc.PAUSE,[81]),of(Jl,Hc.RESUME,[82]),of(Jl,Hc.START,[83]),Jl),_f=(of(Xl={},Hc.AUTO_START,[20,86]),of(Xl,Hc.COMPLETE,[24]),of(Xl,Hc.ON_FOCUS_AUTO_START,[20,86,201]),of(Xl,Hc.ON_FOCUS_START,[20,201]),of(Xl,Hc.PAUSE,[81]),of(Xl,Hc.RESUME,[82]),of(Xl,Hc.START,[20]),Xl),vf=function(e){var t=e.event,n=e.data;if(r=t.videoAction,!ra([Hc.AUTO_START,Hc.START,Hc.ON_FOCUS_START,Hc.ON_FOCUS_AUTO_START],r)){var r,i=t.currentViewedTime;vc(i)||n.pushEvent({id:65,value:i})}},hf=function(e){var t=e.event,n=e.data;df[t.videoAction]?n.pushEvents(df[t.videoAction]):(function(e){var t=e.event,n=e.data;t.streamType===Gc.LIVE&&t.videoAction===Hc.PROGRESS&&(!t.elapsedTime||t.elapsedTime>=600||t.elapsedTime%60===0&&n.pushEvent(84))}(e),function(e){var t=e.event,n=e.data;t.streamType===Gc.LIVE&&t.videoAction===Hc.PROGRESS&&(!t.elapsedTime||t.elapsedTime<600||t.elapsedTime%600===0&&n.pushEvent(85))}(e))},Ef=function(e){var t=e.event,n=e.data;_f[t.videoAction]?n.pushEvents(_f[t.videoAction]):function(e){var t=e.event,n=e.data;if(t.streamType!==Gc.LIVE&&t.videoAction===Hc.PROGRESS&&t.elapsedTime&&t.videoDuration){var r,i,o=t.elapsedTime,a=t.videoDuration;a>240?i=(r=o-o%60)-60:(r=o+1,i=o-1);var c=.25*a,s=.5*a,u=.75*a;i<c&&r>=c&&o>=c&&o<s?n.pushEvent(21):i<s&&r>=s&&o>=s&&o<u?n.pushEvent(22):i<u&&r>=u&&o>=u&&n.pushEvent(23)}}(e)},gf=function(e){var t=e.event,n=e.data;is(t.videoAction)&&(t.streamType===Gc.LIVE?hf(e):Ef(e),n.hasEvents()&&(n.pushEvent(66),vf(e)))},mf=function(e){return"number"==typeof e&&e==js(e)},If=function(e){var t=e.data;if(t.events){var n={};return t.events.map((function(e){return function(e,t){var n,r;if(mf(e)||Xn(e))n=e;else{if(!k(e))return;n=e.id,r=e.value}if(!t[n=mf(n)?"event".concat(n):n])return t[n]=!0,void 0!==r?"".concat(n,"=").concat(r):n}(e,n)})).filter((function(e){return e})).join(",")}};function Tf(){return(Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sf(e){return(Sf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Of=(Af(af={},Ac.PAID_AD_VIEWED,[200]),Af(af,Ac.DEFAULT,[181]),Af(af,Ac.PAID_AD_LOADED,[5]),Af(af,Ac.VIDEO_AD_PLAYED,[195]),Af(af,Ac.REFRESH_IMAGE_VIEWED,[181,228]),Af(af,Ac.REFRESH_VIDEO_VIEWED,[195,228]),af),bf=[Bc.PURCHASE,Bc.PURCHASE_3DS,Bc.BUY_NOW,Bc.BUY_NOW_3DS,Bc.PREORDER_PAY_NOW,Bc.PREORDER_PAY_NOW_3DS,Bc.VOUCHER_ORDER_PERCENT_OFF,Bc.VOUCHER_PRODUCT_PERCENT_OFF,Bc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,Bc.PROCESSING_PAYMENT],Rf=function(e){var t=e.event;if(t.transaction)return function(e){return Is.cleanUpString(e,null,!1)}(t.transaction.currencyCode)},Nf=function(e){var t=e.event,n=t.transaction?t.transaction.type:void 0;if(ra(bf,n))return Xs(t.transaction.transactionID)},Cf=function(e){var t=e.event,n=t.transaction?t.transaction.type:void 0;if(ra(bf,n))return"pur:".concat(Xs(t.transaction.transactionID))},Pf=(Af(cf={},Rc.ANDROID,"mobile app"),Af(cf,Rc.APPLE_TV,"table top"),Af(cf,Rc.CHROMECAST,"cast device"),Af(cf,Rc.IOS,"mobile app"),Af(cf,Rc.MWEB,"mweb"),Af(cf,Rc.PS3,"console"),Af(cf,Rc.PS4,"console"),Af(cf,Rc.PS4K,"console"),Af(cf,Rc.TV,"tv"),Af(cf,Rc.FIRE_TV,"table top"),Af(cf,Rc.ROKU,"table top"),Af(cf,Rc.WEB,"web"),cf),wf=function(e){var t=e.event,n=e.data,r=e.logger;if(t.banners||t.banner){var i=t.banners?Pu.getBannersInfo(t):Pu.getBannerInfo(t.banner);if(i){if(!t.bannerType||Of[t.bannerType])return"PageView"!==t.type&&"Impression"!==t.type&&"VideoStream"!==t.type&&"AdClick"!==t.type&&"AdImpression"!==t.type&&"AdVideoStream"!==t.type||n.pushEvents(Of[t.bannerType]||[5]),hu(i);r.warn("unknown banner type")}}},Vf=function(e){var t=e.event,n=e.data;if(t.recommendations||t.recommendation){var r=t.recommendations?Pu.getRecommendationsInfo(t):Pu.getRecommendationInfo(t.recommendation);if(r)return"PageView"!==t.type&&"Impression"!==t.type||n.pushEvent(96),hu(r)}},Mf=function(e){return mu(e)},Lf=function(e){var t=e.environment;return vu(!0===t.signedIn?"signed_in":"guest")},Df={plus:[Lc.FREE_TRIAL,Lc.SUBSCRIPTION],nonplus:[Lc.LAPSED,Lc.NEVER_SUBSCRIBED]},Uf=function(e){var t=e.environment,n=t.isPlusUser,r=ra(n?Df.plus:Df.nonplus,t.plusUserType)?t.plusUserType:void 0;if(n||r)return vu(uu([n?"plus member":"non plus member",r].filter((function(e){return e}))))},kf=function(e){var t=e.environment;return vu(t&&t.userAge>0?t.userAge:void 0)},Ff=["signin","sgnout","dnrhid"],jf=function(e){var t=e.event;return vu(t.merchCategory)},Gf=[Oc.COMPLETE_STEP1_GRIEF_REPORT,Oc.COMPLETE_STEP2_GRIEF_REPORT,Oc.SEND_GRIEF_REPORT],Bf=function(e){var t=e.event;if(ra(Gf,t.clickType))return vu(uu([t.griefReportItem,t.griefReportReason]))},Hf=function(e){var t=e.event;if(t.searchFilter)return vu(fu(t.searchFilter))},Wf=function(e){var t=e.event;return vu(fu(t.sortOrder))},Yf=(Af(sf={},Bc.FUNDING,!0),Af(sf,Bc.FUNDING_3DS,!0),Af(sf,Bc.PURCHASE,!0),Af(sf,Bc.PURCHASE_3DS,!0),Af(sf,Bc.BUY_NOW,!0),Af(sf,Bc.BUY_NOW_3DS,!0),Af(sf,Bc.PREORDER_PAY_NOW,!0),Af(sf,Bc.PREORDER_PAY_NOW_3DS,!0),Af(sf,Bc.MISC,!0),Af(sf,Bc.VOUCHER_CASH,"voucher"),Af(sf,Bc.VOUCHER_PRODUCT,"voucher"),Af(sf,Bc.VOUCHER_PRODUCT_PERCENT_OFF,!0),Af(sf,Bc.VOUCHER_ORDER_PERCENT_OFF,!0),Af(sf,Bc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,!0),sf),xf=function(e){var t=e.event,n=e.data;if(yl({event:t,data:n})){var r=t.transaction,i=Yf[r.type];if(!0===i){if(i=r.paymentMethod,!Qc(i))return;r.type===Bc.MISC&&!0===r.useWallet&&(i="wallet-".concat(i))}return vu(i)}},Kf=(Af(uf={},Bc.FUNDING,!0),Af(uf,Bc.FUNDING_3DS,!0),Af(uf,Bc.PURCHASE,"purchase"),Af(uf,Bc.PURCHASE_3DS,"purchase"),Af(uf,Bc.BUY_NOW,"buy now"),Af(uf,Bc.BUY_NOW_3DS,"buy now"),Af(uf,Bc.PREORDER_PAY_NOW,"preorder pay now"),Af(uf,Bc.PREORDER_PAY_NOW_3DS,"preorder pay now"),Af(uf,Bc.VOUCHER_CASH,"voucher:cash"),Af(uf,Bc.VOUCHER_PRODUCT,"voucher:product"),Af(uf,Bc.VOUCHER_PRODUCT_PERCENT_OFF,"voucher:product percent off"),Af(uf,Bc.VOUCHER_ORDER_PERCENT_OFF,"voucher:order percent off"),Af(uf,Bc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,"voucher:product fixed amount off"),uf),zf=function(e){var t=e.event,n=e.data;if(yl({event:t,data:n})){var r=Kf[t.transaction.type];return!0===r&&(r=t.transaction.type.replace(" ",":")),vu(r)}},qf=function(e){var t=e.event;return vu(t.searchTerm||void 0)},Jf=function(e){var t=e.event;if(t.searchResult&&t.searchPosition){var n=[t.searchResult,t.searchPosition];return t.searchCount&&n.push(t.searchCount),vu(uu(n))}},Xf=function(e){var t=e.event;if(t.productName)return vu(uu([t.productName,t.productSku||"no sku"]))},Zf=(Af(pf={},Dc.GAME_DIGITAL,"game:digital"),Af(pf,Dc.GAME_DISC,"game:disc"),Af(pf,Dc.GAME_PSNOW_PS3,"game:psnowps3"),Af(pf,Dc.GAME_PSNOW_PS4,"game:psnowps4"),Af(pf,Dc.APP,"app:app"),pf),Qf=function(e){var t=e.event,n=e.logger;if(t.productClassification1||t.productType){if(t.productClassification1||!t.productType||Zf[t.productType])return vu(t.productClassification1||Zf[t.productType]);n.warning('Unsupported product type value "'.concat(t.productType,'"'))}},$f=function(e){var t=e.event;return vu(t.productClassification2||(Zf[t.productType]?"not configured":void 0))},ey=function(e){var t=e.event;return vu(t.productClassification3||(Zf[t.productType]?"not configured":void 0))},ty=function(e){var t=e.event;return vu(t.productType)},ny=function(e){var t=e.event;if(t.genre&&t.maturity)return vu(uu([t.genre,t.maturity]))},ry=function(e){var t=e.event;if(t.releaseDate&&ga(t.releaseDate))return vu(t.releaseDate)},iy=function(e){var t=e.event;if(t.displayPrice&&ga(t.displayPrice))return vu(t.displayPrice,{cleaner:iu})},oy=function(e){var t=e.event;return vu(t.recAnchor)},ay=function(e){var t=e.event;return vu(t.publisher)},cy=function(e){var t=e.event;return vu(t.findingMethod)},sy=function(e){var t=e.event;return vu(t.pstpCampaign)},uy=function(e){var t=e.event;return vu(Zs(t.recCampaign))},py=(Af(lf={},Wc.OTHER,"other video type"),Af(lf,Wc.NONE,"no video type"),lf),ly=function(e){var t=e.event;if(as(t.videoType)){var n=py[t.videoType]||t.videoType;return vu(n.replace(/_/g," "))}},fy=(Af(ff={},Yc.TRAILER,"short form"),Af(ff,Yc.PREVIEW,"short form"),Af(ff,Yc.FULL,"long form"),Af(ff,Yc.LIVE,"live"),ff),yy=function(e){var t=e.event;return vu(fy[t.videoFormat])},dy=function(e){var t=e.event;return vu(t.networkName)},_y=function(e){var t=e.event,n=e.logger,r=e.data;if(t.loadTime){if(!(t.loadTime<0)){var i;if(t.loadTime>=1e4)i="10000+";else{var o=Math.floor(t.loadTime/100);i="".concat(o.toString(),"00-").concat(o.toString(),"99")}return r.pushEvent({id:119,value:t.loadTime}),r.pushEvent(180),vu(i)}n.warning("Load time cannot be negative or zero")}},vy=function(e){return wf(e)},hy=function(e){var t=e.event;return t.searchCampaign?Jf({event:t}):void 0},Ey=function(e){var t=e.event;return vu(t.recommendationSrc||void 0)},gy=function(e){return e.isPlaytimeUnlimited?"playtime unlimited":e.playtimeDurationChange>0?"playtime increased":e.playtimeDurationChange<0?"playtime decreased":"playtime not changed"},my=function(e){switch(e.event.type){case"Startup":return function(e){var t,n=e.event,r=e.environment,i=e.data;switch(n.startupType){case jc.APP:t="startup app ".concat(uu([r.appName,n.startupContext]));break;case jc.PAGE:t="startup page ".concat(uu(i.locationSegments));break;default:t=""}return vu(t.replace(/_/g," "))}(e);case"VideoStream":return function(e){var t=e.event;return vu("".concat(t.streamType," ").concat(t.videoAction).replace(/_/g," "))}(e);case"Click":return function(e){var t=e.event;if("change playtime limit"===t.clickType)return[t.clickType,t.playtimeAgeGroup,gy(t)].join(":");var n=t.clickMetadata?t.clickMetadata.split(":"):[];return vu(uu([t.clickType].concat(n)))}(e);default:return}},Iy=function(e){var t=e.event;return vu(t.contentDetail)},Ty=(Af(yf={},Mc.TRIAL,"trial subscriber"),Af(yf,Mc.SUBSCRIPTION,"subscriber"),Af(yf,Mc.NOT_SUBSCRIBED,"non-subscriber"),yf),Sy=function(e){var t=e.environment,n=e.logger,r=e.event,i=Ty[t.psnowMembershipType];if(i||"undefined"===typeof t.psnowMembershipType){if(i)return vu(uu([i,r.subscriptionSku?"".concat(r.subscriptionSku):"empty",r.isHomeshare?"is homeshare":"not homeshare"].filter((function(e){return e}))))}else n.warning("unknown PS Now membership type",t.psnowMembershipType)},Ay=function(e){var t=e.event;return vu(t.eaMemberAccess)},Oy=function(e){var t=e.event;if(ns(t.streamType))return t.streamType===Gc.NONE?"no stream type":vu("".concat(t.streamType," video"))},by=function(e){var t=e.event;return vu(t.videoId)},Ry=function(e){var t=e.event;if(t.videoTitle)return vu(uu([t.videoTitle,t.videoEpisodeName||"no title",t.videoSeasonNum||"no season",t.videoEpisodeNum||"no episode",yy({event:t})||"no format"]))},Ny=function(e){var t,n=e.event;if(n.playerId)return t=n.playerSoundEnabled?"on":"off",vu(uu([n.playerId,cs(n.windowMode)?n.windowMode:"empty",vc(n.playerPosition)?"empty":"".concat(n.playerPosition),vc(n.playerSoundEnabled)?"empty":t].filter((function(e){return e}))))},Cy=function(e){var t=e.event;if(t.formAction&&Xc(t.formAction))return vu(Zs(t.formLocation))},Py=function(e){var t=e.event;if(t.videoUrl)return vu(t.videoUrl,{allowUppercase:!0,cleaner:ou})},wy=function(e){return Boolean("UserFacingError"===e.type&&e.overrideAppName&&e.overrideBuildVersion)},Vy=function(e){var t=e.event,n=e.environment;return wy(t)?t.overrideAppName:n.appName},My=function(e){var t=e.event,n=e.environment;return wy(t)?t.overrideBuildVersion:n.buildVersion},Ly=function(e){var t=e.event,n=e.sdkVersion,r=e.gctVersion,i=wy(t)?[]:["gct_v".concat(r),n];return vu(uu([Vy(e),My(e)].concat(i)))},Dy=function(e){var t=e.event;if(t.clickType===Oc.MANAGE_PERSONALIZATION_SETTINGS&&void 0!==t.allowPersonalizedRecs&&void 0!==t.allowPersonalizedAds)return vu(uu([t.allowPersonalizedRecs?Uc.ALLOW:Uc.DISALLOW,t.allowPersonalizedAds?Vc.ALLOW:Vc.DISALLOW]))},Uy=function(e){var t=e.event,n=e.data;if((t.banners&&t.banners.length||t.banner)&&(!t.bannerType||Of[t.bannerType]))return vu(uu(n.locationSegments))},ky=function(e){var t=e.data,n=e.event,r=e.environment;return vu(uu([r.networkType||"no conn type",n.bootInfo||"no boot type",n.dataSizeGroup||"no data size",r.platformVersion||"no platform"].concat(t.locationSegments)))},Fy=function(e){var t=e.event;return t.tile?Pu.getTileInfo(t.tile):Pu.getTilesInfo(t)||void 0},jy=function(e,t){return function(n){return"string"===typeof n?n.split(e)[t]:void 0}},Gy=function(e){var t=e.event;if(t.searchFilter)return vu(uu(t.searchFilter.map(jy(":",1))))},By=function(e){var t=e.event;if(t.textPostUrlDomain)return vu(t.textPostUrlDomain)},Hy=function(e){var t=e.event;if(t.sortOrder)return vu(uu(t.sortOrder.map(jy(":",1))))},Wy={account:function(e){return e.config.reportSuite.join(",")},charset:function(e){return e.environment.charset},pageURL:function(e){var t=e.event;return Ml(t.pageUrl||function(){var e=Ll&&Ll.location||"";return e.href?e.href:e}())},referrer:function(e){var t=e.event;return Ml(t.httpReferrer||Dl&&Dl.document&&Dl.document.referrer)},trackingServer:function(e){return e.config.trackingServer||As.DEFAULT_TRACKING_SERVER},trackingServerSecure:function(e){return e.config.trackingServerSecure||As.DEFAULT_TRACKING_SERVER_SECURE},marketingCloudServer:function(e){return e.config.marketingCloudServer||As.DEFAULT_MARKETING_CLOUD_SERVER},marketingCloudServerSecure:function(e){return e.config.marketingCloudServerSecure||As.DEFAULT_MARKETING_CLOUD_SERVER_SECURE},ssl:function(e){return!1!==e.config.useSSL},timestamp:function(e){var t=e.event;return new Date(t.time-t.time%1e3).toISOString().replace(".000","")},visitorID:function(e){var t=e.environment,n=e.event;return!0===t.signedIn&&t.visitorId?Xs(t.visitorId):n.sessionId},eVar7:function(e){var t=e.event,n=t&&t.sessionId||"",r="optout";return cl(Ff,(function(e){return n.startsWith(e)}))&&(r="optin"),vu(r)},eVar21:function(e){var t=e.event;if(t.experimentData&&Aa(t.experimentData)){var n=t.experimentData.map((function(e){return e.univexId})).filter((function(e){return!!e}));return n.length>3&&(n.length=3,n[3]="..."),vu(uu(n))}},eVar47:function(e){var t=e.environment,n=e.event;return vu(t.deviceId||n.sessionId)},eVar55:function(e){var t=e.environment;return vu(t.constellationId)},eVar68:function(e){var t=e.event;return vu(t.url,{allowUppercase:!0,cleaner:ou})},eVar71:function(){if("object"===("undefined"===typeof navigator?"undefined":Sf(navigator))&&navigator.userAgent)return vu(navigator.userAgent,{allowUppercase:!0})},eVar72:function(e){var t=e.environment,n=e.data.locationSegments.slice(0,2);return"ps4"===n[0]&&t.deviceType===Rc.PS4K&&(n[0]="ps4k"),vu(uu(n))},eVar74:Ly,eVar75:function(e){var t=e.environment,n=e.event;if(!0===t.signedIn)return vu(t.visitorId||n.sessionId)},eVar94:function(e){var t=e.event;return vu(t.deeplink,{allowUppercase:!0,cleaner:ou})},eVar100:function(e){var t=e.event;if(t.experimentData&&Aa(t.experimentData)&&t.experimentData.some((function(e){return e.experimentId||e.variantId})))return t.experimentData.filter((function(e){return e&&(!!e.experimentId||!!e.variantId)})).map((function(e){return"".concat(e.experimentId,":").concat(e.variantId)})).join(",")},prop69:function(e){return e.event.time.toISOString()}},Yy={};Yy.Click={currencyCode:Rf,products:wl,purchaseID:Nf,transactionID:Cf,eVar2:Mf,eVar3:Lf,eVar4:Uf,eVar5:kf,eVar8:jf,eVar9:Bf,eVar12:Hf,eVar13:Wf,eVar14:xf,eVar15:zf,eVar17:qf,eVar18:Jf,eVar20:Xf,eVar22:Qf,eVar23:$f,eVar24:ey,eVar25:ty,eVar26:ny,eVar27:ry,eVar28:iy,eVar29:oy,eVar30:ay,eVar31:cy,eVar32:sy,eVar33:uy,eVar35:ly,eVar36:yy,eVar38:dy,eVar41:vy,eVar43:hy,eVar46:Ey,eVar49:my,eVar56:Iy,eVar58:Sy,eVar60:Ay,eVar61:Oy,eVar62:by,eVar63:Ry,eVar64:Ny,eVar66:Cy,eVar78:Dy,eVar93:Uy,eVar99:Fy,list1:wf,list2:Vf,list3:dl,prop5:Gy,prop6:Hy,prop8:By,clickTypeEvents:Bl,clickEvents:kl,formEvents:xl,transactionEvents:rf,psnowEvents:Kl,sessionEvents:zl,events:If},Yy.PageView={campaign:function(e){return function(e){return Xs(e)||void 0}(e.event.marketingCampaign)},channel:function(e){return e.data.locationSegments.slice(0,3).join(":")},currencyCode:Rf,pageName:function(e){return e.data.locationSegments.join(":")},products:wl,purchaseID:Nf,server:function(e){var t=e.environment;return Pf[t.deviceType]||"unknown"},transactionID:Cf,eVar1:function(){return"D=pageName"},eVar2:Mf,eVar3:Lf,eVar4:Uf,eVar5:kf,eVar8:jf,eVar10:function(e){var t=e.event;return vu(t.locationType)},eVar14:xf,eVar15:zf,eVar17:qf,eVar18:Jf,eVar20:Xf,eVar22:Qf,eVar23:$f,eVar24:ey,eVar25:ty,eVar26:ny,eVar27:ry,eVar28:iy,eVar29:oy,eVar30:ay,eVar31:cy,eVar32:sy,eVar33:uy,eVar39:_y,eVar40:function(e){var t=e.data;return vu(function(e){return String(e).split(":").map(Xs).filter((function(e){return e})).join(":")||void 0}(t.referrerLocation))},eVar43:hy,eVar45:function(e){var t=e.data;return vu(t.referrerLocation?"D=v40":void 0,{allowUppercase:!0})},eVar50:function(e){var t=e.data;return vu(uu(t.locationSegments.slice(0,4)))},eVar51:function(e){var t=e.data;return vu(uu(t.locationSegments.slice(0,5)))},eVar52:function(e){var t=e.data;return vu(uu(t.locationSegments.slice(0,6)))},eVar53:function(e){var t=e.data;return vu(uu(t.locationSegments.slice(0,7)))},eVar56:Iy,eVar58:Sy,eVar60:Ay,eVar66:Cy,eVar67:function(e){var t=e.event;if(t.community)return vu(uu([t.community.id,t.community.name,t.community.permissions,t.community.titleId,t.community.productTitle,t.community.timeZone,t.community.language]))},eVar69:function(e){var t=e.event;if(t.emailCampaign)return vu(t.emailRecipient)},eVar76:function(e){var t=e.event;if(t.emailCampaign&&t.emailRecipient)return vu(t.emailCampaign)},eVar77:function(e){var t=e.event;return vu(t.marketingCampaign)},eVar80:function(e){var t=e.event;return vu(t.userGenes)},eVar93:Uy,eVar95:ky,eVar97:function(e){var t=e.event;if(t.viewIds&&t.viewIds.length&&"undefined"!==typeof t.experienceId)return vu(uu([lu(t.viewIds),t.viewCollectionId||"empty",t.experienceId]),{delimiters:[":","-"]})},eVar101:function(e){var t=e.event,n=e.data;if(t.tournamentName){var r=function(e){return Is.cleanUpString(e,As.INVALID_COMMA_REGEX)};return n.pushEvent({id:346,value:t.tournamentPlayersSignedUp}),vu(uu([r(t.tournamentName).substr(0,50),t.tournamentFormat||"no format",t.tournamentStageInfo||"no stage info",t.tournamentPrizeInfo||"no prize info",t.tournamentStartTime?t.tournamentStartTime.toISOString().substr(0,10):"no start time",t.tournamentVideoType||"no video",t.tournamentType||"no type",t.tournamentSponsors?r(fu(t.tournamentSponsors)).substr(0,50):"no sponsors"]))}},eVar102:function(e){var t=e.event;return vu(t.maturityRating)},hier1:function(){return"D=pageName"},list1:wf,list2:Vf,list3:dl,prop45:function(e){return e.data.referrerLocation?"D=v40":void 0},pageViewEvents:function(e){e.data.pushEvent(1),function(e){var t=e.event,n=e.data;!0===t.isAgeGate&&n.pushEvent(38)}(e),function(e){var t=e.event,n=e.data;!0===t.eaAccessIsVaultPurchase&&n.pushEvent(78)}(e),function(e){var t=e.event,n=e.data;!0===t.eaAccessIsPFTPurchase&&n.pushEvent(79)}(e),function(e){var t=e.event,n=e.data;!0===t.hasCompletedTournamentSignUp&&n.pushEvent(299)}(e),function(e){var t=e.event,n=e.data;t.oskZeroStateResult&&""!==t.searchTerm&&n.pushEvent(312)}(e),function(e){var t=e.event,n=e.data;t.oskZeroStateResult&&""===t.searchTerm&&n.pushEvent(313)}(e),function(e){var t=e.event,n=e.data;t.totalStrands&&n.pushEvent({id:322,value:t.totalStrands})}(e)},formEvents:xl,clickTypeEvents:Bl,transactionEvents:rf,psnowEvents:Kl,sessionEvents:zl,events:If},Yy.Impression={products:wl,eVar2:Mf,eVar3:Lf,eVar4:Uf,eVar5:kf,eVar30:ay,eVar33:uy,eVar60:Ay,eVar93:Uy,list1:wf,list2:Vf,list3:dl,sessionEvents:zl,events:If},Yy.Startup={eVar49:my,eVar95:ky,startupEvents:function(e){e.data.pushEvents([66,264])},sessionEvents:zl,events:If},Yy.UserFacingError={eVar2:Mf,eVar3:Lf,eVar4:Uf,eVar5:kf,eVar16:function(e){var t=e.event;return vu(uu([t.error||"",t.severity||"",t.code||"",t.description||"no description"]))},eVar37:function(e){var t=e.event;return vu((t.apiUrl||"no url").replace(/[:/]/g,"_"))},eVar48:function(e){var t=e.data;return vu(uu(t.locationSegments))},eVar74:Ly,userFacingErrorEvents:function(e){e.data.pushEvent(25)},sessionEvents:zl,events:If},Yy.LoadTime={eVar39:_y,eVar95:ky,sessionEvents:zl,events:If},Yy.VideoStream={eVar8:jf,eVar20:Xf,eVar22:Qf,eVar23:$f,eVar24:ey,eVar25:ty,eVar26:ny,eVar27:ry,eVar28:iy,eVar30:ay,eVar35:ly,eVar36:yy,eVar38:dy,eVar49:my,eVar56:Iy,eVar60:Ay,eVar61:Oy,eVar62:by,eVar63:Ry,eVar64:Ny,eVar70:Py,list3:dl,list1:wf,videoStreamEvents:gf,sessionEvents:zl,events:If},Yy.AdClick={currencyCode:Rf,products:wl,purchaseID:Nf,transactionID:Cf,eVar2:Mf,eVar3:Lf,eVar4:Uf,eVar5:kf,eVar8:jf,eVar9:Bf,eVar12:Hf,eVar13:Wf,eVar14:xf,eVar15:zf,eVar17:qf,eVar18:Jf,eVar20:Xf,eVar22:Qf,eVar23:$f,eVar24:ey,eVar25:ty,eVar26:ny,eVar27:ry,eVar28:iy,eVar29:oy,eVar30:ay,eVar31:cy,eVar32:sy,eVar33:uy,eVar35:ly,eVar36:yy,eVar38:dy,eVar41:vy,eVar43:hy,eVar46:Ey,eVar49:my,eVar56:Iy,eVar58:Sy,eVar60:Ay,eVar61:Oy,eVar62:by,eVar63:Ry,eVar64:Ny,eVar66:Cy,eVar78:Dy,eVar93:Uy,eVar99:Fy,list1:wf,list2:Vf,list3:dl,prop5:Gy,prop6:Hy,prop8:By,adEvents:Ul,clickTypeEvents:Bl,clickEvents:kl,formEvents:xl,transactionEvents:rf,psnowEvents:Kl,sessionEvents:zl,events:If},Yy.AdImpression={products:wl,eVar2:Mf,eVar3:Lf,eVar4:Uf,eVar5:kf,eVar30:ay,eVar33:uy,eVar60:Ay,eVar93:Uy,list1:wf,list2:Vf,list3:dl,adEvents:Ul,sessionEvents:zl,events:If},Yy.AdVideoStream={eVar8:jf,eVar20:Xf,eVar22:Qf,eVar23:$f,eVar24:ey,eVar25:ty,eVar26:ny,eVar27:ry,eVar28:iy,eVar30:ay,eVar35:ly,eVar36:yy,eVar38:dy,eVar49:my,eVar56:Iy,eVar60:Ay,eVar61:Oy,eVar62:by,eVar63:Ry,eVar64:Ny,eVar70:Py,list3:dl,list1:wf,adEvents:Ul,videoStreamEvents:gf,sessionEvents:zl,events:If};var xy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n,r){var i=e[r](t);return void 0!==i&&(n[r]=i),n};return Object.keys(e).reduce(n,{})};function Ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zy,qy,Jy=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t,n,r,i)||this)._requireValidConfig(n),o.abortOnWs1=vc(n.abortOnWs1)?gs:n.abortOnWs1,o._urlPrivacyFilter=i.get("/privacy/uriCensor"),o._superCalled=!0,o._environment=t,o.__resolveDispatcher(n,n.dispatcher,i),o._cache=i.get("/cache/cacheInterface"),o._initMcidVisitor(),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,o,a,c=r.prototype;return c._isValidConfig=function(e){return!(!e.reportSuite||!e.reportSuite.length)},c._requireValidConfig=function(e){if(!this._isValidConfig(e))throw new Error("Invalid Adobe Configuration")},c._initMcidVisitor=function(){this._superCalled&&this.dispatcher.initMcidVisitor(this.shouldRestrictData,this.environment,this.config,this.logger)},c.buildPayload=function(e){var t={cache:this._cache,config:this.config,data:{pushEvents:function(e){t.data.events=t.data.events.concat(e)},pushEvent:function(e){t.data.events.push(e)},hasEvent:function(e){return ra(t.data.events,e)},hasEvents:function(){return Boolean(t.data.events.length)}},environment:this.environment,event:e,gctVersion:wu,logger:this.logger,payload:{},pluginName:this.pluginName,sdkVersion:this.dispatcher.version};t.data.events=[],t.data.locationSegments=(e.location||"").split(":").map((function(e){return Is.cleanUpString(e)})).filter((function(e){return e})),t.data.referrerLocation=e.referrerLocation||e.referrer||"";var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event,n=e.payload,r=Yy[String(t.type)];return r?(Tf(n,xy(Wy,e)),Tf(n,xy(r,e)),n.events?n:(e.logger.debug("Not sending ".concat(t.type," event to ").concat(e.pluginName," (no event property)")),null)):(e.logger.warn("Not sending ".concat(t.type," event to ").concat(e.pluginName," (unsupported)")),!1)}(t);return n?(Pu.populateProps(n),this.shouldRestrictData&&this.config.abortOnWs1&&(n.abort=!0),n):n},c.sendPayload=function(e,t){this.shouldRestrictData&&this.abortOnWs1?this.logger.info("Not sending payload, abortOnWs1 is configured."):(t.sessionId&&e.events&&-1!==e.events.split(",").indexOf("event999")&&this._cache.set("lastAdobeReportedSessionId",t.sessionId),this.dispatcher.dispatchPayload(this.shouldRestrictData,e,t))},c.__resolveDispatcher=function(e,t,n){var r=Xn(t)?t:"webSdk",i=n.get("/adobe/".concat(r));H(i.dispatchPayload)?this._dispatcher=i:this._dispatcher=new i(e,n)},i=r,(o=[{key:"dispatcher",get:function(){return this._dispatcher}},{key:"environment",get:function(){return this._environment},set:function(e){var t=e!==this._environment;this._environment=e,t&&this._initMcidVisitor()}},{key:"shouldRestrictData",get:function(){return this.environment.platformPrivacyWs1===Jo.MINIMAL}}])&&Ky(i.prototype,o),a&&Ky(i,a),r}(Ss);function Xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(Jy,"CONSTANTS",{enumerable:!0,writable:!1,configurable:!1,value:As}),Object.defineProperty(Jy,"Utils",{enumerable:!0,writable:!1,configurable:!1,value:Pu});var Zy=function(){var e,t,n;function r(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object.defineProperty(this,"type",{enumerable:!0,writable:!1,configurable:!1,value:t});var i=t.replace(/([a-z](?=[A-Z]))/g,"$1 ");Object.defineProperty(this,"name",{enumerable:!0,writable:!1,configurable:!1,value:(r?"".concat(i," ").concat(r):i).toLowerCase()}),this.time=e.time||new Date,this.location=e.location,this.locationType=e.locationType,this.url=e.url;var o=_t(this);_t(e).filter((function(e){return!Ws(o,e)})).forEach((function(t){n[t]=e[t]}))}return r.setDispatcher=function(e){qy=e},e=r,(t=[{key:"deprecationManager",get:function(){return zy||(zy=new qo),zy}}])&&Xy(e.prototype,t),n&&Xy(e,n),r.prototype.dispatch=function(){return qy(this)},r}();function Qy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $y=function(){function e(e){this._serviceContainer=e}var t,n,r;return t=e,(n=[{key:"logger",get:function(){return this._logger||(this._logger=this._serviceContainer.get("Logger")),this._logger}},{key:"throttler",get:function(){return this._throttler||(this._throttler=this._serviceContainer.get("/throttler/ThrottlerInterface")),this._throttler}},{key:"schemaOptions",get:function(){return void 0===this._schemaOptions&&(this._schemaOptions=this._serviceContainer.get("SchemaOptions")),this._schemaOptions}},{key:"deprecationManager",get:function(){return this._deprecationManager||(this._deprecationManager=this._serviceContainer.get("/deprecation/deprecationManager")),this._deprecationManager}},{key:"identifiers",get:function(){return this._identifiers||(this._identifiers=this._serviceContainer.get("/identifier/identifierProvider")),this._identifiers}},{key:"eventManager",get:function(){return this._eventManager||(this._eventManager=this._serviceContainer.get("/event/eventManager")),this._eventManager}},{key:"eventInspector",get:function(){return this._eventInspector||(this._eventInspector=this._serviceContainer.get("EventInspector")),this._eventInspector}}])&&Qy(t.prototype,n),r&&Qy(t,r),e}(),ed=function(e){var t,n;function r(t){var n="";return t.clickLocation&&(n+="".concat(t.clickLocation," ")),t.clickType=String(t.clickType),n+=t.clickType.replace("click ",""),e.call(this,t,"Click",n.replace("_"," "))||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy);function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rd=function(e,t){if(e instanceof Date&&t instanceof Date){var n=t.valueOf()-e.valueOf();return Number.isNaN(n)?void 0:n}},id=function(e){var t,n;function r(t){return e.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(n,!0).forEach((function(t){nd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{dwellDurationTime:rd(t.dwellStartTime,t.dwellEndTime)}),"Dwell")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),od=function(e){var t,n;function r(t){return e.call(this,t,"AdClick")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),ad=function(e){var t,n;function r(t){return e.call(this,t,"AdImpression")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),cd=function(e){var t,n;function r(t){return e.call(this,t,"AdVideoStream")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),sd=function(e){var t,n;function r(t){var n;if(t.banners){if(n="banners",t.bannerType)switch(t.bannerType){case Ac.PAID_AD_VIEWED:n+=" paid ad viewed";break;case Ac.PAID_AD_LOADED:n+=" paid ad loaded";break;case Ac.VIDEO_AD_PLAYED:n+=" video ad played"}}else t.tiles?n="tiles":t.recommendations&&(n="recommendations");return e.call(this,t,"Impression",n)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),ud=function(e){var t,n;function r(t){return e.call(this,t,"LoadTime")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),pd=function(e){var t,n;function r(t){return e.call(this,t,"PageView")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),ld=function(e){var t,n;function r(t){return e.call(this,t,"Search")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),fd=function(e){var t,n;function r(t){return e.call(this,t,"Startup",t.startupType)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),yd=function(e){var t,n;function r(t){if(!ts(t.severity))throw new Error("Invalid value for SEVERITIES: ".concat(t.severity,"!"));var n=Is.cleanUpString(t.error);return e.call(this,t,"UserFacingError",n)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Zy),dd=function(e,t,n){if(!t(n))throw new Error(e.replace("{value}",n))},_d=function(e){var t,n;function r(t){t.videoAction&&dd("Invalid value for VIDEO_ACTIONS: {value}!",is,t.videoAction),dd("Invalid value for STREAM_TYPES: {value}!",ns,t.streamType),dd("Invalid value for VIDEO_FORMATS: {value}!",os,t.videoFormat),dd("Invalid value for VIDEO_TYPES: {value}!",as,t.videoType);var n="".concat(t.streamType," ").concat(t.videoAction);return e.call(this,t,"VideoStream",n.replace(/(_)/g," "))||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.dispatch=function(t){return t&&(this.videoAction=t,this.time=new Date),e.prototype.dispatch.call(this)},r}(Zy);function vd(){return(vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var hd=function(e,t){return function(n){return function(e,t,n){var r=e.get("config"),i=vd({},(r.plugins||{})[t]||{});!0===r.dryRun&&(i.dryRun=!0);var o=e.get("telemetryService").filteredEnvironment;return i.__logger=e.get("Logger"),new n(o,i,t,e)}(n,e,t)}},Ed={},gd=function(e,t){return e[0].toUpperCase()+e.substr(1)+(t[0].toUpperCase()+t.substr(1))},md={PLUGINS:Ed,register:function(e,t,n,r){var i=gd(t,r);Ed[t]=n,e.__createTransitionPluginReference(i,n)},unregister:function(e,t,n){if(Ed[t]){delete Ed[t];var r=gd(t,n);delete e[r],e.PLUGINS&&delete e.PLUGINS[r]}}},Id=function(){return"undefined"===typeof window||"undefined"===typeof window.location||"undefined"===typeof window.location.search?"":function(e){var t={};return bo(e).forEach((function(e){if(void 0!==e){var n=wo(e,2),r=n[0],i=n[1],o=Qr(r)?decodeURIComponent(r):"",a=Qr(i)?decodeURIComponent(i):"";t[o]=a}})),t}(window.location.search.substr(1)).PlatformPrivacyWs1||""},Td=function(e,t){if(e)return e;var n=t();return n||void 0},Sd=function(e){var t=e.env,n=[function(){return function(e){return e.platformPrivacyWs1||""}(t)},function(){return Id()}].reduce(Td,null);return function(e){return ra(Jo.ALL,e)}(n)?n:Jo.MINIMAL},Ad=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;return Object.keys(n).forEach((function(i){if(Sa(n[i])){if(r.has(n[i]))return void(t[i]=r.get(n[i]));Sa(t[i])||(t[i]={}),r.set(n[i],t[i]),t[i]=e(t[i],n[i],r),r.delete(n[i])}va(n[i])||Ea(n[i])?t[i]=n[i]:Aa(n[i])&&(Aa(t[i])||(t[i]=[]),t[i]=t[i].concat(n[i]))})),t};function Od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bd(e){return(bd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Rd={UNKNOWN:0,SIGNED_IN:1,SIGNED_OUT:2},Nd=function(e){return"undefined"===typeof e?null:e},Cd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Boolean(e.signedIn),n=Nd(e.visitorId),r=Nd(e.deviceId),i="object"===("undefined"===typeof navigator?"undefined":bd(navigator))?Nd(navigator.userAgent):null;return{isSignedIn:t,hashedPsnAccountId:n,deviceId:r,deviceAgent:i}},Pd=function(e){return e.isSignedIn?Rd.SIGNED_IN:Rd.SIGNED_OUT},wd=function(e){return e.isSignedIn?{id:e.hashedPsnAccountId||As.MISSING_VISITOR_ID,authState:Rd.SIGNED_IN}:{authState:Rd.SIGNED_OUT}},Vd=function(e){var t={},n=wd(e);n&&(t.psn_Member=n);var r=function(e){return e.deviceId?{id:e.deviceId,authState:Pd(e)}:null}(e);r&&(t.psn_Device=r);var i=function(e){return e.deviceAgent?{id:e.deviceAgent,authState:Pd(e)}:null}(e);return i&&(t.psn_DeviceAgent=i),t},Md=function(e,t){var n=Cd(t),r=Vd(n);Object.keys(r).length>0&&e.setCustomerIDs(r)},Ld=function(e){return[["trackingServer",e.trackingServer],["trackingServerSecure",e.trackingServerSecure],["marketingCloudServer",e.marketingCloudServer],["marketingCloudServerSecure",e.marketingCloudServerSecure],["audienceManagerServer",e.audienceManagerServer],["audienceManagerServerSecure",e.audienceManagerServerSecure]].reduce((function(e,t){var n=Od(t,2),r=n[0],i=n[1];return i&&(e[r]=i),e}),{})},Dd=function(e,t){var n=e.visitorApi;if(!n)return null;var r=Ld(e),i=n.getInstance(e.organizationId,r);return i?(Md(i,t),i):null},Ud=function(e,t){var n=Object.keys(e).filter((function(e){return!ra(t,e)}));if(n.length>0)throw Error("Unknown keys in object: ".concat(n.join(", "),"."))};function kd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fd(e){return(Fd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var jd=function(e){return Boolean(function(e){return Boolean("undefined"!==typeof e&&null!==e)}(e.visitorApi))},Gd=function(e){return jd(e)||Boolean("object"===("undefined"===typeof window?"undefined":Fd(window))&&window.Visitor)},Bd=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ta(e))throw new Error("McidConfig requires the parameter adobe plugin config object.");this.adobePluginConfig=e}var t,n,r;return t=e,(n=[{key:"isVisitorApiAvailable",get:function(){return Gd(this.adobePluginConfig)}},{key:"isDryRun",get:function(){return!0===this.adobePluginConfig.dryRun}},{key:"isEnabled",get:function(){return!0===this.adobePluginConfig.enableMcid}},{key:"audienceManagerServer",get:function(){return this.adobePluginConfig.audienceManagerServer||As.DEFAULT_AUDIENCE_MANAGER_SERVER}},{key:"audienceManagerServerSecure",get:function(){return this.adobePluginConfig.audienceManagerServerSecure||As.DEFAULT_AUDIENCE_MANAGER_SERVER_SECURE}},{key:"organizationId",get:function(){return this.adobePluginConfig.organizationId||As.DEFAULT_ORGANIZATION_ID}},{key:"trackingServer",get:function(){return this.adobePluginConfig.trackingServer||As.DEFAULT_TRACKING_SERVER}},{key:"trackingServerSecure",get:function(){return this.adobePluginConfig.trackingServerSecure||As.DEFAULT_TRACKING_SERVER_SECURE}},{key:"marketingCloudServer",get:function(){return this.adobePluginConfig.marketingCloudServer||As.DEFAULT_MARKETING_CLOUD_SERVER}},{key:"marketingCloudServerSecure",get:function(){return this.adobePluginConfig.marketingCloudServerSecure||As.DEFAULT_MARKETING_CLOUD_SERVER_SECURE}},{key:"visitorApi",get:function(){return this.adobePluginConfig.visitorApi||("object"===("undefined"===typeof window?"undefined":Fd(window))?window.Visitor:null)||null}}])&&kd(t.prototype,n),r&&kd(t,r),e}(),Hd=["config","environment","logger"],Wd=function(e,t){Ud(t,Hd);var n=t.config,r=t.environment,i=t.logger,o=new Bd(n);if(!o.isEnabled)return null;if(!o.isVisitorApiAvailable)return i&&i.warn('Adobe VisitorAPI is not loaded. Ensure that VisitorAPI.js is loaded, or pass in a reference via "adobeConfig.visitorApi".'),null;if(o.isDryRun)return i&&i.warn("DryRun configuration detected. Cancelling MCID Initialization."),null;var a=Dd(o,r);return a?(e.visitor=a,a):(i&&i.warn("Unable to obtain Omniture visitor instance from VisitorAPI."),null)};function Yd(){return(Yd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kd=/^(?:prop|eVar|hier|list)[1-9][0-9]*$/,zd=["campaign","channel","eventList","events","productList","products","purchaseID","state","transactionID","zip"],qd=function(e){return!!e.match(Kd)||zd.indexOf(e)>=0},Jd=function(){function e(e){this.sdk=e.sdk,this.urlPrivacyFilter=e.urlPrivacyFilter,this.boundPluginCallback=this.sdkPluginCallback.bind(this)}var t,n,r,i=e.prototype;return i.initMcidVisitor=function(e,t,n,r){e?delete this.sdk.visitor:this.mcidVisitor=Wd(this.sdk,{environment:t,config:n,logger:r})},i.dispatchPayload=function(e,t,n){var r="PageView"===n.type;this._configureSdkPluginFilter(e),r&&this._clearSdkVars(),Yd(this.sdk,t),r?this._dispatchPageView():this._dispatchPageLink(t,n)},i._configureSdkPluginFilter=function(e){e?(this.sdk.usePlugins=!0,this.sdk.doPlugins=this.boundPluginCallback):(this.sdk.usePlugins=!1,this.sdk.doPlugins=void 0)},i._clearSdkVars=function(){this.sdk.clearVars()},i._dispatchPageView=function(){this.sdk.t()},i._dispatchPageLink=function(e,t){var n=Is.cleanUpString(t.name),r=Pu.getLinkType(t);this.sdk.linkTrackVars=Object.keys(e).filter(qd).join(","),this.sdk.linkTrackEvents=this.sdk.events.replace(/=[0-9]+/g,""),this.sdk.tl(!0,r,n)},i.filterUrl=function(e){return this.urlPrivacyFilter(e)},i.sdkPluginCallback=function(e){e.pageURL=this.filterUrl(e.pageURL),e.referrer=this.filterUrl(e.referrer),e.fid="",e.mcid=""},t=e,(n=[{key:"version",get:function(){return"sdk_v".concat(this.sdk.version)}}])&&xd(t.prototype,n),r&&xd(t,r),e}();function Xd(){return(Xd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qd=function(e,t){return"".concat(e,"=").concat(encodeURIComponent(t),"&")},$d=function(){function e(e){this._xhr=e.xhr}var t,n,r,i=e.prototype;return i.initMcidVisitor=function(){},i.dispatchPayload=function(e,t,n){var r=new Date,i=["https://",t.trackingServerSecure,"/b/ss/",t.account,"/1/","gctxhr-5.6.0/","s".concat(Math.floor(r.getTime()/108e5)%10+Math.floor(1e13*Math.random()),"?"),"AQB=1&","ndh=1&","pf=1&","ce=UTF-8&"];"PageView"===n.type?(i.push(Qd("pageName",t.pageName)),i.push(Qd("ch",t.channel)),i.push(Qd("server",t.server))):(i.push("pe=lnk_".concat(Pu.getLinkType(n),"&")),i.push("pev2=".concat(encodeURIComponent(Is.cleanUpString(n.name)),"&"))),i.push(Qd("events",t.events)),i.push(Qd("vid",t.visitorID)),i.push(Qd("ts",t.timestamp));var o,a=r.getYear(),c=["".concat(r.getDate(),"/").concat(r.getMonth(),"/").concat(a<1900?a+1900:a)," ","".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds())," ",r.getDay()," ",r.getTimezoneOffset()];i.push(Qd("t",c.join("")));for(var s=1;s<=255;s+=1)t[o="eVar".concat(s)]&&i.push(Qd("v".concat(s),t[o])),o="prop".concat(s),s<=75&&t[o]&&i.push(Qd("c".concat(s),t[o])),o="hier".concat(s),s<=5&&t[o]&&i.push(Qd("h".concat(s),t[o])),o="list".concat(s),s<=3&&t[o]&&i.push(Qd("l".concat(s),t[o]));t.products&&i.push(Qd("products",t.products)),t.currencyCode&&i.push(Qd("cc",t.currencyCode)),t.purchaseID&&i.push(Qd("purchaseID",t.purchaseID)),t.transactionID&&i.push(Qd("xact",t.transactionID)),t.campaign&&i.push(Qd("v0",t.campaign)),i.push("AQE=1"),this._xhr("GET",i.join(""),null,null)},t=e,(n=[{key:"version",get:function(){return"xhr"}}])&&Zd(t.prototype,n),r&&Zd(t,r),e}();function e_(){return(e_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var t_={adobe:{dispatcher:{webSdk:{sdk:""},xhr:{xhr:"/network/xhrInterface"}}},services:{factories:{"/adobe/webSdk":function(e){var t=Xd({},(e.get("config").plugins||{}).adobe||{}),n=e.get("/privacy/uriCensor"),r=function(e,t){return Xn(t)?e.get(t):t||e.get("/adobe/appMeasurement")}(e,t.sdkInstance);return new Jd({sdk:r,urlPrivacyFilter:n})},"/adobe/xhr":function(e){var t=e_({},(e.get("config").plugins||{}).adobe||{}),n=e.get("/network/".concat(Xn(t.xhr)?t.xhr:"xhrInterface"));return new $d({xhr:n})}}}};function n_(e){return(n_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r_={cache:{domLocalStorage:{namespace:"gct"}},services:{factories:{"/cache/cacheInterface":function(e){return function(){if("undefined"===typeof window)return!1;var e;try{e=window.localStorage;var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(n){return!("undefined"===typeof DOMException||!e)&&n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&0!==e.length}}()?e.get("/cache/domLocalStorage"):e.get("/cache/memoryCache")},"/cache/memoryCache":function(){return new Jr},"/cache/domLocalStorage":function(e){var t=e.get("config").cache.domLocalStorage;if("object"!==("undefined"===typeof window?"undefined":n_(window)))throw new Error("No window object.");if("object"!==n_(window.localStorage))throw new Error("No window.localStorage.");return new qr(window.localStorage,{namespace:t.namespace})}}}},i_={deprecation:{alwaysThrow:!1,overrides:{}},services:{factories:{"/deprecation/deprecationManager":function(e){var t=e.get("config").deprecation||{},n=t.overrides||{},r=t.alwaysThrow||!1,i=e.get("Logger"),o=e.get("/build/date");return new Yo({referenceDate:o,logger:i,overrides:n,alwaysThrow:r})},"/deprecation/staticDeprecationManager":function(e){var t=new qo;if(!t.deprecationManager){var n=e.get("/deprecation/deprecationManager"),r=e.get("/host/appName");e.get("Logger").info("Static deprecations are handled by ".concat(r,".")),t.deprecationManager=n}}}}},o_={inspector:{enabled:!1},services:{aliases:{EventInspector:"/inspector/eventInspector"},factories:{"/inspector/eventInspector":function(e){var t=e.get("config").inspector||{},n=new Xi;return t.enabled&&n.enable(),n}}}},a_={services:{factories:{"/event/eventManager":function(){return new ii}}}},c_={schema:{enabled:!1},services:{aliases:{GctBuildDate:"/build/date"},factories:{"/build/date":function(e){var t=e.get("/build/rawBuildDate");return"@@BUILD_DATE"===t?new Date:new Date(t)},"/build/rawBuildDate":function(){return"2020-10-14T06:49:48.129Z"}}}},s_={services:{factories:{"/host/appName":function(e){var t=e.get("config");return t.env&&t.env.appName||"unknown-app"}}}},u_={sessionId:{cache:"cache.sessionId",cacheKey:void 0},shortTermId:{cache:"cache.shortTermId",cacheKey:void 0,lifetime:void 0},testIdentifiers:{cache:"cache.testIdentifiers",cacheKey:void 0},services:{aliases:{"cache.identifier":"/cache/cacheInterface","cache.shortTermId":"cache.identifier","cache.sessionId":"cache.identifier","cache.testIdentifiers":"cache.identifier"},factories:{"/identifier/sessionId":function(e){var t=e.get("config"),n=e.get("telemetryService"),r=t.sessionId||{},i={};r.cacheKey&&(i.cacheKey=r.cacheKey),r.cache&&(i.cache=e.get(r.cache));var o=new Pi(i);return new li(o,n),o},"/identifier/shortTermId":function(e){var t=e.get("config"),n=e.get("/host/appName"),r=t.shortTermId||{},i={};if(r.cacheKey&&(i.cacheKey=r.cacheKey),r.cache&&(i.cache=e.get(r.cache)),r.lifetime){var o={lifetime:r.lifetime},a=new Li(o);i.validator=a}return i.appName=n,new Gi(i)},"/identifier/tracingId":function(){return new Ki},"/identifier/testIdentifiers":function(e){var t=e.get("config").testIdentifiers||{},n=t.cacheKey||"test-identifiers";if(!t.cache)return{};var r=e.get(t.cache);return r&&r.get(n)||{}},"/identifier/identifierProvider":function(e){var t=e.get("/identifier/sessionId"),n=e.get("/identifier/shortTermId"),r=e.get("/identifier/tracingId"),i=e.get("/identifier/testIdentifiers");return new ai({sessionId:t,shortTermId:n,tracingId:r,testIdentifiers:i})}}}},p_=Or.WARNING,l_=Or.ERROR,f_=Or.INFO,y_=Or.EMERGENCY,d_=Or.ALERT,__=Or.DEBUG,v_=Or.NOTICE,h_=Or.CRITICAL,E_=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.warn=function(e,t){this.log(p_,e,t)},i.groupCollapsed=function(e){this.log(__,e,{})},i.groupEnd=function(){},r}(Fr),g_={EMERGENCY:y_,ALERT:d_,CRITICAL:h_,ERROR:l_,WARNING:p_,NOTICE:v_,INFO:f_,DEBUG:__,TRACE:__,WARN:p_,TIME:__},m_=function(e){return JSON.stringify(e,null,2)},I_={logger:{async:!1,jsonOutput:!1},logLevel:void 0,services:{aliases:{Logger:"/logger/console"},factories:{"/logger/console":function(e){var t=e.get("config"),n=t.logger||{},r=new xr(console),i=new Gr("[GCT] ",r);return n.jsonOutput&&(i=new jr(m_,i)),i=function(e,t){if(Xn(e)){var n=e.toUpperCase();if("OFF"===n)return new Kr;if(g_[n])return new Wr(g_[n],t)}return new Wr(l_,t)}(t.logLevel,i),i=new E_(i)}}}},T_=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.method=/^(POST|DELETE|PUT)$/i.test(e)?e.toUpperCase():"GET",this.uri=t,this.headers=n||{},this.callback=r||function(){},this._logger=i.logger}return e.prototype.open=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=new XMLHttpRequest;n.open(this.method,this.uri,!0),Object.keys(this.headers).forEach((function(t){n.setRequestHeader(t,e.headers[t])})),void 0!==this.timeout&&(n.timeout=this.timeout);var r=this.callback;n.onload=function(){var t=n.status,i=n.responseText;if(/^application\/json/i.test(n.getResponseHeader("Content-Type"))&&i.trim().length>0)try{i=JSON.parse(i)}catch(o){e._logger.error("Request returned invalid JSON",{uri:e.uri,response:i}),r(!0,-4,"InvalidJsonError: JSON Parse Error.")}r(t>=400,t,i)},n.onerror=function(){r(!0,-1,"HttpError: The server responded with an error.")},n.onabort=function(){r(!0,-2,"ConnectionError: HTTP Request Terminated.")},n.ontimeout=function(){r(!0,-3,"TimeoutError: Server failed to respond after configured timeout.")},this._logger.debug("XHR Request Created.",{method:this.method,uri:this.uri,body:t}),n.send("POST"===this.method||"PUT"===this.method?t:null)},e}(),S_={network:{defaultXhr:"browserXhr"},services:{factories:{"/network/xhrInterface":function(e){var t=e.get("config").network||{},n=Xn(t.defaultXhr)?t.defaultXhr:"browserXhr";return e.get("/network/".concat(n))},"/network/browserXhr":function(e){return function(e){return function(t,n,r,i,o){new T_(t,n,r,o,e).open(i)}}({logger:e.get("Logger")})}}}},A_={plugins:{adobe:{}},services:{factories:{"/adobe/appMeasurement":function(){return new AppMeasurement},"/plugin/adobe":hd("adobe",Jy)}}},O_={plugins:{clairvoyance:{}},services:{factories:{"/plugin/clairvoyance":hd("clairvoyance",Pr)}}},b_={plugins:{kamaji:{}},services:{factories:{"/plugin/kamaji":function(e){var t=e.get("config"),n=(t.plugins||{}).kamaji||{},r=hr({},n);!0===t.dryRun&&(r.dryRun=!0),r.xhr=function(e,t){var n=t.xhr&&Zn(t.xhr)?"/network/".concat(t.xhr):"/network/xhrInterface";return e.get(n)}(e,n),r.__logger=e.get("Logger");var i=e.get("telemetryService").filteredEnvironment;return new vr(i,r,"kamaji",e)}}}},R_=function(e){return e.userInfo=void 0,e.query=Po(e.query)||void 0,e.hash=void 0,e},N_={services:{factories:{"/privacy/uriCensor":function(){return function(e){return Oo(e,R_)}}}}},C_="[object Object]",P_=Function.prototype,w_=Object.prototype,V_=P_.toString,M_=w_.hasOwnProperty,L_=V_.call(Object),D_=function(e){if(!Fe(e)||D(e)!=C_)return!1;var t=wt(e);if(null===t)return!0;var n=M_.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&V_.call(n)==L_},U_=Math.min,k_=function(e,t,n){for(var r=n?za:Ka,i=e[0].length,o=e.length,a=o,c=Array(o),s=1/0,u=[];a--;){var p=e[a];a&&t&&(p=qa(p,nt(t))),s=U_(p.length,s),c[a]=!n&&(t||i>=120&&p.length>=120)?new Ba(a&&p):void 0}p=e[0];var l=-1,f=c[0];e:for(;++l<i&&u.length<s;){var y=p[l],d=t?t(y):y;if(y=n||0!==y?y:0,!(f?Ja(f,d):r(u,d,n))){for(a=o;--a;){var _=c[a];if(!(_?Ja(_,d):r(e[a],d,n)))continue e}f&&f.push(d),u.push(y)}}return u},F_=function(e){return lc(e)?e:[]},j_=pc((function(e){var t=qa(e,F_);return t.length&&t[0]===e[0]?k_(t):[]})),G_=S.isFinite,B_=function(e){return"number"==typeof e&&G_(e)},H_="[object Number]",W_=function(e){return"number"==typeof e||Fe(e)&&D(e)==H_},Y_=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},x_="a",K_="b",z_="d",q_="e",J_="f",X_="i",Z_="n",Q_="o",$_="r",ev="s",tv={schemaVersion:1,version:"1.0",eventTemplates:{baseEvent:{type:q_,properties:{deeplink:{type:ev,c:$_},experimentData:{type:x_,c:Q_,collection:{type:q_,c:Q_,properties:{experimentId:{type:ev,c:Q_},univexId:{type:ev,c:Q_},variantId:{type:ev,c:Q_}}}},httpReferrer:{type:ev,c:Q_},location:{type:ev,c:$_},locationType:{type:ev,c:$_},name:{type:ev,c:$_},pageUrl:{type:ev,c:$_},time:{type:z_,c:$_},type:{type:ev,c:$_},url:{type:ev,c:$_},sessionId:{type:ev,c:$_},shortTermId:{type:ev,c:$_},testCaseId:{type:ev,c:$_},testSessionId:{type:ev,c:$_}}},recommendation:{type:q_,c:Q_,properties:{name:{type:ev,c:Q_},sku:{type:ev,c:Q_}}},recommendations:{type:x_,c:Q_,collection:{_include:["recommendation"]}},survey:{type:q_,c:Q_,properties:{surveyId:{type:ev,c:Q_},questionId:{type:X_,c:Q_},questionText:{type:ev,c:Q_},userResponse:{type:ev,c:Q_},permissionToContact:{type:K_,c:Q_},reasonId:{type:X_,c:Q_},reasonText:{type:ev,c:Q_}}},tile:{type:q_,c:Q_,properties:{campaignId:{type:ev,c:Q_},ctaType:{type:ev,c:Q_},productTitle:{type:ev,c:Q_},sponsored:{type:K_,c:Q_},tileAuthor:{type:ev,c:Q_},tileTitle:{type:ev,c:Q_},tileCaption:{type:ev,c:Q_},tileId:{type:ev,c:Q_},tileLanguage:{type:ev,c:Q_},postAnythingHasText:{type:K_,c:Q_},postAnythingHasImage:{type:K_,c:Q_},postAnythingHasUrl:{type:K_,c:Q_},postAnythingHasGameTag:{type:K_,c:Q_},postAnythingHasFriendTag:{type:K_,c:Q_},tileTrackingId:{type:ev,c:Q_},tileType:{type:ev,c:Q_},tilePosition:{type:X_,c:Q_}}},tiles:{type:x_,c:Q_,collection:{_include:["tile"]}},transaction:{type:q_,c:Q_,properties:{currencyCode:{type:ev,c:Q_},paymentMethod:{type:ev,c:Q_},products:{type:x_,c:Q_,collection:{type:q_,c:Q_,properties:{findingMethod:{type:ev,c:Q_},merchCategory:{type:ev,c:Q_},name:{type:ev,c:Q_},pstpCampaign:{type:ev,c:Q_},quantity:{type:X_,c:Q_},recAnchor:{type:ev,c:Q_},recCampaign:{type:ev,c:Q_},totalPrice:{type:J_,c:Q_},totalRevenue:{type:J_,c:Q_},totalDiscount:{type:J_,c:Q_},totalOrderLevelDiscount:{type:J_,c:Q_},walletRevenue:{type:J_,c:Q_},promotionalMarketingRevenue:{type:J_,c:Q_},sku:{type:ev,c:Q_}}}},purchaseID:{type:ev,c:$_},transactionID:{type:ev,c:$_},type:{type:ev,c:$_},useWallet:{type:K_,c:$_}}}},events:{Click:{_include:["baseEvent"],c:Q_,properties:{allowAdditionalData:{type:K_,c:Q_},allowPersonalizedRecs:{type:K_,c:Q_},allowPersonalizedAds:{type:K_,c:Q_},apiStatus:{type:ev,c:Q_},banner:{type:ev,c:Q_},clickType:{type:ev,c:Q_},clickLocation:{type:ev,c:Q_},clickMetadata:{type:ev,c:Q_},contentDetail:{type:ev,c:Q_},displayPrice:{type:ev,c:Q_},downloadClick:{type:K_,c:Q_},exitClick:{type:K_,c:Q_},findingMethod:{type:ev,c:Q_},formAction:{type:ev,c:Q_},formLocation:{type:ev,c:Q_},griefReportItem:{type:ev,c:Q_},griefReportReason:{type:ev,c:Q_},genre:{type:ev,c:Q_},hasAttachment:{type:K_,c:Q_},hasColorChanged:{type:K_,c:Q_},hasImage:{type:K_,c:Q_},hasImageChanged:{type:K_,c:Q_},hasGameTagged:{type:K_,c:Q_},hasPlayersTagged:{type:X_,c:Q_},hasPlayersInvited:{type:X_,c:Q_},hasPurchaseIntent:{type:K_,c:Q_},hasSticker:{type:K_,c:Q_},hasText:{type:K_,c:Q_},urlsPosted:{type:X_,c:Q_},hasUserMetAgeRequirement:{type:K_,c:Q_},hasVideo:{type:K_,c:Q_},impressionTime:{type:X_,c:Q_},isPlaytimeUnlimited:{type:K_,c:Q_},maturity:{type:ev,c:Q_},merchCategory:{type:ev,c:Q_},multiViewTimeSpent:{type:X_,c:Q_},networkName:{type:ev,c:Q_},playerId:{type:ev,c:Q_},playtimeAgeGroup:{type:ev,c:Q_},playtimeDurationChange:{type:X_,c:Q_},productClassification1:{type:ev,c:Q_},productClassification2:{type:ev,c:Q_},productClassification3:{type:ev,c:Q_},productName:{type:ev,c:Q_},productSku:{type:ev,c:Q_},publisher:{type:ev,c:Q_},ratingNumber:{type:X_,c:Q_},recCampaign:{type:ev,c:Q_},recommendation:{_include:["recommendation"]},recommendationSrc:{type:ev,c:Q_},releaseDate:{type:ev,c:Q_},searchFilter:{type:x_,c:Q_,collection:{type:ev,c:Q_}},searchTerm:{type:ev,c:Q_},sortOrder:{type:x_,c:Q_,collection:{type:ev,c:Q_}},streamType:{type:ev,c:Q_},survey:{_include:["survey"]},textPostUrlDomain:{type:ev,c:Q_},tile:{_include:["tile"]},tiles:{_include:["tiles"]},transaction:{_include:["transaction"]},videoType:{type:ev,c:Q_},videoFormat:{type:ev,c:Q_},videoId:{type:ev,c:Q_},videoSeasonNum:{type:X_,c:Q_},videoTitle:{type:ev,c:Q_},videoEpisodeName:{type:ev,c:Q_},videoEpisodeNum:{type:X_,c:Q_}}},Impression:{_include:["baseEvent"],c:Q_,properties:{banners:{type:x_,c:Q_,collection:{type:ev,c:Q_}},bannerType:{type:ev,c:Q_},publisher:{type:ev,c:Q_},tiles:{_include:["tiles"]},recCampaign:{type:ev,c:Q_},recommendations:{_include:["recommendations"]},transaction:{_include:["transaction"]}}},LoadTime:{_include:["baseEvent"],c:$_,properties:{bootInfo:{c:$_,type:ev},dataSizeGroup:{type:ev,c:$_},loadTime:{type:J_,c:$_},timings:{type:x_,c:$_,collection:{type:q_,c:$_,properties:{name:{c:$_,type:ev},startTime:{c:$_,type:J_},duration:{c:$_,type:J_},bootInfo:{c:Q_,type:ev},metricInfo:{c:Q_,type:ev}}}}}},PageView:{_include:["baseEvent"],c:Q_,properties:{banners:{type:x_,c:Q_,collection:{type:ev,c:Q_}},bannerType:{type:ev,c:Q_},bootInfo:{type:ev,c:Q_},dataSizeGroup:{type:ev,c:Q_},clickType:{type:ev,c:Q_},community:{type:q_,c:Q_,properties:{id:{type:ev,c:Q_},language:{type:ev,c:Q_},name:{type:ev,c:Q_},permissions:{type:ev,c:Q_},productTitle:{type:ev,c:Q_},timeZone:{type:ev,c:Q_},titleId:{type:ev,c:Q_}}},contentDetail:{type:ev,c:Q_},displayPrice:{type:ev,c:Q_},emailCampaign:{type:ev,c:Q_},emailRecipient:{type:ev,c:Q_},experienceId:{type:ev,c:Q_},findingMethod:{type:ev,c:Q_},formAction:{type:ev,c:Q_},formLocation:{type:ev,c:Q_},genre:{type:ev,c:Q_},isAgeGate:{type:K_,c:Q_},loadTime:{type:J_,c:Q_},marketingCampaign:{type:ev,c:Q_},maturity:{type:ev,c:Q_},merchCategory:{type:ev,c:Q_},oskZeroStateResult:{type:K_,c:Q_},pstpCampaign:{type:ev,c:Q_},productClassification1:{type:ev,c:Q_},productClassification2:{type:ev,c:Q_},productClassification3:{type:ev,c:Q_},productName:{type:ev,c:Q_},productSku:{type:ev,c:Q_},productType:{type:ev,c:Q_},publisher:{type:ev,c:Q_},referrerLocation:{type:ev,c:Q_},recAnchor:{type:ev,c:Q_},recommendations:{_include:["recommendations"]},recCampaign:{type:ev,c:Q_},releaseDate:{type:ev,c:Q_},searchResult:{type:ev,c:Q_},searchTerm:{type:ev,c:Q_},searchPosition:{type:X_,c:Q_},searchCount:{type:X_,c:Q_},searchCampaign:{type:K_,c:Q_},survey:{_include:["survey"]},tiles:{_include:["tiles"]},tournamentName:{type:ev,c:Q_},tournamentFormat:{type:ev,c:Q_},tournamentStageInfo:{type:ev,c:Q_},tournamentPrizeInfo:{type:ev,c:Q_},tournamentStartTime:{type:z_,c:Q_},tournamentVideoType:{type:ev,c:Q_},tournamentType:{type:ev,c:Q_},tournamentSponsors:{type:x_,c:Q_,collection:{type:ev,c:Q_}},hasCompletedTournamentSignUp:{type:K_,c:Q_},tournamentPlayersSignedUp:{type:X_,c:Q_},maturityRating:{type:ev,c:Q_},totalStrands:{type:ev,c:Q_},transaction:{_include:["transaction"]},userGenes:{type:ev,c:Q_},viewCollectionId:{type:ev,c:Q_},viewIds:{type:x_,c:Q_,collection:{type:ev,c:Q_}}}},Startup:{_include:["baseEvent"],c:$_,properties:{privacySettings:{type:ev,c:$_},startupType:{type:ev,c:$_},startupContext:{type:ev,c:$_},bootInfo:{type:ev,c:$_},dataSizeGroup:{type:ev,c:$_}}},UserFacingError:{_include:["baseEvent"],c:$_,properties:{apiUrl:{type:ev,c:$_},code:{type:ev,allowNumber:!0,c:$_},description:{type:ev,c:$_},error:{type:ev,c:$_},overrideAppName:{type:ev,c:$_},overrideBuildVersion:{type:ev,c:$_},severity:{type:ev,c:$_},stack:{type:ev,c:$_},errorMetadata:{type:q_,c:$_,properties:{skuId:{type:ev,c:$_},titleId:{type:ev,c:$_},errorUuid:{type:ev,c:$_},somethingLong:{type:ev,c:$_}}}}},VideoStream:{_include:["baseEvent"],c:Q_,properties:{banners:{c:Q_,type:x_,collection:{type:ev,c:Q_}},currentViewedTime:{type:J_,c:Q_},displayPrice:{type:ev,c:Q_},elapsedTime:{type:J_,c:Q_},genre:{type:ev,c:Q_},maturity:{type:ev,c:Q_},networkName:{type:ev,c:Q_},playerId:{type:ev,c:Q_},playerPosition:{type:X_,c:Q_},playerSoundEnabled:{type:K_,c:Q_},publisher:{type:ev,c:Q_},releaseDate:{type:ev,c:Q_},streamType:{type:ev,c:Q_},totalViewedTime:{type:J_,c:Q_},tile:{_include:["tile"]},videoAction:{type:ev,c:Q_},videoType:{type:ev,c:Q_},videoDuration:{type:J_,c:Q_},videoEpisodeName:{type:ev,c:Q_},videoEpisodeNum:{type:X_,c:Q_},videoFormat:{type:ev,c:Q_},videoId:{type:ev,c:Q_},videoSeasonNum:{type:X_,c:Q_},videoTitle:{type:ev,c:Q_},windowMode:{type:ev,c:Q_},videoUrl:{type:ev,c:Q_}}},Search:{_include:["baseEvent"],c:Q_,properties:{searchTerm:{type:ev,c:Q_},searchType:{type:ev,c:Q_},retryCount:{type:X_,c:Q_},resultCount:{type:X_,c:Q_},itemIdNamespace:{type:ev,c:Q_},itemIds:{type:x_,c:Q_,collection:{c:Q_,type:ev}},contentType:{type:ev,c:Q_},storeRegion:{type:ev,c:Q_},storeLanguage:{type:ev,c:Q_}}},Dwell:{_include:["baseEvent"],c:Q_,properties:{tile:{_include:["tile"]},dwellTargetType:{type:ev,c:Q_},dwellTargetId:{type:ev,c:Q_},dwellStartTime:{type:z_,c:Q_},dwellEndTime:{type:z_,c:Q_},dwellDurationTime:{type:X_,c:Q_},survey:{_include:["survey"]}}},AdClick:{_include:["baseEvent"],c:$_,properties:{clickType:{type:ev,c:$_},exitClick:{type:K_,c:$_},banner:{type:ev,c:$_},tile:{_include:["tile"],properties:{campaignId:{c:$_},productTitle:{c:$_},tileId:{c:$_},tilePosition:{c:$_},tileType:{c:$_}}}}},AdImpression:{_include:["baseEvent"],c:$_,properties:{banners:{type:x_,c:$_,collection:{type:ev,c:$_}},bannerType:{type:ev,c:$_},tiles:{type:x_,c:$_,collection:{_include:["tile"],properties:{campaignId:{c:$_},productTitle:{c:$_},tileId:{c:$_},tilePosition:{c:$_},tileType:{c:$_}}}}}},AdVideoStream:{_include:["baseEvent"],c:$_,properties:{banners:{type:x_,c:$_,collection:{type:ev,c:$_}},currentViewedTime:{type:J_,c:$_},elapsedTime:{type:J_,c:$_},playerId:{type:ev,c:$_},streamType:{type:ev,c:$_},totalViewedTime:{type:J_,c:$_},videoAction:{type:ev,c:$_},videoDuration:{type:J_,c:$_},videoFormat:{type:ev,c:$_},videoType:{type:ev,c:$_},videoUrl:{type:ev,c:$_},windowMode:{type:ev,c:$_},tile:{_include:["tile"],properties:{campaignId:{c:$_},productTitle:{c:$_},tileId:{c:$_},tilePosition:{c:$_},tileType:{c:$_}}}}}},environment:{type:q_,c:$_,properties:{platformPrivacyWs1:{type:ev,c:$_},locale:{type:ev,c:$_},deviceId:{type:ev,c:Q_},visitorId:{type:ev,c:Q_},appName:{type:ev,c:$_},buildVersion:{type:ev,c:$_},deviceType:{type:ev,c:$_},charset:{type:ev,c:$_},signedIn:{type:K_,c:$_},plusUserType:{type:ev,c:$_},isPlusUser:{type:K_,c:$_},userAge:{type:X_,c:Q_},zipcode:{type:X_,c:Q_},postalCode:{type:ev,c:Q_},DMA:{type:ev,c:Q_},networkType:{type:ev,c:$_},screenInfo:{type:ev,c:$_},platformVersion:{type:ev,c:$_},psnAccountLanguage:{type:ev,c:$_},psnAccountRegion:{type:ev,c:$_},psnowMembershipType:{type:ev,c:$_},adobeMCID:{type:ev,c:$_},constellationId:{type:ev,c:$_}}},overlays:{default:[],"sample-override":["sample-override"],commerce:["commerce"],monaco:["monaco"],titan:["titan"],blackbird:["blackbird"],feeds:["feeds"],apollo2:["apollo2"],"psnow-auto-renew":["psnow-auto-renew"],"psnow-player-menu":["psnow-player-menu"],"valkyrie-storefront":["valkyrie-storefront"],"valkyrie-vue":["valkyrie-vue"],chronos:["chronos"],friends:["friends"],yaka:["yaka"],unibeam:["unibeam"]},overlayFiles:{"sample-override":{events:{LoadTime:{properties:{bootInfo:{c:Q_}}},UserFacingError:{properties:{myCustomProperty:{type:ev,c:$_}}},CustomEvent:{_include:["baseEvent"],properties:{deeplink:{c:Q_}}}}},commerce:{events:{UserFacingError:{properties:{errorMetadata:{properties:{httpStatus:{type:X_,c:$_},requestId:{type:ev,c:Q_},correlationId:{type:ev,c:Q_},skus:{type:ev,c:Q_}}}}},Click:{c:$_,properties:{recommendation:{c:$_,properties:{name:{c:$_},sku:{c:$_}}},tile:{c:$_,properties:{campaignId:{c:$_},ctaType:{c:$_},productTitle:{c:$_},sponsored:{c:$_},tileAuthor:{c:$_},tileCaption:{c:$_},tileId:{c:$_},tileLanguage:{c:$_},tileTitle:{c:$_},tileTrackingId:{c:$_},tileType:{c:$_},tilePosition:{c:$_}}},tiles:{c:$_},transaction:{c:$_,properties:{currencyCode:{c:$_},paymentMethod:{c:$_},products:{c:$_,collection:{c:$_,properties:{findingMethod:{c:$_},merchCategory:{c:$_},name:{c:$_},pstpCampaign:{c:$_},quantity:{c:$_},recAnchor:{c:$_},recCampaign:{c:$_},totalPrice:{c:$_},totalRevenue:{c:$_},sku:{c:$_},campaignId:{type:ev,c:$_},coverContextType:{type:ev,c:$_},discountSubType:{type:ev,c:$_},discountType:{type:ev,c:$_},displayPrice:{type:ev,c:$_},imageUrl:{type:ev,c:$_},itemId:{type:ev,c:$_},itemPrice:{type:X_,c:$_},itemSubtype:{type:ev,c:$_},itemType:{type:ev,c:$_},recContext:{type:ev,c:$_},recUuid:{type:ev,c:$_},rewardId:{type:ev,c:$_},trackContentType:{type:ev,c:$_}}}},transactionID:{c:$_},type:{c:$_}}},allowAdditionalData:{c:$_},allowPersonalizedRecs:{c:$_},allowPersonalizedAds:{c:$_},banner:{c:$_},clickType:{c:$_},clickLocation:{c:$_},clickMetadata:{c:$_},contentDetail:{c:$_},displayPrice:{c:$_},exitClick:{c:$_},findingMethod:{c:$_},formAction:{c:$_},formLocation:{c:$_},genre:{c:$_},maturity:{c:$_},networkName:{c:$_},playerId:{c:$_},productClassification1:{c:$_},productClassification2:{c:$_},productClassification3:{c:$_},productName:{c:$_},productSku:{c:$_},publisher:{c:$_},recCampaign:{c:$_},releaseDate:{c:$_},searchFilter:{c:$_,collection:{c:$_}},searchTerm:{c:$_},sortOrder:{c:$_,collection:{c:$_}},videoType:{c:$_},videoFormat:{c:$_},videoId:{c:$_},videoSeasonNum:{c:$_},videoTitle:{c:$_},videoEpisodeName:{c:$_},videoEpisodeNum:{c:$_},searchCampaign:{type:K_,c:$_},searchPosition:{type:ev,c:$_,sbahn:{alias:"searchPosition_commerce"}},accessToken:{type:ev,c:Q_},adType:{type:ev,c:$_},cartEventType:{type:ev,c:$_},catHierarchy:{type:ev,c:$_},downloadStatus:{type:ev,c:$_},entryPoint:{type:ev,c:$_},focus:{type:ev,c:$_},interactType:{type:ev,c:$_},isRedownload:{type:K_,c:$_},isSuggested:{type:K_,c:$_},itemCount:{type:X_,c:$_},kamajiEventType:{type:ev,c:$_},layoutId:{type:ev,c:$_},menuContext:{type:ev,c:$_},pageName:{type:ev,c:$_},pageNumber:{type:X_,c:$_},playGoType:{type:ev,c:$_},productId:{type:ev,c:$_},recommendationType:{type:X_,c:$_},resultCount:{type:X_,c:$_},sourceContext:{type:ev,c:$_},eaMemberAccess:{type:ev,c:$_},userGenes:{type:ev,c:$_},userType:{type:ev,c:$_},vAmount:{type:ev,c:$_},vCode:{type:ev,c:$_},vId:{type:ev,c:$_},vType:{type:ev,c:$_}}},Impression:{c:$_,properties:{bannerType:{c:$_},banners:{c:$_,collection:{c:$_}},recommendations:{collection:{c:$_,properties:{name:{c:$_},sku:{c:$_}}},c:$_},transaction:{c:$_,properties:{currencyCode:{c:$_},paymentMethod:{c:$_},products:{c:$_,collection:{c:$_,properties:{campaignId:{type:ev,c:$_},discountSubType:{type:ev,c:$_},discountType:{type:ev,c:$_},displayPrice:{type:ev,c:$_},findingMethod:{c:$_},imageUrl:{type:ev,c:$_},itemId:{type:ev,c:$_},itemPrice:{type:X_,c:$_},itemSubtype:{type:ev,c:$_},itemType:{type:ev,c:$_},merchCategory:{c:$_},name:{c:$_},quantity:{c:$_},recCampaign:{c:$_},recContext:{type:ev,c:$_},recUuid:{type:ev,c:$_},rewardId:{type:ev,c:$_},sku:{c:$_},totalPrice:{c:$_},totalRevenue:{c:$_},trackContentType:{type:ev,c:$_}}}},transactionID:{c:$_},type:{c:$_}}},recommendation:{_include:["recommendation"],c:$_,properties:{name:{c:$_},sku:{c:$_}}},accessToken:{type:ev,c:Q_},adType:{type:ev,c:$_},categoryId:{type:ev,c:$_},catHierarchy:{type:ev,c:$_},focus:{type:ev,c:$_},isSuggested:{type:K_,c:$_},kamajiEventType:{type:ev,c:$_},menuContext:{type:ev,c:$_},pageName:{type:ev,c:$_},pageNumber:{type:ev,c:$_},productId:{type:ev,c:$_},recommendationType:{type:X_,c:$_},resultCount:{type:X_,c:$_},sourceContext:{type:ev,c:$_},eaMemberAccess:{type:ev,c:$_},userGenes:{type:ev,c:$_},userType:{type:ev,c:$_}}},VideoStream:{c:$_,properties:{banners:{c:$_,collection:{c:$_}},currentViewedTime:{c:$_},displayPrice:{c:$_},elapsedTime:{type:J_,c:$_},genre:{c:$_},maturity:{c:$_},networkName:{c:$_},playerId:{c:$_},releaseDate:{c:$_},streamType:{c:$_},totalViewedTime:{type:J_,c:$_},videoAction:{c:$_},videoDuration:{type:J_,c:$_},videoEpisodeName:{c:$_},videoEpisodeNum:{c:$_},videoFormat:{c:$_},videoId:{c:$_},videoSeasonNum:{c:$_},videoTitle:{c:$_},videoType:{c:$_},videoUrl:{c:$_},windowMode:{c:$_},accessToken:{type:ev,c:Q_},appVer:{type:ev,c:$_},drmContentId:{type:ev,c:$_},focus:{type:ev,c:$_},kamajiEventType:{type:ev,c:$_},playBackMethod:{type:ev,c:$_},eaMemberAccess:{type:ev,c:$_},userType:{type:ev,c:$_}}},PageView:{c:$_,properties:{recommendation:{_include:["recommendation"],c:$_,properties:{name:{c:$_},sku:{c:$_}}},recommendations:{c:$_,collection:{c:$_,properties:{name:{c:$_},sku:{c:$_}}}},tile:{_include:["tile"],c:$_,properties:{campaignId:{c:$_},ctaType:{c:$_},productTitle:{c:$_},sponsored:{c:$_},tileAuthor:{c:$_},tileCaption:{c:$_},tileId:{c:$_},tileLanguage:{c:$_},tileTitle:{c:$_},tileTrackingId:{c:$_},tileType:{c:$_},tilePosition:{c:$_}}},tiles:{c:$_},transaction:{c:$_,properties:{currencyCode:{c:$_},paymentMethod:{c:$_},products:{c:$_,collection:{c:$_,properties:{campaignId:{type:ev,c:$_},coverContextType:{type:ev,c:$_},discountAmt:{type:ev,c:$_},discountCode:{type:ev,c:$_},discountSubType:{type:ev,c:$_},discountType:{type:ev,c:$_},displayPrice:{type:ev,c:$_},findingMethod:{c:$_},imageUrl:{type:ev,c:$_},itemId:{type:ev,c:$_},itemPrice:{type:X_,c:$_},itemSubtype:{type:ev,c:$_},itemType:{type:ev,c:$_},merchCategory:{c:$_},name:{c:$_},pstpCampaign:{c:$_},quantity:{c:$_},recAnchor:{c:$_},recCampaign:{c:$_},recContext:{type:ev,c:$_},revFindingMethod:{type:ev,c:$_},rewardId:{type:ev,c:$_},totalPrice:{c:$_},totalRevenue:{c:$_},trackContentType:{type:ev,c:$_},sku:{c:$_}}}},transactionID:{c:$_},type:{c:$_}}},banners:{c:$_,collection:{c:$_}},bannerType:{c:$_},clickType:{c:$_},contentDetail:{c:$_},displayPrice:{c:$_},experienceId:{c:$_},formAction:{c:$_},formLocation:{c:$_},genre:{c:$_},loadTime:{c:$_},marketingCampaign:{c:$_},maturity:{c:$_},productClassification1:{c:$_},productClassification2:{c:$_},productClassification3:{c:$_},productName:{c:$_},productSku:{c:$_},productType:{c:$_},publisher:{c:$_},referrerLocation:{c:$_},releaseDate:{c:$_},searchCampaign:{c:$_},searchPosition:{type:ev,c:$_,sbahn:{alias:"searchPosition_commerce"}},searchResult:{c:$_},searchTerm:{c:$_},searchCount:{c:$_},userGenes:{c:$_},viewCollectionId:{c:$_},viewIds:{c:$_,collection:{c:$_}},searchFilter:{type:x_,c:$_,collection:{type:ev,c:$_}},sortOrder:{type:x_,c:$_,collection:{type:ev,c:$_}},oskZeroStateResult:{type:K_,c:$_},accessToken:{type:ev,c:Q_},catHierarchy:{type:ev,c:$_},eaMemberAccess:{type:ev,c:$_},eaAccessIsVaultPurchase:{type:K_,c:$_},eaAccessIsPFTPurchase:{type:K_,c:$_},entryPoint:{type:ev,c:$_},etsId:{type:ev,c:$_},focus:{type:ev,c:$_},fundingInformation:{type:ev,c:$_},itemCount:{type:X_,c:$_},itemIds:{type:x_,c:$_,collection:{c:$_,type:ev}},kamajiEventType:{type:ev,c:$_},layoutId:{type:ev,c:$_},menuContext:{type:ev,c:$_},pageName:{type:ev,c:$_},pageNumber:{type:X_,c:$_},personalizations:{type:x_,c:$_,collection:{c:$_,type:ev}},purchaseType:{type:X_,c:$_},resultCount:{type:X_,c:$_},searchType:{type:ev,c:$_},userType:{type:ev,c:$_},walletFundingValue:{type:X_,c:$_},memorySnapshot:{type:ev,c:Q_},visitedLocations:{type:ev,c:Q_}}}}},monaco:{events:{UserFacingError:{c:$_,properties:{errorMetadata:{c:$_,properties:{appCacheStatus:{type:X_,c:$_},appName:{type:ev,c:$_},errApps:{type:x_,c:$_,collection:{type:q_,c:$_,properties:{title_id:{c:$_,type:ev},name:{c:$_,type:ev}}}},filename:{type:ev,c:$_},imgUrl:{type:ev,c:$_},message:{type:ev,c:$_},method:{type:ev,c:$_},newStrandSize:{type:X_,c:$_},oldStrandSize:{type:X_,c:$_},pageName:{type:ev,c:$_},readyState:{type:X_,c:$_},responseMsg:{type:ev,c:$_},result:{type:ev,c:$_},retries:{type:X_,c:$_},strandId:{type:ev,c:$_},vshVersion:{type:ev,c:$_}}}}},MonacoCustomEvent:{_include:["baseEvent"],type:q_,c:Q_,properties:{strandId:{type:ev,c:Q_},tilePosition:{type:ev,c:Q_},contentId:{type:ev,c:Q_},strandPosition:{type:ev,c:Q_},partnerNpTitleId:{type:ev,c:Q_},contentType:{type:ev,c:Q_},contentName:{type:ev,c:Q_},page:{type:ev,c:Q_},partnerName:{type:ev,c:Q_},totalNumberOfStrands:{type:ev,c:Q_},country:{type:ev,c:Q_},language:{type:ev,c:Q_},searchState:{type:ev,c:Q_},searchTerm:{type:ev,c:Q_}}}}},titan:{events:{UserFacingError:{c:$_,properties:{errorMetadata:{properties:{appName:{type:ev,c:$_},url:{type:ev,c:Q_},method:{type:ev,c:$_},message:{type:ev,c:$_},vshVersion:{type:ev,c:$_}},c:$_}}}}},blackbird:{events:{Click:{properties:{kamajiEventType:{type:ev,c:Q_},searchPosition:{type:X_,c:Q_},cust05:{type:ev,c:Q_},cust06:{type:ev,c:Q_},cust07:{type:X_,c:Q_,sbahn:{alias:"cust07_blackbird"}},cust15:{type:ev,c:Q_},userType:{type:ev,c:Q_},searchType:{type:ev,c:Q_},resultCount:{type:X_,c:Q_},searchIndex:{type:X_,c:Q_},entryPoint:{type:ev,c:Q_},refSource:{type:ev,c:Q_},sourceContext:{type:ev,c:Q_},destContext:{type:ev,c:Q_},interactType:{type:ev,c:Q_},galleryViewButtonType:{type:ev,c:Q_},titleId:{type:ev,c:Q_},actorOnlineId:{type:ev,c:Q_},relatedOnlineIds:{type:x_,c:Q_,collection:{type:ev,c:Q_}},accessToken:{type:ev,c:Q_},focus:{type:ev,c:Q_},action:{type:X_,c:Q_},messageId:{type:ev,c:Q_},currentPageUrl:{type:ev,c:Q_},isPlusUser:{type:X_,c:Q_,sbahn:{alias:"isPlusUser_blackbird"}},storyType:{type:ev,c:Q_}}},Impression:{properties:{kamajiEventType:{type:ev,c:Q_},isPlusUser:{type:X_,c:Q_,sbahn:{alias:"isPlusUser_blackbird"}},focus:{type:ev,c:Q_},cust15:{type:ev,c:Q_},userType:{type:ev,c:Q_},productId:{type:ev,c:Q_},action:{type:X_,c:Q_},sourceContext:{type:ev,c:Q_},destContext:{type:ev,c:Q_},interactType:{type:ev,c:Q_},actorOnlineId:{type:ev,c:Q_},relatedOnlineIds:{type:x_,c:Q_,collection:{type:ev,c:Q_}},galleryViewButtonType:{type:ev,c:Q_},communityId:{type:ev,c:Q_},backgroundPicture:{type:X_,c:Q_},communityName:{type:ev,c:Q_},missionStatement:{type:X_,c:Q_},privacy:{type:X_,c:Q_},profilePicture:{type:X_,c:Q_},timezone:{type:ev,c:Q_},messageAttached:{type:X_,c:Q_},onlineIdAffected:{type:ev,c:Q_},attachmentTypeId:{type:X_,c:Q_},titleId:{type:ev,c:Q_},messageId:{type:ev,c:Q_},originalMessageId:{type:ev,c:Q_},accessToken:{type:ev,c:Q_},impressionType:{type:ev,c:Q_},storyId:{type:ev,c:Q_},plusUserAffected:{type:X_,c:Q_},role:{type:X_,c:Q_},notificationSettings:{type:ev,c:Q_},expId:{type:ev,c:Q_},itemId:{type:ev,c:Q_},entryPoint:{type:ev,c:Q_},cust05:{type:ev,c:Q_},cust10:{type:ev,c:Q_},cust16:{type:ev,c:Q_},cust19:{type:ev,c:Q_},pageUrl:{type:ev,c:Q_},storyType:{type:ev,c:Q_}}},VideoStream:{properties:{kamajiEventType:{type:ev,c:Q_},isPlusUser:{type:X_,c:Q_,sbahn:{alias:"isPlusUser_blackbird"}},focus:{type:ev,c:Q_},accessToken:{type:ev,c:Q_},contentPageUrl:{type:ev,c:Q_},userType:{type:ev,c:Q_},pcnt:{type:X_,c:Q_},playBackMethod:{type:ev,c:Q_},playBackMode:{type:ev,c:Q_},ipAddress:{type:ev,c:Q_},contentType:{type:ev,c:Q_},pageUrl:{type:ev,c:Q_},refSource:{type:ev,c:Q_},userAgent:{type:ev,c:Q_},videoUrl:{type:ev,c:Q_},itemId:{type:ev,c:Q_},entryPoint:{type:ev,c:Q_}}}}},feeds:{events:{Click:{properties:{friendTagsList:{type:ev,c:Q_},storyId:{type:ev,c:Q_},titleId:{type:ev,c:Q_}}}}},apollo2:{events:{Click:{properties:{code:{type:ev,c:Q_},description:{type:ev,c:Q_},componentCode:{type:ev,c:Q_},clientSessionId:{type:ev,c:Q_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:ev,c:Q_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:Q_},loadTime:{type:Z_,c:Q_},locale:{type:ev,c:Q_,sbahn:{alias:"locale_apollo2"}},membershipType:{type:ev,c:Q_},networkType:{type:ev,c:Q_,sbahn:{alias:"networkType_apollo2"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:Q_},displayEstimatedWaitTimeOnOpen:{type:Z_,c:Q_},displayEstimatedWaitTimeOnOpenMS:{type:Z_,c:Q_},displayPlaceInLineOnOpen:{type:Z_,c:Q_},displayQueuePosition:{type:Z_,c:Q_},displayWaitTimeEstimate:{type:ev,c:Q_},ESRBRating:{type:ev,c:Q_},gameIndex:{type:Z_,c:Q_},Genre:{type:x_,c:Q_,collection:{type:ev,c:Q_}},productId:{type:ev,c:Q_},queuePosition:{type:Z_,c:Q_},oskZeroStateResult:{type:K_,c:Q_},searchInvalidTerm:{type:ev,c:Q_},searchResults:{type:Z_,c:Q_},searchPosition:{type:Z_,c:Q_},searchCount:{type:Z_,c:Q_},sku:{type:ev,c:Q_},Sort:{type:ev,c:Q_},SwitchToProductID:{type:ev,c:Q_},catalogId:{type:ev,c:Q_},catalogTrackingId:{type:ev,c:Q_},tile:{type:q_,c:Q_,properties:{productId:{type:ev,c:Q_},rowPosition:{type:X_,c:Q_},parentId:{type:ev,c:Q_},parentTitle:{type:ev,c:Q_},parentTrackingId:{type:ev,c:Q_}}},userInitiated:{type:K_,c:Q_},waitTimeErrorMargin:{type:Z_,c:Q_},waitTimeErrorMarginPct:{type:Z_,c:Q_},waitTimeEstimate:{type:Z_,c:Q_},enabledFeatureFlags:{type:x_,c:Q_,collection:{type:ev,c:Q_}},downloadHistoryCount:{type:Z_,c:Q_}}},LoadTime:{properties:{code:{type:ev,c:$_},description:{type:ev,c:$_},componentCode:{type:ev,c:$_},clientSessionId:{type:ev,c:$_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:ev,c:$_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:$_},locale:{type:ev,c:$_,sbahn:{alias:"locale_apollo2"}},membershipType:{type:ev,c:$_},networkType:{type:ev,c:$_,sbahn:{alias:"networkType_apollo2"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:$_}}},PageView:{properties:{code:{type:ev,c:Q_},description:{type:ev,c:Q_},componentCode:{type:ev,c:Q_},clientSessionId:{type:ev,c:Q_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:ev,c:Q_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:Q_},loadTime:{type:J_,c:Q_},locale:{type:ev,c:Q_,sbahn:{alias:"locale_apollo2"}},membershipType:{type:ev,c:Q_},networkType:{type:ev,c:Q_,sbahn:{alias:"networkType_apollo2"}},platform:{type:ev,c:Q_},productId:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:Q_},viewCollectionName:{type:ev,c:Q_}}},UserFacingError:{properties:{code:{type:ev,c:$_},description:{type:ev,c:$_},componentCode:{type:ev,c:$_},clientSessionId:{type:ev,c:$_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:ev,c:$_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:$_},locale:{type:ev,c:$_,sbahn:{alias:"locale_apollo2"}},membershipType:{type:ev,c:$_},networkType:{type:ev,c:$_,sbahn:{alias:"networkType_apollo2"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:$_},deeplinkUri:{type:ev,c:Q_},productId:{type:ev,c:Q_},productName:{type:ev,c:Q_},errorMetadata:{type:q_,c:$_,properties:{appendedName:{type:ev,c:$_},code:{type:ev,c:$_},col:{type:ev,c:$_},error:{type:ev,c:$_},lineNum:{type:ev,c:$_},message:{type:ev,c:$_},name:{type:ev,c:$_},position:{type:Z_,c:$_},query:{type:ev,c:$_},stack:{type:ev,c:$_},totalSize:{type:Z_,c:$_},payload:{type:q_,c:$_,properties:{eventCode:{type:ev,c:$_},name:{type:ev,c:$_}}}}}}},Dwell:{properties:{code:{type:ev,c:Q_},description:{type:ev,c:Q_},componentCode:{type:ev,c:Q_},clientSessionId:{type:ev,c:Q_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:ev,c:Q_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:Q_},locale:{type:ev,c:Q_,sbahn:{alias:"locale_apollo2"}},membershipType:{type:ev,c:Q_},networkType:{type:ev,c:Q_,sbahn:{alias:"networkType_apollo2"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:Q_}}}}},"psnow-auto-renew":{events:{Click:{properties:{code:{type:ev,c:Q_},description:{type:ev,c:Q_},componentCode:{type:ev,c:Q_},clientSessionId:{type:ev,c:Q_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_psnowautorenew"}},componentVersion:{type:ev,c:Q_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:Q_},loadTime:{type:Z_,c:Q_},locale:{type:ev,c:Q_,sbahn:{alias:"locale_psnowautorenew"}},membershipType:{type:ev,c:Q_},networkType:{type:ev,c:Q_,sbahn:{alias:"networkType_psnowautorenew"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},stringValue:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:Q_}}},PageView:{properties:{code:{type:ev,c:Q_},description:{type:ev,c:Q_},componentCode:{type:ev,c:Q_},clientSessionId:{type:ev,c:Q_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_psnowautorenew"}},componentVersion:{type:ev,c:Q_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:Q_},loadTime:{type:J_,c:Q_},locale:{type:ev,c:Q_,sbahn:{alias:"locale_psnowautorenew"}},membershipType:{type:ev,c:Q_},networkType:{type:ev,c:Q_,sbahn:{alias:"networkType_psnowautorenew"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},stringValue:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:Q_}}},UserFacingError:{properties:{code:{type:ev,c:$_},description:{type:ev,c:$_},componentCode:{type:ev,c:$_},clientSessionId:{type:ev,c:$_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_psnowautorenew"}},componentVersion:{type:ev,c:$_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:$_},locale:{type:ev,c:$_,sbahn:{alias:"locale_psnowautorenew"}},membershipType:{type:ev,c:$_},networkType:{type:ev,c:$_,sbahn:{alias:"networkType_psnowautorenew"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},stringValue:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:$_}}},LoadTime:{properties:{code:{type:ev,c:$_},description:{type:ev,c:$_},componentCode:{type:ev,c:$_},clientSessionId:{type:ev,c:$_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_psnowautorenew"}},componentVersion:{type:ev,c:$_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:$_},locale:{type:ev,c:$_,sbahn:{alias:"locale_psnowautorenew"}},membershipType:{type:ev,c:$_},networkType:{type:ev,c:$_,sbahn:{alias:"networkType_psnowautorenew"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:$_}}}}},"psnow-player-menu":{events:{Click:{properties:{code:{type:ev,c:Q_},description:{type:ev,c:Q_},componentCode:{type:ev,c:Q_},clientSessionId:{type:ev,c:Q_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_psnowplayermenu"}},componentVersion:{type:ev,c:Q_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:Q_},loadTime:{type:Z_,c:Q_},locale:{type:ev,c:Q_,sbahn:{alias:"locale_psnowplayermenu"}},membershipType:{type:ev,c:Q_},networkType:{type:ev,c:Q_,sbahn:{alias:"networkType_psnowplayermenu"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:Q_},newValue:{type:Z_,c:Q_},oldValue:{type:Z_,c:Q_}}},PageView:{properties:{code:{type:ev,c:Q_},description:{type:ev,c:Q_},componentCode:{type:ev,c:Q_},clientSessionId:{type:ev,c:Q_},apiUrl:{type:ev,c:Q_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_psnowplayermenu"}},componentVersion:{type:ev,c:Q_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:Q_},loadTime:{type:J_,c:Q_},locale:{type:ev,c:Q_,sbahn:{alias:"locale_psnowplayermenu"}},membershipType:{type:ev,c:Q_},networkType:{type:ev,c:Q_,sbahn:{alias:"networkType_psnowplayermenu"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:Q_}}},UserFacingError:{properties:{code:{type:ev,c:$_},description:{type:ev,c:$_},componentCode:{type:ev,c:$_},clientSessionId:{type:ev,c:$_},appName:{type:ev,c:Q_,sbahn:{alias:"appName_psnowplayermenu"}},componentVersion:{type:ev,c:$_},eventSource:{type:ev,c:Q_},isHomeshare:{type:K_,c:Q_},isMember:{type:K_,c:Q_},line:{type:ev,c:$_},locale:{type:ev,c:$_,sbahn:{alias:"locale_psnowplayermenu"}},membershipType:{type:ev,c:$_},networkType:{type:ev,c:$_,sbahn:{alias:"networkType_psnowplayermenu"}},platform:{type:ev,c:Q_},SMCID:{type:ev,c:Q_},streamSessionId:{type:ev,c:Q_},subscriptionSku:{type:ev,c:Q_},vshVersion:{type:ev,c:$_}}}}},"valkyrie-storefront":{events:{Click:{_include:["baseEvent"],c:$_,properties:{recommendation:{c:$_,properties:{name:{c:$_},sku:{c:$_}}},tile:{c:$_,properties:{campaignId:{c:$_},ctaType:{c:$_},productTitle:{c:$_},sponsored:{c:$_},tileAuthor:{c:$_},tileCaption:{c:$_},tileId:{c:$_},tileLanguage:{c:$_},tileTitle:{c:$_},tileTrackingId:{c:$_},tileType:{c:$_},tilePosition:{c:$_}}},tiles:{c:$_},transaction:{c:$_,properties:{currencyCode:{c:$_},paymentMethod:{c:$_},products:{c:$_,collection:{c:$_,properties:{findingMethod:{c:$_},merchCategory:{c:$_},name:{c:$_},pstpCampaign:{c:$_},quantity:{c:$_},recAnchor:{c:$_},recCampaign:{c:$_},totalPrice:{c:$_},totalRevenue:{c:$_},sku:{c:$_},walletRevenue:{c:$_},promotionalMarketingRevenue:{c:$_},totalDiscount:{c:$_},voucherValue:{c:$_,type:Z_}}}},transactionID:{c:$_},type:{c:$_}}},allowAdditionalData:{c:$_},allowPersonalizedRecs:{c:$_},allowPersonalizedAds:{c:$_},banner:{c:$_},clickType:{c:$_},clickLocation:{c:$_},clickMetadata:{c:$_},contentDetail:{c:$_},displayPrice:{c:$_},eaMemberAccess:{type:ev,c:$_},exitClick:{c:$_},findingMethod:{c:$_},formAction:{c:$_},formLocation:{c:$_},genre:{c:$_},maturity:{c:$_},networkName:{c:$_},playerId:{c:$_},productClassification1:{c:$_},productClassification2:{c:$_},productClassification3:{c:$_},productName:{c:$_},productSku:{c:$_},publisher:{c:$_},recCampaign:{c:$_},releaseDate:{c:$_},searchFilter:{c:$_,collection:{c:$_}},searchTerm:{c:$_},sortOrder:{c:$_,collection:{c:$_}},videoType:{c:$_},videoFormat:{c:$_},videoId:{c:$_},videoSeasonNum:{c:$_},videoTitle:{c:$_},videoEpisodeName:{c:$_},videoEpisodeNum:{c:$_}}},Impression:{c:$_,properties:{bannerType:{c:$_},banners:{c:$_,collection:{c:$_}},recommendations:{collection:{c:$_,properties:{name:{c:$_},sku:{c:$_}}},c:$_},transaction:{c:$_,properties:{currencyCode:{c:$_},paymentMethod:{c:$_},products:{c:$_,collection:{c:$_,properties:{findingMethod:{c:$_},merchCategory:{c:$_},name:{c:$_},quantity:{c:$_},recCampaign:{c:$_},sku:{c:$_},totalPrice:{c:$_},totalRevenue:{c:$_},walletRevenue:{c:$_},promotionalMarketingRevenue:{c:$_},totalDiscount:{c:$_},voucherValue:{c:$_,type:Z_}}}},transactionID:{c:$_},type:{c:$_}}},recommendation:{_include:["recommendation"],c:$_,properties:{name:{c:$_},sku:{c:$_}}},eaMemberAccess:{type:ev,c:$_}}},PageView:{_include:["baseEvent"],c:$_,properties:{recommendation:{_include:["recommendation"],c:$_,properties:{name:{c:$_},sku:{c:$_}}},recommendations:{c:$_,collection:{c:$_,properties:{name:{c:$_},sku:{c:$_}}}},tile:{_include:["tile"],c:$_,properties:{campaignId:{c:$_},ctaType:{c:$_},productTitle:{c:$_},sponsored:{c:$_},tileAuthor:{c:$_},tileCaption:{c:$_},tileId:{c:$_},tileLanguage:{c:$_},tileTitle:{c:$_},tileTrackingId:{c:$_},tileType:{c:$_},tilePosition:{c:$_}}},tiles:{c:$_},transaction:{c:$_,properties:{currencyCode:{c:$_},paymentMethod:{c:$_},products:{c:$_,collection:{c:$_,properties:{findingMethod:{c:$_},merchCategory:{c:$_},name:{c:$_},pstpCampaign:{c:$_},quantity:{c:$_},recAnchor:{c:$_},recCampaign:{c:$_},totalPrice:{c:$_},totalRevenue:{c:$_},sku:{c:$_},walletRevenue:{c:$_},promotionalMarketingRevenue:{c:$_},totalDiscount:{c:$_},voucherValue:{c:$_,type:Z_}}}},transactionID:{c:$_},type:{c:$_}}},banners:{c:$_,collection:{c:$_}},bannerType:{c:$_},clickType:{c:$_},contentDetail:{c:$_},displayPrice:{c:$_},eaMemberAccess:{type:ev,c:$_},eaAccessIsVaultPurchase:{type:K_,c:$_},eaAccessIsPFTPurchase:{type:K_,c:$_},experienceId:{c:$_},formAction:{c:$_},formLocation:{c:$_},genre:{c:$_},loadTime:{c:$_},marketingCampaign:{c:$_},maturity:{c:$_},productClassification1:{c:$_},productClassification2:{c:$_},productClassification3:{c:$_},productName:{c:$_},productSku:{c:$_},productType:{c:$_},publisher:{c:$_},referrerLocation:{c:$_},releaseDate:{c:$_},searchCampaign:{c:$_},searchPosition:{type:ev,c:$_,sbahn:{alias:"searchPosition_valkyriestorefront"}},searchResult:{c:$_},searchTerm:{c:$_},userGenes:{c:$_},viewCollectionId:{c:$_},viewIds:{c:$_,collection:{c:$_}},searchFilter:{type:x_,c:$_,collection:{type:ev,c:$_}},sortOrder:{type:x_,c:$_,collection:{type:ev,c:$_}}}}}},"valkyrie-vue":{events:{UserFacingError:{properties:{errorMetadata:{properties:{amazonPay:{type:K_,c:Q_},browser:{type:q_,c:Q_,properties:{name:{type:ev,c:Q_},version:{type:ev,c:Q_}}},cobraCode:{type:ev,c:Q_},httpStatus:{type:X_,c:Q_},dma:{type:q_,c:Q_,properties:{dmaCode:{type:X_,c:Q_},dmaZipCode:{type:ev,c:Q_}}},pathName:{type:ev,c:Q_},presentation:{type:ev,c:Q_},referrer:{type:ev,c:Q_},routeName:{type:ev,c:Q_}}},callStack:{type:x_,c:Q_,collection:{type:ev,c:Q_}}}}}},chronos:{events:{Click:{c:$_,properties:{clickType:{c:$_},exitClick:{c:$_},banner:{c:$_}}},VideoStream:{c:$_,properties:{streamType:{c:$_},videoType:{c:$_},videoFormat:{c:$_},videoAction:{c:$_},videoId:{c:$_},playerId:{c:$_},videoDuration:{c:$_},elapsedTime:{c:$_},banners:{c:$_,collection:{c:$_}}}},Impression:{c:$_,properties:{bannerType:{c:$_},banners:{c:$_,collection:{c:$_}}}}}},friends:{events:{Click:{_include:["baseEvent"],c:Q_,properties:{localUserId:{type:ev,c:Q_},entryPoint:{type:X_,c:Q_,sbahn:{alias:"entryPoint_friends"}},receiversOnlineId:{type:ev,c:Q_},targetOrigin:{type:X_,c:Q_},typeOfRelation:{type:X_,c:Q_},sourceContext:{type:X_,c:Q_,sbahn:{alias:"sourceContext_friends"}},buttonType:{type:X_,c:Q_},titleId:{type:ev,c:Q_},numberOfUsers:{type:X_,c:Q_},maxNumberOfUsers:{type:X_,c:Q_}}},Impression:{_include:["baseEvent"],c:Q_,properties:{localUserId:{type:ev,c:Q_},entryPoint:{type:X_,c:Q_,sbahn:{alias:"entryPoint_friends"}},buttonTypeList:{type:x_,c:Q_,collection:{type:X_,c:Q_}},titleIdList:{type:x_,c:Q_,collection:{type:ev,c:Q_}},sourceContext:{type:X_,c:Q_,sbahn:{alias:"sourceContext_friends"}},numberOfRecomendedUsers:{type:X_,c:Q_}}},PageView:{_include:["baseEvent"],c:Q_,properties:{localUserId:{type:ev,c:Q_},introductionScreenType:{type:X_,c:Q_}}}}},yaka:{events:{Hover:{_include:["baseEvent"],properties:{sourceContext:{type:ev,c:Q_},cust04:{type:ev,c:Q_},cust05:{type:ev,c:Q_},cust06:{type:ev,c:Q_},trackAction:{type:ev,c:Q_}}},Click:{properties:{sourceContext:{type:ev,c:Q_},cust04:{type:ev,c:Q_},cust05:{type:ev,c:Q_},cust06:{type:ev,c:Q_},cust07:{type:ev,c:Q_},cust08:{type:ev,c:Q_},cust09:{type:ev,c:Q_},cust10:{type:ev,c:Q_},cust11:{type:ev,c:Q_},trackAction:{type:ev,c:Q_}}}}},unibeam:{events:{Click:{c:$_,properties:{banner:{c:$_},clickType:{c:$_},exitClick:{c:$_},tile:{c:$_,properties:{campaignId:{c:$_},productTitle:{c:$_},tileAuthor:{c:$_},tileId:{c:$_},tilePosition:{c:$_},tileTitle:{c:$_},tileType:{c:$_}}}}},Impression:{c:$_,properties:{banners:{c:$_,collection:{c:$_}},bannerType:{c:$_},tiles:{c:$_,collection:{c:$_,properties:{campaignId:{c:$_},productTitle:{c:$_},tileAuthor:{c:$_},tileId:{c:$_},tilePosition:{c:$_},tileTitle:{c:$_},tileType:{c:$_}}}}}},VideoStream:{c:$_,properties:{banners:{c:$_,collection:{c:$_}},elapsedTime:{c:$_},playerId:{c:$_},streamType:{c:$_},tile:{c:$_,properties:{campaignId:{c:$_},productTitle:{c:$_},tileAuthor:{c:$_},tileId:{c:$_},tilePosition:{c:$_},tileTitle:{c:$_},tileType:{c:$_}}},videoAction:{c:$_},videoDuration:{c:$_},videoFormat:{c:$_},videoType:{c:$_},videoUrl:{c:$_},windowMode:{c:$_}}}}}}},nv=function e(t,n){var r={};return n._include&&(r=n._include.reduce((function(n,r){if(t[r]){var i=t[r]._include?e(t,t[r]):t[r];return Ad(n,i)}return n}),{})),delete(r=Ad(r,n))._include,r.properties&&Object.keys(r.properties).forEach((function(n){r.properties[n]=e(t,r.properties[n])})),r.collection&&(r.collection=e(t,r.collection)),r},rv=function(e,t){var n={};return Object.keys(t).forEach((function(r){n[r]=nv(e,t[r])})),n},iv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return nv(t,e)};function ov(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var av=function(e,t){t.forEach((function(t){Ad(e,JSON.parse(JSON.stringify(t)))}))},cv=function(e){return e.map((function(e){return JSON.parse(JSON.stringify(e).replace(/"classification"/g,'"c"').replace(/"required"/g,'"r"').replace(/"optional"/g,'"o"').replace(/"string"/g,'"s"').replace(/"int"/g,'"i"').replace(/"float"/g,'"f"').replace(/"number"/g,'"n"').replace(/"object"/g,'"e"').replace(/"boolean"/g,'"b"').replace(/"array"/g,'"a"').replace(/"date"/g,'"d"'))}))},sv=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.overlaySetId,n=void 0===t?"":t,r=e.schemaOverlays,i=void 0===r?[]:r,o=e.defaultSchema,a=void 0===o?tv:o,c=e.disableDefaultSchema,s=void 0!==c&&c,u=e.logger,p=void 0===u?new Kr:u;this._schema=s?{}:JSON.parse(JSON.stringify(a)),this._logger=p,this._overlaysNotification(i),av(this._schema,this.getOverlaysForId(n)),av(this._schema,cv(i)),this._schema.events=rv(this._schema.eventTemplates||{},this._schema.events||{}),this._schema.environment=iv(this._schema.environment||{})}var t,n,r,i=e.prototype;return i._overlaysNotification=function(e){0!==e.length&&this._logger.warning("Overlays are meant to be used only in testing environment, use overrideid instead for production.")},i.getSchemaForEvent=function(e){return this._schema.events[e]||{}},i.getOverlay=function(e){return(this.schema.overlays||{})[e]},i.hasOverlay=function(e){return!vc((this.schema.overlays||{})[e])},i.getOverlayFilesIdsFor=function(e){if(!e)return[];if(!this.hasOverlay(e))return this._error("InvalidArgumentError: Overlay not found.",{overlayId:e}),[];var t=this.getOverlay(e);return xe(t)?t:(this._error("TypeError: Overlay is not an Array of strings.",{overlayId:e,type:Object.prototype.toString.call(t)}),[])},i.getOverlayFile=function(e){if(this.schema.overlayFiles&&this.schema.overlayFiles[e]){var t=this.schema.overlayFiles[e];if(D_(t))return t;this._error("TypeError: Overlay file is not an object.",{overlayFileId:e,type:Object.prototype.toString.call(t)})}else this._error("NotFoundError: Overlay file not found.",{overlayFileId:e})},i.getOverlaysForId=function(e){var t=this,n=this.getOverlayFilesIdsFor(e).map((function(e){return t.getOverlayFile(e)}));return Y_(n)},i._error=function(e,t){this.logger.error("".concat(e,"|").concat(JSON.stringify(t)))},t=e,(n=[{key:"schema",get:function(){return this._schema}},{key:"events",get:function(){return this._schema.events}},{key:"environment",get:function(){return this._schema.environment}},{key:"logger",get:function(){return this._logger}}])&&ov(t.prototype,n),r&&ov(t,r),e}();function uv(){return(uv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lv={_activeSchema:void 0,_remoteUpdate:{},disableDefaultSchema:!1,disableEventTypeCheck:!1,disableEventPrivacyFilter:!1,disableEnvironmentTypeCheck:!0,disableEnvironmentPrivacyFilter:!1,enabled:!0,filters:[],logger:void 0,overrideId:void 0,overlays:[]},fv=Object.keys(lv),yv=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};uv(this,lv),this._fromObject(e),this._builtInSchema=tv,this._remoteUpdate=e.remoteUpdate||{},Object.seal(this)}var t,n,r,i=e.prototype;return i._invalidValue=function(e,t){var n="env.invalidValue: Invalid value for property ".concat(e,": ").concat(JSON.stringify(t),".");this.logger.warning(n)},i._fromObject=function(e){var t=this,n=Object.keys(e),r=fc(n,fv);r.length&&this.logger.warning("schema.unknownOption: Unknown options in schema configuration.",{invalidKeys:r}),r.length?j_(n,fv).forEach((function(n){t[n]=e[n]})):uv(this,e)},i._createRemoteSchema=function(e){return new sv({defaultSchema:e,disableDefaultSchema:!1})},i._createSchema=function(){return new sv({defaultSchema:this._builtInSchema,overlaySetId:this.overrideId,schemaOverlays:this.overlays,disableDefaultSchema:this.disableDefaultSchema})},i._fetchLatest=function(){var e=this;this._remoteUpdate.fetchRemoteSchema().then((function(t){e._activeSchema=e._createRemoteSchema(t),e._remoteUpdate.save(t),e.logger.warning("Remote fetch succeeded!")})).catch((function(t){e.logger.warning("Remote fetch failed!",{message:t.message})}))},i._initializeSchema=function(){if(this._remoteUpdate.enabled){if(this._fetchLatest(),this._remoteUpdate.isCached)return this._createRemoteSchema(this._remoteUpdate.cachedSchema);this.overlays.length&&this.logger.warning("Overlays are ignored while remote update is enabled.")}return this._createSchema()},t=e,(n=[{key:"remoteUpdate",get:function(){return this._remoteUpdate}},{key:"activeSchema",get:function(){return void 0===this._activeSchema&&(this._activeSchema=this._initializeSchema()),this._activeSchema}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._activeSchema=void 0,this._enabled=Boolean(e)}},{key:"filters",get:function(){return this._filters},set:function(e){this._filters=e}},{key:"disableDefaultSchema",get:function(){return this._disableDefault},set:function(e){this._activeSchema=void 0,this._disableDefault=Boolean(e)}},{key:"disableEventTypeCheck",get:function(){return this._disableEventTypeCheck},set:function(e){this._disableEventTypeCheck=Boolean(e)}},{key:"disableEnvironmentTypeCheck",get:function(){return this._disableEnvironmentTypeCheck},set:function(e){this._disableEnvironmentTypeCheck=Boolean(e)}},{key:"disableEventPrivacyFilter",get:function(){return this._disableEventPrivacyFilter},set:function(e){this._disableEventPrivacyFilter=Boolean(e)}},{key:"disableEnvironmentPrivacyFilter",get:function(){return this._disableEnvironmentPrivacyFilter},set:function(e){this._disableEnvironmentPrivacyFilter=Boolean(e)}},{key:"overrideId",get:function(){return this._overrideId},set:function(e){this._overrideId=function(e){return Xn(e)?e:W_(e)&&B_(e)?String(e):""}(e)}},{key:"overlays",get:function(){return this._overlays},set:function(e){if(this._activeSchema=void 0,!xe(e))return this._invalidValue("overlays",e),void(this._overlays=[]);this._overlays=e}},{key:"logger",get:function(){return this._logger||(this._logger=new Kr),this._logger},set:function(e){this._logger=e}}])&&pv(t.prototype,n),r&&pv(t,r),e}(),dv=function(e){return null==e},_v=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o},vv=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:_v(e,t,n)},hv=function(e,t){for(var n=e.length;n--&&xa(t,e[n],0)>-1;);return n},Ev=function(e){return e.split("")},gv=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),mv=function(e){return gv.test(e)},Iv="[\\ud800-\\udfff]",Tv="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Sv="\\ud83c[\\udffb-\\udfff]",Av="[^\\ud800-\\udfff]",Ov="(?:\\ud83c[\\udde6-\\uddff]){2}",bv="[\\ud800-\\udbff][\\udc00-\\udfff]",Rv="(?:"+Tv+"|"+Sv+")?",Nv="[\\ufe0e\\ufe0f]?"+Rv+"(?:\\u200d(?:"+[Av,Ov,bv].join("|")+")[\\ufe0e\\ufe0f]?"+Rv+")*",Cv="(?:"+[Av+Tv+"?",Tv,Ov,bv,Iv].join("|")+")",Pv=RegExp(Sv+"(?="+Sv+")|"+Cv+Nv,"g"),wv=function(e){return e.match(Pv)||[]},Vv=function(e){return mv(e)?wv(e):Ev(e)},Mv=/\s+$/,Lv=function(e,t,n){if((e=Vp(e))&&(n||void 0===t))return e.replace(Mv,"");if(!e||!(t=wp(t)))return e;var r=Vv(e),i=hv(r,Vv(t))+1;return vv(r,0,i).join("")};function Dv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Uv=function(e){return Xn(e)?e:W_(e)&&B_(e)?String(e):""},kv="remote-schema",Fv=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._environment=e.remoteUpdateEnvironment||"e1-np",this._path=e.remoteUpdatePath||{np:"https://theia.dl.playstation.net/telemetry-config","e1-np":"https://theia.e1-np.dl.playstation.net/telemetry-config"},this.timeout=e.remoteUpdateFetchTimeout,this.enabled=e.remoteUpdateEnabled,this.fileName=e.remoteUpdateFileName,this._cacheKey=e.cacheKey||kv,this._cacheKey="".concat(this._cacheKey,".").concat(this.fileName.toLowerCase().replace(".json","")),this._cache=e.cache,this.logger=e.logger||new Kr}var t,n,r,i=e.prototype;return i.save=function(e){this._cache&&this._cache.set(this._cacheKey,e)},i.fetchRemoteSchema=function(){var e=this;return new Promise((function(t,n){var r=new T_("GET",e.fetchUrl,{"Content-Type":"application/json; charset=utf-8"},(function(r,i,o){if(e.logger.info("Remote Fetch ".concat(r?"failed":"successful"," with ").concat(i)),r){var a=Error("RemoteFetch failed with message: ".concat(o));throw n(a),a}200===i&&t(o)}),{logger:e.logger});r.timeout=e.timeout,r.open(),e.logger.warn("Remote fetch invoked!")}))},t=e,(n=[{key:"isCached",get:function(){return!!this._cache&&this._cache.has(this._cacheKey)}},{key:"cachedSchema",get:function(){return this._cache?this._cache.get(this._cacheKey):{}}},{key:"fetchUrl",get:function(){if(void 0===this._path[this.environment])throw new Error("activeSchema.invalidEnvironment: invalid environment type supplied.");return"".concat(this._path[this.environment],"/").concat(this.fileName)}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=!dv(e)&&Boolean(e)}},{key:"NPPath",get:function(){return this._path.np},set:function(e){this._path.np=Lv(Uv(e),"/")}},{key:"E1Path",get:function(){return this._path["e1-np"]},set:function(e){this._path["e1-np"]=Lv(Uv(e),"/")}},{key:"environment",get:function(){return this._environment},set:function(e){this._environment=Lv(Uv(e),"/")}},{key:"fileName",get:function(){return this._fileName},set:function(e){this._fileName=dv(e)?"default.json":Uv(e)}},{key:"timeout",get:function(){return this._timeout},set:function(e){this._timeout=dv(e)||!W_(e)?1e4:e}}])&&Dv(t.prototype,n),r&&Dv(t,r),e}(),jv={schema:{enabled:!0,cache:"cache.remoteSchema",cacheKey:void 0,remoteUpdateEnvironment:"e1-np",remoteUpdatePath:{np:"https://theia.dl.playstation.net/telemetry-config","e1-np":"https://theia.e1-np.dl.playstation.net/telemetry-config"},remoteUpdateEnabled:!1,remoteUpdateFileName:"default.json",remoteUpdateFetchTimeout:1e4},services:{aliases:{SchemaOptions:"/schema/schemaOptions",RemoteUpdate:"/schema/remoteUpdate","cache.remoteSchema":"/cache/cacheInterface"},factories:{"/schema/remoteUpdate":function(e){var t=e.get("config"),n=e.get("Logger"),r=t.schema||{},i={};return r.cacheKey&&(i.cacheKey=r.cacheKey),r.cache&&(i.cache=e.get(r.cache)),i.remoteUpdateEnvironment=r.remoteUpdateEnvironment,i.remoteUpdatePath=r.remoteUpdatePath,i.remoteUpdateEnabled=r.remoteUpdateEnabled,i.remoteUpdateFileName=r.remoteUpdateFileName,i.remoteUpdateFetchTimeout=r.remoteUpdateFetchTimeout,D_(r)||(n.error("schemaOptions.invalidValue: Schema Options must be an object, or instance of SchemaOptions."),r={}),r.logger||(i.logger=n),new Fv(i)},"/schema/schemaOptions":function(e){var t=e.get("config"),n=e.get("Logger"),r=e.get("/schema/remoteUpdate"),i=t.schema||{};if(Object.isExtensible(i)&&(i.remoteUpdate=r),i instanceof yv)return i;D_(i)||(n.error("schemaOptions.invalidValue: Schema Options must be an object, or instance of SchemaOptions."),i={});var o=new yv(i);return i.logger||(o.logger=n),o}}}},Gv=function(){function e(e){this._deprecationManager=e}var t=e.prototype;return t.apply=function(e){if(!e||!e.locale)return e;if(e.psnAccountLanguage||e.psnAccountRegion)return e;this.triggerDeprecation();var t=e.locale.split("_"),n=t[0]||void 0,r=t[1]||void 0,i=qn(e);return i.psnAccountLanguage=n,i.psnAccountRegion=r,delete i.locale,i},t.triggerDeprecation=function(){this._deprecationManager.trigger(new Uo({date:"2019-03-12",name:"environment.locale",description:'Please use "psnAccountLanguage" and "psnAccountRegion" instead of "locale".',overrideKey:"allowEnvironmentLocale"}))},e}(),Bv=function(e){return JSON.stringify(e,(function(e,t){return"sdkInstance"===e?"sdkInstance":"_"!==e[0]?t:void 0}),2)},Hv=function(){function e(){}return e.prototype.apply=function(e){if(!e)return e;if(!e.psnAccountRegion||!e.psnAccountLanguage)return e;var t=ds(e.psnAccountLanguage).languageId.toLowerCase(),n=e.psnAccountRegion.toUpperCase(),r="".concat(t,"_").concat(n),i=qn(e);return i.locale=r,i},e}(),Wv={telemetry:{_isUnifiedTelemetry:!1},services:{factories:{"/telemetry/serializer/defaultDebug":function(){return Bv},"/telemetry/MigrateLocaleToPsnAccount":function(e){var t=e.get("/deprecation/deprecationManager");return new Gv(t)},"/telemetry/BackFillLocaleFromPsnAccount":function(){return new Hv}}}},Yv=function(){function e(e){this._result=Boolean(e)}var t=e.prototype;return t.isRequestAllowed=function(e,t){return this._result},t.getSamplingPermilleForRequest=function(e,t){return this._result?1e3:0},e}(),xv=function(e){return function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}(e,"Object")},Kv=function(e){return void 0===e},zv=function(){},qv=function(){function e(e){this._idExtractor=e.idExtractor||zv,this._cutoffs=e.cutoffs||{},this._enableConfigPerDispatch=e.enableConfigPerDispatch}var t=e.prototype;return t.isAllowed=function(e,t,n){throw new Error("[Telemetry][AbstractThrottler] isAllowed() not implemented")},t.isRequestAllowed=function(e,t){var n,r=e.eventMetadata,i=e.config,o=r.eventName,a=((null===i||void 0===i?void 0:i.sampling)||{}).disableSampling;if(void 0!==a&&a)return!0;var c=this._enableConfigPerDispatch?(null===(n=i.sampling)||void 0===n?void 0:n.values)||{}:this._cutoffs,s=c[t]||{};if(!Kv(s[o]))return this.isAllowed(e,1e3,s[o]);if(!Kv(s["*"]))return this.isAllowed(e,1e3,s["*"]);var u=c["*"]||{};return Kv(u[o])?!Kv(u["*"])&&this.isAllowed(e,1e3,u["*"]):this.isAllowed(e,1e3,u[o])},t.getSamplingPermilleForRequest=function(e,t){var n,r=e.eventMetadata,i=e.config,o=r.eventName,a=((null===i||void 0===i?void 0:i.sampling)||{}).disableSampling;if(void 0!==a&&a)return 1e3;var c=this._enableConfigPerDispatch?(null===(n=i.sampling)||void 0===n?void 0:n.values)||{}:this._cutoffs,s=c[t]||{};if(!Kv(s[o]))return Math.floor(s[o]);if(!Kv(s["*"]))return Math.floor(s["*"]);var u=c["*"]||{};return Kv(u[o])?Kv(u["*"])?0:Math.floor(u["*"]):Math.floor(u[o])},e}(),Jv=function(e){return function(e){return"number"===typeof e&&isFinite(e)}(e)&&e||function(e){return"string"===typeof e}(e)&&Number(e)||0},Xv=function(){function e(e,t,n){this.cutoffs=this.parseCutoffs(e),this.idExtractor=t,this.enableConfigPerDispatch=!!n}return e.prototype.parseCutoffs=function(e){var t={};for(var n in e){var r=e[n];if(xv(r))for(var i in t[n]={},r)t[n][i]=Jv(r[i])}return t},e}(),Zv=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isAllowed=function(e,t,n){var r=this._idExtractor(e);if(!Ia(r))return!1;var i=r%t;return(n>=1e3||0!==i)&&i<=n},r}(qv);function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eh=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qv(n,!0).forEach((function(t){$v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{sampling:{values:function(e){if(!Sa(e))return{};var t,n={};for(var r in e){var i=e[r];if(Sa(i))for(var o in n[r]={},i){var a="*"!==o&&-1===o.indexOf(":")?"default:".concat(o):o;n[r][a]=1e3*(t=i[o],Ia(t)&&t||ga(t)&&Number(t)||0)}}return n}(e.samplingThresholds)}})},th=function(e){return 1e3*(e.config||{}).samplingChance};function nh(e){return(nh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rh=[t_,r_,i_,o_,a_,c_,s_,u_,I_,A_,O_,b_,N_,S_,jv,Wv,{samplingThresholds:void 0,samplingChance:void 0,services:{factories:{"/throttler/ThrottlerInterface":function(e){var t=e.get("config"),n=t,r=n.samplingChance,i=n.samplingThresholds,o="undefined"!==typeof r&&"undefined"!==typeof i,a="object"===nh(t.sampling);if(!o&&!a)return new Yv(!0);o&&(t=eh(t));var c=new Xv(t.sampling.values,th,!1);return new Zv(c)}}}}].reduce((function(e,t){return Ad(e,t)}),{});function ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oh=function(){function e(e){var t=this._fromEventTypeNamespace(e.type,e.namespace);this.eventLocalName=t.type,this.eventNamespace=t.namespace}var t,n,r;return e.prototype._fromEventTypeNamespace=function(e,t){if((e||"").indexOf(":")<0)return{type:e,namespace:t||"default"};var n=e.split(":"),r=n[0]||"default";return{type:n.slice(1).join(":"),namespace:r||"default"}},t=e,(n=[{key:"eventLocalName",get:function(){return this._eventLocalName},set:function(e){this._eventLocalName=e}},{key:"eventNamespace",get:function(){return this._eventNamespace},set:function(e){this._eventNamespace=e}},{key:"eventName",get:function(){return"".concat(this.eventNamespace,":").concat(this.eventLocalName)}}])&&ih(t.prototype,n),r&&ih(t,r),e}();function ah(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ch(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sh="platformPrivacyLevelChange",uh="signedInStateChange",ph={BasePlugin:Ss,AdobePlugin:Jy,ClairvoyancePlugin:Pr,KamajiPlugin:vr},lh={BaseEvent:Zy,ClickEvent:ed,ImpressionEvent:sd,LoadTimeEvent:ud,PageViewEvent:pd,StartupEvent:fd,UserFacingErrorEvent:yd,SearchEvent:ld,DwellEvent:id,VideoStreamEvent:_d,AdClickEvent:od,AdImpressionEvent:ad,AdVideoStreamEvent:cd},fh=function(){function e(e){var t=this,n=[{},rh,e].reduce((function(e,t){return Ad(e,t)}),{});n.plugins=e.plugins,this._config=n,this._transitionMigrateRegistryPlugins(),this._sharedServices=new $y(this.serviceLocator),this.serviceLocator.setService("config",n),this._validateTelemetryConfig(n),this.serviceLocator.setService("telemetryService",this),this._constructorInitPlatformPrivacyWs1(n.env||{}),this._constructorInitEnvironment(n.env||{}),this._sharedServices.logger.info("Resolved WS1 Setting.",{platformPrivacyLevel:this.platformPrivacyLevel}),this._lastPageView=void 0,Zy.setDispatcher(this.dispatch.bind(this)),this.initializeStaticDeprecationManager(),this._sharedServices.logger.debug("GCT Initialized.",(function(){var e=t.serviceLocator.get("/telemetry/serializer/defaultDebug");return{version:wu,config:e(t._config),filteredEnvironment:t.filteredEnvironment}}))}var t,n,r,i=e.prototype;return i._constructorInitEnvironment=function(e){this._requireValidEventEnvironment(e),this._legacyEnvironment=new Es(e),this._legacyEnvironmentControl=new vs(this._legacyEnvironment,{logger:this._sharedServices.logger,deprecationManager:this._sharedServices.deprecationManager}),this._processEventEnvironmentLegacyConstructor(this._legacyEnvironment,this._legacyEnvironmentControl)},i._processEventEnvironmentLegacyConstructor=function(e,t){e.withPlatformPrivacyWs1(this.platformPrivacyLevel),t.compat_resolveUndefinedSignedIn(),t.compat_resolveConstructorSignedOut()},i._requireValidEventEnvironment=function(e){if(!this.environmentValidator.isValid(e))throw new Error(Array.from(this.environmentValidator.messages.values()).join("; "))},i._transitionMigrateRegistryPlugins=function(){var e=this,t=Object.keys(md.PLUGINS);if(t.length){var n=this.serviceLocator;t.forEach((function(t){var r=e._pluginServiceKeyFor(t);if(n.has(r))throw new Error("The service ".concat(t," has been defined more than once."));var i=hd(t,md.PLUGINS[t]);n._factories[r]=i}))}},i.initializeStaticDeprecationManager=function(){this.serviceLocator.get("/deprecation/staticDeprecationManager")},i._validateTelemetryConfig=function(e){this._validatePluginIds(e)},i._parsePlatformPrivacyLevel=function(e){return this._sharedServices.schemaOptions.enabled?Sd({env:e}):Jo.EXEMPT},i._constructorInitPlatformPrivacyWs1=function(e){this._platformPrivacyLevel=this._parsePlatformPrivacyLevel(e)},i.setSignedInState=function(e,t,n,r){return Xn(t)?this._setSignedInStateV1(e,t,n,r):this._setSignedInStateV2(e,t,n,r)},i._setSignedInStateV2=function(e,t,n,r){this._legacyEnvironmentControl.compat_withUserSignedIn(e,void 0,n,r,t),this._sharedServices.eventManager.trigger(uh,this,{})},i._setSignedInStateV1=function(e,t,n,r){this._legacyEnvironmentControl.compat_withUserSignedIn(e,t,n,r,void 0),this._sharedServices.eventManager.trigger(uh,this,{})},i.setDMA=function(e){this._legacyEnvironmentControl.user_withDma(e)},i.setPostalCode=function(e){this._legacyEnvironmentControl.user_withPostalCode(e)},i.setNetworkType=function(e){this._legacyEnvironmentControl.platform_withNetworkType(e)},i.setUserSignedOut=function(){this._legacyEnvironmentControl.compat_withUserSignedOutBlankAssociated(),this._sharedServices.eventManager.trigger(uh,this,{})},i.setSignedOutState=function(){this.setUserSignedOut()},i.updatePlusUserStatus=function(e,t){this._legacyEnvironmentControl.compat_withPlusUserStatusAndType(e,t)},i.updatePSNowMembershipType=function(e){this._legacyEnvironmentControl.user_withPsNowMembershipType(e)},i.dispatch=function(e){var t=this._legacyEnvironment.value;return this.dispatch2WithLog(e,t,this.config)},i._processFallbackLocationFeature=function(e,t){if(!function(e){return e.useLastLocation&&!0===e.useLastLocation.enable}(e))return t;var n=qn(t);return this._dispatchTrackPageView(n),n},i.dispatch2WithLog=function(e,t,n){e||this._sharedServices.logger.error("Attempting to dispatch null or undefined.");var r=this.dispatch2(e,t,n);return function(e,t){var n=t.inputEvent&&!t.filteredEvent,r={inputEvent:t.inputEvent,filteredEvent:t.filteredEvent,messages:[],payloads:{}};t.payloads.forEach((function(e,t){r.payloads[t]=e})),n&&r.messages.push("Entire event was filtered."),e.debug("Dispatched Event",r)}(this._sharedServices.logger,r),r},i.dispatch2=function(e,t,n){var r=new oh(e);return this.dispatch3(e,t,n,r)},i.dispatch3=function(e,t,n,r){if(void 0!==r&&void 0!==r.eventLocalName||this._sharedServices.logger.error("eventMetaData eventLocalName can not be undefined."),void 0===e.type?e.type=r.eventLocalName:e.type!==r.eventLocalName&&this._sharedServices.logger.error("eventMetaData type conflict with inputEvent type."),!e)return new qi;e=this._processFallbackLocationFeature(n,e);var i=this._applyDeprecatedEnvironmentLocale(t),o=this._resolveActiveSchema(n,e),a=Sd({env:t}),c=_c(this._sharedServices.identifiers,this._sharedServices.logger,this._sharedServices.schemaOptions,this._sharedServices.throttler,this.pluginInstances,this._uriCensor,this._isUnifiedTelemetry,a,e,i,n,r,o);return this.eventInspector.addEvent(c),c},i._applyDeprecatedEnvironmentLocale=function(e){var t=this._serviceLocator.get("/telemetry/MigrateLocaleToPsnAccount"),n=this._serviceLocator.get("/telemetry/BackFillLocaleFromPsnAccount"),r=t.apply(e);return r=n.apply(r)},i._resolveActiveSchema=function(e){var t=this._sharedServices.schemaOptions,n=t.activeSchema,r=t.overlays,i=(e.schema||{}).overrideId;if(this._isUnifiedTelemetry&&i&&n.hasOverlay(i)){if(this._schemaCache||(this._schemaCache=new Map),!this._schemaCache.has(i)){var o=new sv({defaultSchema:{},schemaOverlays:[].concat(ah(r),ah(n.getOverlaysForId(i))),disableDefaultSchema:!0});this._schemaCache.set(i,o)}return this._schemaCache.get(i)}return n},i.plugin=function(e){if(!this.pluginInstances[e])throw new Error("Plugin with name '".concat(e,"' has not been registered."));return this.pluginInstances[e]},i._plugins=function(){var e=this,t=[];return Object.keys(this.pluginInstances).forEach((function(n){t.push(e.pluginInstances[n])})),t},i._pluginServiceKeyFor=function(e){return"/plugin/".concat(e)},i._isPluginRegistered=function(e){return this.serviceLocator.has(this._pluginServiceKeyFor(e))},i._validatePluginIds=function(e){var t=this;return Object.keys(e.plugins||[]).forEach((function(e){if(!t._isPluginRegistered(e))throw new Error("Invalid plugin '".concat(e,"'! Please register plugin first."))})),!0},i._instantiatePlugins=function(e){var t=this;this._pluginInstances={};var n=e?Object.keys(e):[];n.length&&n.forEach((function(e){var n=t._pluginServiceKeyFor(e);t._isPluginRegistered(e)&&(t._pluginInstances[e]||(t._pluginInstances[e]=t.serviceLocator.get(n)))}))},i._dispatchTrackPageView=function(e){"PageView"===e.type&&(this._lastPageView=e)},e.registerPlugin=function(t,n){var r=0!==Object.keys(md.PLUGINS).filter((function(e){return e.toLocaleLowerCase()===t.toLocaleLowerCase()})).length,i=!e.__isPluginRegistered(t);if(r||!i)throw new Error("The plugin '".concat(t,"' is already registered!"));md.register(e,t,n,"plugin")},e.unregisterPlugin=function(t){var n=Object.keys(md.PLUGINS),r=0!==n.filter((function(e){return e.toLocaleLowerCase()===t.toLocaleLowerCase()})).length,i=!e.__isPluginRegistered(t);!n.length||!r&&i||md.unregister(e,t,"plugin")},e.__resetStaticState=function(){e.staticDeprecationManager.__resetState&&e.staticDeprecationManager.__resetState(),e._staticDeprecationManager=void 0,e._pushEventAccessDeprecation=!1,e._pushPluginAccessDeprecation=!1},e.__isPluginRegistered=function(t){return Boolean(e[t]||ph[t])},e.__createTransitionPluginReference=function(t,n){e[t]=n,ph[t]=n},e.__createTransitionEventReference=function(t,n){e[t]=n,lh[t]=n},i.getEventSchema=function(e,t){var n=new oh(e);return(this._resolveActiveSchema(t).events||{})["default"===n.eventNamespace?n.eventLocalName:n.eventName]||{}},t=e,r=[{key:"staticDeprecationManager",get:function(){return e._staticDeprecationManager||(e._staticDeprecationManager=new qo),e._staticDeprecationManager}},{key:"VERSION",get:function(){return"v".concat(wu)}},{key:"Utils",get:function(){return Is}}],(n=[{key:"environmentValidator",get:function(){return this._environmentValidator||(this._environmentValidator=new ls),this._environmentValidator}},{key:"serviceLocator",get:function(){return this._serviceLocator||(this._serviceLocator=new Vr(this._config.services)),this._serviceLocator}},{key:"eventManager",get:function(){return this._sharedServices.eventManager}},{key:"identifiers",get:function(){return this._sharedServices.identifiers}},{key:"eventInspector",get:function(){return this._sharedServices.eventInspector}},{key:"pluginInstances",get:function(){return void 0===this._pluginInstances&&this._instantiatePlugins(this.config.plugins),this._pluginInstances}},{key:"platformPrivacyLevel",get:function(){return this._platformPrivacyLevel},set:function(e){var t=e;Zo(e)||(this._sharedServices.logger.error("InvalidArgument: Unknown value for platformPrivacyLevel. Using default of MINIMAL.",{level:e}),t=Jo.MINIMAL),this._platformPrivacyLevel=t,this._legacyEnvironment.withPlatformPrivacyWs1(this._platformPrivacyLevel),this._sharedServices.eventManager.trigger(sh,this)}},{key:"filteredEnvironment",get:function(){var e=this._legacyEnvironment.value,t=this._serviceLocator.get("/telemetry/BackFillLocaleFromPsnAccount").apply(e),n=this.platformPrivacyLevel,r=this._sharedServices.schemaOptions,i=La(r,n),o=Ca(r.activeSchema,i,t);return Object.freeze(o)}},{key:"config",get:function(){return this._config.env=this.filteredEnvironment,this._config}},{key:"_uriCensor",get:function(){return this.__uriCensor||(this.__uriCensor=this._serviceLocator.get("/privacy/uriCensor")),this.__uriCensor}},{key:"_isUnifiedTelemetry",get:function(){return this._config.telemetry._isUnifiedTelemetry}}])&&ch(t.prototype,n),r&&ch(t,r),e}();t.AGE_GROUP=Ic,t.API_STATUSES=Tc,t.AdClickEvent=od,t.AdImpressionEvent=ad,t.AdVideoStreamEvent=cd,t.AdobePlugin=Jy,t.BANNER_TYPES=Ac,t.BaseEvent=Zy,t.BasePlugin=Ss,t.CLICK_TYPES=Oc,t.COUNTRIES=bc,t.ClairvoyancePlugin=Pr,t.ClickEvent=ed,t.DEVICES=Rc,t.DwellEvent=id,t.FORM_ACTIONS=Nc,t.ImpressionEvent=sd,t.KamajiPlugin=vr,t.LOCALES=Cc,t.LoadTimeEvent=ud,t.NETWORKS=Pc,t.PAYMENT_METHODS=wc,t.PERSONALIZED_ADS=Vc,t.PRODUCT_TYPES=Dc,t.PSNOW_TYPES=Mc,t.PSPLUS_TYPES=Lc,t.PURCHASE_REC=Uc,t.PageViewEvent=pd,t.REMOTE_UPDATE_ENVIRONMENT=kc,t.SEVERITIES=Fc,t.STARTUP_TYPES=jc,t.STREAM_TYPES=Gc,t.SearchEvent=ld,t.StartupEvent=fd,t.TRANSACTION_TYPES=Bc,t.TelemetryService=fh,t.UserFacingErrorEvent=yd,t.VIDEO_ACTIONS=Hc,t.VIDEO_FORMATS=Yc,t.VIDEO_TYPES=Wc,t.VideoStreamEvent=_d,t.WINDOW_MODES=xc,t.buildDate="2020-10-14T06:49:48.129Z",t.version=wu,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n("dm4u"))}}]);